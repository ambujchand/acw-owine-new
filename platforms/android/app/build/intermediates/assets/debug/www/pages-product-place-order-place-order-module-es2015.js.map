{"version":3,"sources":["./src/app/pages/product/place-order/place-order.page.html","./src/app/pages/product/place-order/place-order-routing.module.ts","./src/app/pages/product/place-order/place-order.module.ts","./src/app/pages/product/place-order/place-order.page.scss","./src/app/pages/product/place-order/place-order.page.ts"],"names":[],"mappings":"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","file":"pages-product-place-order-place-order-module-es2015.js","sourcesContent":["export default \"\\n  <ion-header [translucent]=\\\"true\\\">\\n    <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-menu-button></ion-menu-button>\\n      </ion-buttons>\\n      <ion-title>Your Orders</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  \\n  <ion-content [fullscreen]=\\\"true\\\">\\n\\n\\n      <ion-list style=\\\"margin-left: 3vh;\\\">\\n          <ion-grid>\\n            <ion-row>\\n              <ion-col>\\n                <b>Product</b>\\n              </ion-col>\\n              <ion-col>\\n                <b>Quantity</b>\\n              </ion-col>\\n              <ion-col>\\n                <b>Unit Price</b>\\n              </ion-col>\\n              <ion-col>\\n                <b>Price</b>\\n              </ion-col>\\n            </ion-row>\\n\\n            <ion-row *ngFor=\\\"let order of placeOrderList\\\">\\n              <ion-col class=\\\"orderStype\\\">\\n                <p>{{order.product_name}}</p>\\n              </ion-col>\\n              <ion-col class=\\\"orderStype\\\">\\n                <p>{{order.order_qty}}</p>\\n              </ion-col>\\n              <ion-col class=\\\"orderStype\\\">\\n                <p>${{order.unit_price}}</p>\\n              </ion-col>\\n              <ion-col class=\\\"orderStype\\\">\\n                <p>${{order.unit_price * order.order_qty}}.00</p>\\n              </ion-col>\\n                </ion-row>\\n            <ion-row style=\\\"margin-top: 4vh;\\\">\\n              <ion-col class=\\\"orderStype\\\">\\n                <p>Subtotal : </p><br>\\n                <p>Total : </p>\\n              </ion-col>\\n              <ion-col class=\\\"orderStype\\\">\\n              </ion-col>\\n              <ion-col class=\\\"orderStype\\\">\\n              </ion-col>\\n              <ion-col class=\\\"orderStype\\\">\\n                <p>${{totalAmount}}</p><br>\\n                <p>${{totalAmount}}</p>\\n\\n              </ion-col>\\n            </ion-row>\\n            </ion-grid>\\n\\n      </ion-list>\\n  <ion-button (click)=\\\"placeOrder()\\\" class=\\\"orderButton\\\" expand=\\\"full\\\">Place Order</ion-button>\\n\\n      \\n  </ion-content>\\n  \";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PlaceOrderPage } from './place-order.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PlaceOrderPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PlaceOrderPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PlaceOrderPageRoutingModule } from './place-order-routing.module';\n\nimport { PlaceOrderPage } from './place-order.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PlaceOrderPageRoutingModule\n  ],\n  declarations: [PlaceOrderPage]\n})\nexport class PlaceOrderPageModule {}\n","export default \"ion-col {\\n  padding: 1px;\\n  margin: 1px;\\n  font-size: 15px;\\n}\\n\\n.orderStype {\\n  color: #6B3D1A;\\n  font-size: 15px;\\n}\\n\\np {\\n  padding: 0px;\\n  margin: 0px;\\n}\\n\\n.orderButton {\\n  position: fixed;\\n  bottom: 0px;\\n  width: 100%;\\n  height: 46px;\\n  font-size: 15px;\\n  margin: 0;\\n  color: #FFCC6A;\\n  text-transform: capitalize;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcHJvZHVjdC9wbGFjZS1vcmRlci9wbGFjZS1vcmRlci5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7QUFDSjs7QUFLQTtFQUNJLGNBQUE7RUFDQSxlQUFBO0FBRko7O0FBSUE7RUFDSSxZQUFBO0VBQ0EsV0FBQTtBQURKOztBQUlBO0VBQ0ksZUFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxTQUFBO0VBQ0EsY0FBQTtFQUNBLDBCQUFBO0FBREoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9wcm9kdWN0L3BsYWNlLW9yZGVyL3BsYWNlLW9yZGVyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb2x7XHJcbiAgICBwYWRkaW5nOiAxcHg7XHJcbiAgICBtYXJnaW46IDFweDtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxufVxyXG4vLyBpb24tZ3JpZHtcclxuLy8gICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuLy8gfVxyXG5cclxuLm9yZGVyU3R5cGV7XHJcbiAgICBjb2xvcjogIzZCM0QxQTtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxufVxyXG5we1xyXG4gICAgcGFkZGluZzogMHB4O1xyXG4gICAgbWFyZ2luOiAwcHg7XHJcbn1cclxuXHJcbi5vcmRlckJ1dHRvbiB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICBib3R0b206IDBweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiA0NnB4O1xyXG4gICAgZm9udC1zaXplOiAxNXB4O1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgY29sb3I6ICNGRkNDNkE7XHJcbiAgICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcclxufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { NavigationExtras, Router } from '@angular/router';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { ProductService } from '../../product.service';\n\n@Component({\n  selector: 'app-place-order',\n  templateUrl: './place-order.page.html',\n  styleUrls: ['./place-order.page.scss'],\n})\nexport class PlaceOrderPage implements OnInit {\n  \n  placeOrderList: any;\n  totalAmount: string;\n  placeOrderDetails: any[];\n\n  constructor(private loading : AlertService,private formBuilder: FormBuilder,private router: Router, private product : ProductService) { \n    if(this.router.getCurrentNavigation().extras.state){\n      this.placeOrderList =  this.router.getCurrentNavigation().extras.state.placeOrderList\n     }\n     this.chechOrdelList();\n  }\n\n  chechOrdelList(){\n    console.log(this.placeOrderList);\n    if (this.placeOrderList == undefined || this.placeOrderList == null) {\n        this.router.navigateByUrl('order-list');\n    } else{\n      let totalAmount = 0;\n      let details=[];\n      for (let i = 0; i < this.placeOrderList.length; i++) {\n        totalAmount  += this.placeOrderList[i].order_qty * parseInt(this.placeOrderList[i].unit_price);\n        details[i]={\n              \"product_id\": this.placeOrderList[i].id,\n              \"total_amount\": this.placeOrderList[i].unit_price * this.placeOrderList[i].order_qty,\n              \"qty\": this.placeOrderList[i].order_qty,\n        };\n      }\n      this.totalAmount = totalAmount.toFixed(2);\n      this.placeOrderDetails = details\n      console.log(totalAmount.toFixed(2));\n      console.log(details)\n    }\n  }\n\n  placeOrder(){\n      this.loading.present();\n      const postData = new FormData();\n      postData.append('order_number','ace_wine' + Math.random() * 9999);\n      postData.append('required_date','');\n      postData.append('sell_tex','');\n      postData.append('transact_status','1'); \n      postData.append('total_amount',this.totalAmount);\n      postData.append('order_details',JSON.stringify(this.placeOrderDetails));\n      this.product.placeOrder(postData).subscribe(\n      data => {\n        console.log(data);\n        this.loading.dismiss();\n        if(data.success){\n          this.loading.presentToastSuccess(data.success);\n          localStorage.removeItem('orderDetails');\n          let navigationExtras : NavigationExtras = {\n            state :{\n              order_id : data.order_id\n            }\n          }\n          this.router.navigate(['/order-tracking'] , navigationExtras);\n        }\n        if(data.error){\n          this.loading.presentToastError(data.error);\n        }\n      }, onerror => {\n      if (onerror.status==0) {\n        this.loading.presentToastWarning('check your internet connection.');\n        this.loading.dismiss();\n      } else if(onerror.status==500) {\n      this.loading.presentToastError('Server error.');\n      this.loading.dismiss();\n      }\n      });\n\n  }\n\n  // ionViewWillEnter(){\n   \n  // }\n  ngOnInit() {\n  }\n\n}\n"],"sourceRoot":"webpack:///"}