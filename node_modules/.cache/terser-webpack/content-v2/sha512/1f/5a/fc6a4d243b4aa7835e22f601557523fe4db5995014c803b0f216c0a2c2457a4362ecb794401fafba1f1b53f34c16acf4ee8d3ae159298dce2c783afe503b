{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{mYy9:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"ShowProductPageModule\",(function(){return show_product_module_ShowProductPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),tslib_es6=__webpack_require__(\"mrSG\"),sell_product_page=__webpack_require__(\"PSDb\"),core=__webpack_require__(\"fXoL\"),env_service=__webpack_require__(\"5zL6\"),alert_service=__webpack_require__(\"3LUQ\"),product_service=__webpack_require__(\"OyHp\");function ShowProductPage_div_16_div_16_Template(rf,ctx){if(1&rf){const _r6=core.Lb();core.Kb(0,\"div\",22),core.Kb(1,\"ion-grid\"),core.Kb(2,\"ion-row\"),core.Kb(3,\"ion-col\",23),core.Ib(4,\"img\",24),core.Jb(),core.Kb(5,\"ion-col\"),core.Kb(6,\"strong\",25),core.jc(7),core.Jb(),core.Kb(8,\"ion-grid\"),core.Kb(9,\"ion-row\"),core.Kb(10,\"ion-col\"),core.Kb(11,\"b\",26),core.jc(12),core.Jb(),core.Ib(13,\"br\"),core.Kb(14,\"span\",27),core.jc(15),core.Jb(),core.Ib(16,\"br\"),core.jc(17,\" Qty :- \"),core.Kb(18,\"strong\"),core.jc(19),core.Jb(),core.Jb(),core.Kb(20,\"ion-col\"),core.Kb(21,\"b\",28),core.jc(22),core.Jb(),core.Ib(23,\"br\"),core.Kb(24,\"div\",29),core.Kb(25,\"button\",30),core.jc(26,\"More\"),core.Jb(),core.Kb(27,\"button\",31),core.Sb(\"click\",(function(){core.fc(_r6);const details_r4=ctx.$implicit;return core.Ub(2).sellProduct(details_r4)})),core.jc(28,\"Sell\"),core.Jb(),core.Jb(),core.Jb(),core.Jb(),core.Jb(),core.Jb(),core.Jb(),core.Jb(),core.Jb()}if(2&rf){const details_r4=ctx.$implicit,ctx_r3=core.Ub(2);core.xb(4),core.cc(\"src\",\"\",ctx_r3.img_url,\"\",details_r4.image.image_url,\"\",core.gc),core.xb(3),core.kc(details_r4.product_name),core.xb(5),core.lc(\"\",details_r4.selling_price,\"/\"),core.xb(3),core.kc(details_r4.product_type),core.xb(4),core.kc(details_r4.qty),core.xb(3),core.kc(details_r4.brand_name)}}function ShowProductPage_div_16_Template(rf,ctx){if(1&rf){const _r8=core.Lb();core.Kb(0,\"div\",13),core.Kb(1,\"div\",14),core.Kb(2,\"a\",15),core.Kb(3,\"h4\",16),core.Kb(4,\"ion-grid\"),core.Kb(5,\"ion-row\"),core.Kb(6,\"ion-col\"),core.jc(7),core.Jb(),core.Kb(8,\"ion-col\",17),core.Kb(9,\"span\",18),core.Ib(10,\"ion-icon\",19),core.jc(11),core.Jb(),core.Jb(),core.Jb(),core.Jb(),core.Jb(),core.Jb(),core.Jb(),core.Kb(12,\"div\",20),core.Kb(13,\"div\",6),core.Ib(14,\"span\",7),core.Kb(15,\"ion-input\",8),core.Sb(\"ionInput\",(function($event){core.fc(_r8);const product_r1=ctx.$implicit,i_r2=ctx.index;return core.Ub().findProductName($event,product_r1.category_name,i_r2)})),core.Jb(),core.Jb(),core.ic(16,ShowProductPage_div_16_div_16_Template,29,7,\"div\",21),core.Jb(),core.Jb()}if(2&rf){const product_r1=ctx.$implicit;core.xb(2),core.bc(\"href\",\"#\",product_r1.category_name,\"\",core.gc),core.xb(5),core.lc(\" \",product_r1.category_name,\" \"),core.xb(4),core.kc(product_r1.total_amount),core.xb(1),core.ac(\"id\",product_r1.category_name),core.xb(4),core.Zb(\"ngForOf\",product_r1.products)}}const routes=[{path:\"\",component:(()=>{class ShowProductPage{constructor(routerOutlet,modalController,env,loading,formBuilder,router,product){this.routerOutlet=routerOutlet,this.modalController=modalController,this.env=env,this.loading=loading,this.formBuilder=formBuilder,this.router=router,this.product=product,this.sellProductDetails=[],this.img_url=env.IMG_URL}doRefresh(event){console.log(\"Begin async operation\"),setTimeout(()=>{console.log(\"Async operation has ended\"),event.target.complete()},2e3)}loadData(event){setTimeout(()=>{event.target.complete()},2e3)}ionViewWillEnter(){sessionStorage.removeItem(\"productData\"),this.getProduct()}getProduct(){this.loading.present(),this.product.getProducts().subscribe(data=>{console.log(data),this.products=data,this.allProducts=data,sessionStorage.setItem(\"productData\",JSON.stringify({datas:data})),this.loading.dismiss(),data.success&&(this.loading.dismiss(),this.loading.presentToastSuccess(data.success)),data.error&&(this.loading.dismiss(),this.loading.presentToastError(data.error))},onerror=>{0==onerror.status?(this.loading.presentToastWarning(\"check your internet connection.\"),this.loading.dismiss()):500==onerror.status&&(this.loading.dismiss(),this.loading.presentToastError(\"Server error.\"))})}findCategoryName(event){if(event.target.value.length>0){var data=[];for(let i=0;i<this.allProducts.length;i++)this.allProducts[i].category_name.slice(0,event.target.value.length)==event.target.value&&data.push(this.allProducts[i]);this.products=data}else this.products=this.allProducts}findProductName(event,category_name,index){var producrsData=JSON.parse(sessionStorage.getItem(\"productData\"));for(let i=0;i<producrsData.datas.length;i++)if(producrsData.datas[i].category_name==category_name)if(event.target.value.length>0){var data=[];for(let j=0;j<producrsData.datas[i].products.length;j++){const sellingPrice=producrsData.datas[i].products[j].selling_price,brandName=producrsData.datas[i].products[j].brand_name;producrsData.datas[i].products[j].product_name.slice(0,event.target.value.length)==event.target.value&&data.push(producrsData.datas[i].products[j]),sellingPrice.slice(0,event.target.value.length)==event.target.value&&data.push(producrsData.datas[i].products[j]),brandName.slice(0,event.target.value.length)==event.target.value&&data.push(producrsData.datas[i].products[j])}this.products[index].products=data}else this.products[index].products=producrsData.datas[i].products}sellProduct(productDetails){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){if(console.log(productDetails),productDetails.qty>0){this.sellProductDetails.push(productDetails);const modal=yield this.modalController.create({component:sell_product_page.a,cssClass:\"my-custom-class\",componentProps:{productDetails:this.sellProductDetails},swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl});return modal.onDidDismiss().then(data=>{console.log(data),data.data.success&&this.getProduct()}),yield modal.present()}this.loading.presentToastWarning(\"Not have a Product.\")}))}ngOnInit(){}}return ShowProductPage.ɵfac=function(t){return new(t||ShowProductPage)(core.Hb(ionic_angular.G),core.Hb(ionic_angular.T),core.Hb(env_service.a),core.Hb(alert_service.a),core.Hb(fesm2015_forms.a),core.Hb(router.g),core.Hb(product_service.a))},ShowProductPage.ɵcmp=core.Bb({type:ShowProductPage,selectors:[[\"app-show-product\"]],decls:19,vars:1,consts:[[\"slot\",\"start\"],[\"slot\",\"fixed\",3,\"ionRefresh\"],[\"pullingIcon\",\"chevron-down-circle-outline\",\"pullingText\",\"Pull to refresh\",\"refreshingSpinner\",\"circles\"],[\"vertical\",\"bottom\",\"horizontal\",\"end\",\"slot\",\"fixed\"],[\"routerLink\",\"/add-product\"],[\"name\",\"add\"],[1,\"form-group\",\"has-feedback\",\"has-search\",2,\"margin\",\"5px 4px\"],[1,\"glyphicon\",\"glyphicon-search\",\"form-control-feedback\"],[\"type\",\"text\",\"placeholder\",\"Search\",1,\"form-control\",3,\"ionInput\"],[\"id\",\"accordion\",1,\"panel-group\",2,\"margin\",\"5px 4px\"],[\"class\",\"panel panel-primary\",4,\"ngFor\",\"ngForOf\"],[\"threshold\",\"100px\",3,\"ionInfinite\"],[\"loadingSpinner\",\"bubbles\",\"loadingText\",\"Loading...\"],[1,\"panel\",\"panel-primary\"],[1,\"panel-heading\"],[\"data-toggle\",\"collapse\",\"data-parent\",\"#accordion\",3,\"href\"],[1,\"panel-title\",2,\"color\",\"white\"],[2,\"text-align\",\"right\"],[2,\"font-size\",\"15px\",\"font-weight\",\"bold\",\"color\",\"brown\",\"text-shadow\",\"1px 1px 0px black\"],[\"name\",\"wallet-outline\"],[1,\"panel-collapse\",\"collapse\",3,\"id\"],[\"class\",\"panel-body\",\"style\",\"padding: 2px;\",4,\"ngFor\",\"ngForOf\"],[1,\"panel-body\",2,\"padding\",\"2px\"],[\"size\",\"4\"],[\"height\",\"60\",\"width\",\"60\",3,\"src\"],[2,\"color\",\"brown\",\"font-size\",\"large\",\"font-style\",\"oblique\",\"font-family\",\"auto\"],[2,\"color\",\"darkgreen\",\"font-style\",\"oblique\",\"font-family\",\"auto\"],[2,\"font-size\",\"small\"],[1,\"text-capitalize\",\"info\"],[1,\"btn-group\",2,\"text-align\",\"center\"],[\"type\",\"button\",1,\"btn\",\"btn-primary\",\"btn-sm\"],[\"type\",\"button\",1,\"btn\",\"btn-info\",\"btn-sm\",3,\"click\"]],template:function(rf,ctx){1&rf&&(core.Kb(0,\"ion-header\"),core.Kb(1,\"ion-toolbar\"),core.Kb(2,\"ion-buttons\",0),core.Ib(3,\"ion-menu-button\"),core.Jb(),core.Kb(4,\"ion-title\"),core.jc(5,\"All Products\"),core.Jb(),core.Jb(),core.Jb(),core.Kb(6,\"ion-content\"),core.Kb(7,\"ion-refresher\",1),core.Sb(\"ionRefresh\",(function($event){return ctx.doRefresh($event)})),core.Ib(8,\"ion-refresher-content\",2),core.Jb(),core.Kb(9,\"ion-fab\",3),core.Kb(10,\"ion-fab-button\",4),core.Ib(11,\"ion-icon\",5),core.Jb(),core.Jb(),core.Kb(12,\"div\",6),core.Ib(13,\"span\",7),core.Kb(14,\"ion-input\",8),core.Sb(\"ionInput\",(function($event){return ctx.findCategoryName($event)})),core.Jb(),core.Jb(),core.Kb(15,\"div\",9),core.ic(16,ShowProductPage_div_16_Template,17,5,\"div\",10),core.Jb(),core.Kb(17,\"ion-infinite-scroll\",11),core.Sb(\"ionInfinite\",(function($event){return ctx.loadData($event)})),core.Ib(18,\"ion-infinite-scroll-content\",12),core.Jb(),core.Jb()),2&rf&&(core.xb(16),core.Zb(\"ngForOf\",ctx.products))},directives:[ionic_angular.o,ionic_angular.P,ionic_angular.d,ionic_angular.B,ionic_angular.O,ionic_angular.j,ionic_angular.E,ionic_angular.F,ionic_angular.l,ionic_angular.m,ionic_angular.X,router.h,ionic_angular.p,ionic_angular.s,ionic_angular.Z,common.i,ionic_angular.q,ionic_angular.r,ionic_angular.n,ionic_angular.H,ionic_angular.i],styles:[\"ion-col[_ngcontent-%COMP%]{padding:2px}ion-grid[_ngcontent-%COMP%], ion-list[_ngcontent-%COMP%]{padding:1.5px}.item-native[_ngcontent-%COMP%]{padding:3px}.item-inner[_ngcontent-%COMP%]{padding:1px}\"]}),ShowProductPage})()}];let show_product_routing_module_ShowProductPageRoutingModule=(()=>{class ShowProductPageRoutingModule{}return ShowProductPageRoutingModule.ɵmod=core.Fb({type:ShowProductPageRoutingModule}),ShowProductPageRoutingModule.ɵinj=core.Eb({factory:function(t){return new(t||ShowProductPageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),ShowProductPageRoutingModule})(),show_product_module_ShowProductPageModule=(()=>{class ShowProductPageModule{}return ShowProductPageModule.ɵmod=core.Fb({type:ShowProductPageModule}),ShowProductPageModule.ɵinj=core.Eb({factory:function(t){return new(t||ShowProductPageModule)},imports:[[common.b,fesm2015_forms.d,ionic_angular.Q,show_product_routing_module_ShowProductPageRoutingModule]]}),ShowProductPageModule})()}}]);","extractedComments":[]}