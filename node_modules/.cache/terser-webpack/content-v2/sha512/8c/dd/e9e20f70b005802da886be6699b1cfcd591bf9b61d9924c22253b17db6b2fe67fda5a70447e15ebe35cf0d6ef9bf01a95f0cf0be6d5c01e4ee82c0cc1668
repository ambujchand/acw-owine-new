{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{\"7Gnf\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"ProductCatagoryPageModule\",(function(){return product_catagory_module_ProductCatagoryPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),core=__webpack_require__(\"fXoL\"),env_service=__webpack_require__(\"5zL6\"),alert_service=__webpack_require__(\"3LUQ\"),product_service=__webpack_require__(\"qL+e\");function ProductCatagoryPage_ion_segment_button_15_Template(rf,ctx){if(1&rf&&(core.Ob(0,\"ion-segment-button\",12),core.Ob(1,\"ion-card\",13),core.Kb(2,\"img\",14),core.Kb(3,\"br\"),core.Ob(4,\"b\",15),core.jc(5),core.Nb(),core.Nb(),core.Nb()),2&rf){const resent_r2=ctx.$implicit;core.dc(\"value\",resent_r2.id),core.xb(2),core.dc(\"src\",resent_r2.image,core.gc),core.xb(3),core.kc(resent_r2.product_name)}}function ProductCatagoryPage_ion_col_20_Template(rf,ctx){if(1&rf){const _r5=core.Pb();core.Ob(0,\"ion-col\",16),core.Ob(1,\"ion-card\",17),core.Wb(\"click\",(function(){core.fc(_r5);const productCat_r3=ctx.$implicit;return core.Zb().catagoryProducts(productCat_r3.id)})),core.Kb(2,\"img\",18),core.Kb(3,\"br\"),core.Ob(4,\"strong\",19),core.jc(5),core.Nb(),core.Nb(),core.Nb()}if(2&rf){const productCat_r3=ctx.$implicit;core.xb(2),core.dc(\"src\",productCat_r3.image,core.gc),core.xb(3),core.kc(productCat_r3.name)}}const routes=[{path:\"\",component:(()=>{class ProductCatagoryPage{constructor(env,loading,router,product){this.env=env,this.loading=loading,this.router=router,this.product=product,this.ifLogin=JSON.parse(localStorage.getItem(\"user\")),this.imageUrl=env.IMG_URL}ionViewWillEnter(){this.getProductCategory()}doRefresh(event){console.log(\"Begin async operation\"),setTimeout(()=>{console.log(\"Async operation has ended\"),event.target.complete()},2e3)}loadData(event){setTimeout(()=>{console.log(\"Done\"),console.log(event),event.target.complete()},2e3)}findCategoryName(event){if(event.target.value.length>0){var data=[];for(let i=0;i<this.allProducts.length;i++)this.allProducts[i].name.toLowerCase().slice(0,event.target.value.length)==event.target.value.toLowerCase()&&data.push(this.allProducts[i]);this.productCategory=data}else this.productCategory=this.allProducts}getProductCategory(){this.loading.present();const postData=new FormData;postData.append(\"user_id\",this.ifLogin.user.id),this.product.getCategoryProductDetails(postData).subscribe(data=>{console.log(data),this.loading.dismiss(),this.productCategory=data.data.ProductC,this.allProducts=data.data.ProductC,this.resentPurc=data.data.RecentP},onerror=>{0==onerror.status?(this.loading.presentToastWarning(\"check your internet connection.\"),this.loading.dismiss()):500==onerror.status&&(this.loading.presentToastError(\"Server error.\"),this.loading.dismiss())})}catagoryProducts(categoryId){console.log(categoryId),this.router.navigate([\"/product-list\"],{state:{categoryId:categoryId}})}getScrollData(event){let resentProductDetails;console.log(event.detail.value),console.log(this.resentPurc);for(let i=0;i<this.resentPurc.length;i++)if(this.resentPurc[i].id==event.detail.value){resentProductDetails=this.resentPurc[i];break}this.router.navigate([\"/product-details\"],{state:{productDetails:resentProductDetails}})}ngOnInit(){}}return ProductCatagoryPage.ɵfac=function(t){return new(t||ProductCatagoryPage)(core.Jb(env_service.a),core.Jb(alert_service.a),core.Jb(router.g),core.Jb(product_service.a))},ProductCatagoryPage.ɵcmp=core.Db({type:ProductCatagoryPage,selectors:[[\"app-product-catagory\"]],decls:23,vars:2,consts:[[\"slot\",\"start\"],[\"slot\",\"end\"],[\"color\",\"info\",\"name\",\"notifications\"],[\"slot\",\"fixed\",3,\"ionRefresh\"],[\"pullingText\",\"Pull to refresh\",\"refreshingSpinner\",\"circles\"],[\"showCancelButton\",\"focus\",3,\"ionInput\"],[1,\"text-color\"],[\"scrollable\",\"\",3,\"ionChange\"],[\"class\",\"p-1\",3,\"value\",4,\"ngFor\",\"ngForOf\"],[\"size\",\"6\",4,\"ngFor\",\"ngForOf\"],[\"threshold\",\"100px\",3,\"ionInfinite\"],[\"loadingSpinner\",\"bubbles\",\"loadingText\",\"Loading...\"],[1,\"p-1\",3,\"value\"],[1,\"show-three\"],[1,\"imageClass\",3,\"src\"],[1,\"textStyle\"],[\"size\",\"6\"],[3,\"click\"],[2,\"height\",\"35vw\",\"width\",\"46vw\",3,\"src\"],[1,\"ml-2\"]],template:function(rf,ctx){1&rf&&(core.Ob(0,\"ion-header\"),core.Ob(1,\"ion-toolbar\"),core.Ob(2,\"ion-buttons\",0),core.Kb(3,\"ion-menu-button\"),core.Nb(),core.Ob(4,\"ion-buttons\",1),core.Kb(5,\"ion-icon\",2),core.Nb(),core.Ob(6,\"ion-title\"),core.jc(7,\"Product Catagory\"),core.Nb(),core.Nb(),core.Nb(),core.Ob(8,\"ion-content\"),core.Ob(9,\"ion-refresher\",3),core.Wb(\"ionRefresh\",(function($event){return ctx.doRefresh($event)})),core.Kb(10,\"ion-refresher-content\",4),core.Nb(),core.Ob(11,\"ion-searchbar\",5),core.Wb(\"ionInput\",(function($event){return ctx.findCategoryName($event)})),core.Nb(),core.Ob(12,\"Strong\",6),core.jc(13,\"Recently Purchased\"),core.Nb(),core.Ob(14,\"ion-segment\",7),core.Wb(\"ionChange\",(function($event){return ctx.getScrollData($event)})),core.ic(15,ProductCatagoryPage_ion_segment_button_15_Template,6,3,\"ion-segment-button\",8),core.Nb(),core.Ob(16,\"Strong\",6),core.jc(17,\"Product Catagory\"),core.Nb(),core.Ob(18,\"ion-grid\"),core.Ob(19,\"ion-row\"),core.ic(20,ProductCatagoryPage_ion_col_20_Template,6,2,\"ion-col\",9),core.Nb(),core.Nb(),core.Ob(21,\"ion-infinite-scroll\",10),core.Wb(\"ionInfinite\",(function($event){return ctx.loadData($event)})),core.Kb(22,\"ion-infinite-scroll-content\",11),core.Nb(),core.Nb()),2&rf&&(core.xb(15),core.cc(\"ngForOf\",ctx.resentPurc),core.xb(5),core.cc(\"ngForOf\",ctx.productCategory))},directives:[ionic_angular.m,ionic_angular.K,ionic_angular.d,ionic_angular.v,ionic_angular.n,ionic_angular.J,ionic_angular.h,ionic_angular.y,ionic_angular.z,ionic_angular.C,ionic_angular.T,ionic_angular.D,ionic_angular.S,common.h,ionic_angular.l,ionic_angular.B,ionic_angular.o,ionic_angular.p,ionic_angular.E,ionic_angular.e,ionic_angular.g],styles:[\".show-three[_ngcontent-%COMP%]{width:27vw}ion-segment-button[_ngcontent-%COMP%]{width:30vw}.text-color[_ngcontent-%COMP%]{color:#6b3d1a;font-weight:700;margin-left:3vw;margin-top:4px;margin-bottom:1px}ion-col[_ngcontent-%COMP%], ion-row[_ngcontent-%COMP%]{padding:0;margin:0}ion-card[_ngcontent-%COMP%]{padding:0;margin:3px}.imageClass[_ngcontent-%COMP%]{height:16vw;width:27vw}.textStyle[_ngcontent-%COMP%]{color:#6b3d1a}.textStyle[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:3vw}p[_ngcontent-%COMP%]{margin:1px}\"]}),ProductCatagoryPage})()}];let product_catagory_routing_module_ProductCatagoryPageRoutingModule=(()=>{class ProductCatagoryPageRoutingModule{}return ProductCatagoryPageRoutingModule.ɵmod=core.Hb({type:ProductCatagoryPageRoutingModule}),ProductCatagoryPageRoutingModule.ɵinj=core.Gb({factory:function(t){return new(t||ProductCatagoryPageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),ProductCatagoryPageRoutingModule})(),product_catagory_module_ProductCatagoryPageModule=(()=>{class ProductCatagoryPageModule{}return ProductCatagoryPageModule.ɵmod=core.Hb({type:ProductCatagoryPageModule}),ProductCatagoryPageModule.ɵinj=core.Gb({factory:function(t){return new(t||ProductCatagoryPageModule)},imports:[[common.b,fesm2015_forms.e,ionic_angular.L,product_catagory_routing_module_ProductCatagoryPageRoutingModule]]}),ProductCatagoryPageModule})()}}]);","extractedComments":[]}