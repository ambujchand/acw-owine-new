{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{XKzW:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"EmployeeListPageModule\",(function(){return employee_list_module_EmployeeListPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),tslib_es6=__webpack_require__(\"mrSG\"),core=__webpack_require__(\"fXoL\"),alert_service=__webpack_require__(\"3LUQ\"),employee_service=__webpack_require__(\"2HJl\");function EmployeeListPage_ion_grid_14_ion_col_2_Template(rf,ctx){1&rf&&(core.Ob(0,\"ion-col\",17),core.Kb(1,\"img\",18),core.Nb())}function EmployeeListPage_ion_grid_14_ion_col_3_Template(rf,ctx){if(1&rf&&(core.Ob(0,\"ion-col\",17),core.Kb(1,\"img\",19),core.Nb()),2&rf){const emplo_r1=core.Zb().$implicit;core.xb(1),core.dc(\"src\",emplo_r1.image,core.gc)}}function EmployeeListPage_ion_grid_14_Template(rf,ctx){if(1&rf){const _r6=core.Pb();core.Ob(0,\"ion-grid\"),core.Ob(1,\"ion-row\",11),core.ic(2,EmployeeListPage_ion_grid_14_ion_col_2_Template,2,0,\"ion-col\",12),core.ic(3,EmployeeListPage_ion_grid_14_ion_col_3_Template,2,1,\"ion-col\",12),core.Ob(4,\"ion-col\",13),core.Ob(5,\"b\"),core.jc(6),core.Nb(),core.Ob(7,\"p\"),core.jc(8),core.Nb(),core.Nb(),core.Ob(9,\"ion-col\",14),core.Ob(10,\"ion-icon\",15),core.Wb(\"click\",(function(){core.fc(_r6);const emplo_r1=ctx.$implicit;return core.Zb().editEmployee(emplo_r1)})),core.Nb(),core.Ob(11,\"ion-icon\",16),core.Wb(\"click\",(function(){core.fc(_r6);const emplo_r1=ctx.$implicit;return core.Zb().deleteEmployee(emplo_r1.id)})),core.Nb(),core.Nb(),core.Nb(),core.Nb()}if(2&rf){const emplo_r1=ctx.$implicit;core.xb(2),core.cc(\"ngIf\",!emplo_r1.image),core.xb(1),core.cc(\"ngIf\",emplo_r1.image),core.xb(3),core.kc(emplo_r1.name),core.xb(2),core.lc(\"Employee id : E000\",emplo_r1.id,\"\")}}const routes=[{path:\"\",component:(()=>{class EmployeeListPage{constructor(loading,router,empservices,alertController){this.loading=loading,this.router=router,this.empservices=empservices,this.alertController=alertController,this.allEmployees=[]}doRefresh(event){console.log(\"Begin async operation\"),this.getEmployees(),setTimeout(()=>{console.log(\"Async operation has ended\"),event.target.complete()},2e3)}loadData(event){setTimeout(()=>{console.log(\"Done\"),console.log(event),event.target.complete()},2e3)}ionViewWillEnter(){this.getEmployees()}findEmployeeName(event){if(console.log(this.allEmployees),event.target.value.length>0){var data=[];console.log(this.employee);for(let i=0;i<this.employee.length;i++)this.employee[i].name.toLowerCase().slice(0,event.target.value.length)==event.target.value.toLowerCase()&&data.push(this.employee[i]);this.allEmployees=data,console.log(this.allEmployees)}else this.allEmployees=this.employee}getEmployees(){this.loading.present();const postData=new FormData;postData.append(\"skip_id\",JSON.stringify(this.value)),this.empservices.getEmployeeDetails(postData).subscribe(data=>{console.log(data),this.employeeId=data.data,this.employee=data.data,this.allEmployees=data.data,data.length>0&&(this.value=this.value+data.data.length,this.allEmployees.push(data.data)),this.loading.dismiss()},onerror=>{0==onerror.status?(this.loading.presentToastWarning(\"check your internet connection.\"),this.loading.dismiss()):500==onerror.status&&(this.loading.presentToastError(\"Server error.\"),this.loading.dismiss())})}editEmployee(empDetails){console.log(empDetails),this.router.navigate([\"/create-employee\"],{state:{empDetails:empDetails}})}deleteEmployee(id){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){const alert=yield this.alertController.create({cssClass:\"my-custom-class\",header:\"Are You Sure\",message:\"<small>You Want To Delete This ?</small>\",buttons:[{text:\"Cancel\",role:\"cancel\",cssClass:\"success\"},{text:\"Ok\",handler:()=>{this.loading.present();const updateData=new FormData;updateData.append(\"id\",id),this.empservices.deleteEmployee(updateData).subscribe(data=>{console.log(data),this.loading.dismiss(),this.loading.presentToastSuccess(data.success),this.getEmployees()},onerror=>{0==onerror.status?(this.loading.presentToastWarning(\"check your internet connection.\"),this.loading.dismiss()):500==onerror.status&&(this.loading.dismiss(),this.loading.presentToastError(\"Server error.\"))})}}]});yield alert.present()}))}createEmployee(){this.router.navigateByUrl(\"/create-employee\")}ngOnInit(){}}return EmployeeListPage.ɵfac=function(t){return new(t||EmployeeListPage)(core.Jb(alert_service.a),core.Jb(router.g),core.Jb(employee_service.a),core.Jb(ionic_angular.a))},EmployeeListPage.ɵcmp=core.Db({type:EmployeeListPage,selectors:[[\"app-employee-list\"]],decls:17,vars:2,consts:[[\"slot\",\"start\"],[3,\"fullscreen\"],[\"slot\",\"fixed\",3,\"ionRefresh\"],[\"pullingText\",\"Pull to refresh\",\"refreshingSpinner\",\"circles\"],[\"vertical\",\"bottom\",\"horizontal\",\"end\",\"slot\",\"fixed\"],[3,\"click\"],[\"name\",\"add\"],[\"showCancelButton\",\"focus\",3,\"ionInput\"],[4,\"ngFor\",\"ngForOf\"],[\"threshold\",\"100px\",3,\"ionInfinite\"],[\"loadingSpinner\",\"bubbles\",\"loadingText\",\"Loading...\"],[2,\"background-color\",\"#FAFAFA\"],[\"size\",\"3\",4,\"ngIf\"],[1,\"textClass\"],[\"size\",\"3\",1,\"iconClass\",2,\"text-align\",\"center\"],[\"name\",\"create-outline\",3,\"click\"],[\"name\",\"close-circle\",2,\"color\",\"red\",3,\"click\"],[\"size\",\"3\"],[\"src\",\"assets/icons/test.jpg\",1,\"imageSize\"],[1,\"imageSize\",3,\"src\"]],template:function(rf,ctx){1&rf&&(core.Ob(0,\"ion-header\"),core.Ob(1,\"ion-toolbar\"),core.Ob(2,\"ion-buttons\",0),core.Kb(3,\"ion-menu-button\"),core.Nb(),core.Ob(4,\"ion-title\"),core.jc(5,\"Employee List\"),core.Nb(),core.Nb(),core.Nb(),core.Ob(6,\"ion-content\",1),core.Ob(7,\"ion-refresher\",2),core.Wb(\"ionRefresh\",(function($event){return ctx.doRefresh($event)})),core.Kb(8,\"ion-refresher-content\",3),core.Nb(),core.Ob(9,\"ion-fab\",4),core.Ob(10,\"ion-fab-button\",5),core.Wb(\"click\",(function(){return ctx.createEmployee()})),core.Kb(11,\"ion-icon\",6),core.Nb(),core.Nb(),core.Ob(12,\"ion-searchbar\",7),core.Wb(\"ionInput\",(function($event){return ctx.findEmployeeName($event)})),core.Nb(),core.Ob(13,\"ion-list\"),core.ic(14,EmployeeListPage_ion_grid_14_Template,12,4,\"ion-grid\",8),core.Nb(),core.Ob(15,\"ion-infinite-scroll\",9),core.Wb(\"ionInfinite\",(function($event){return ctx.loadData($event)})),core.Kb(16,\"ion-infinite-scroll-content\",10),core.Nb(),core.Nb()),2&rf&&(core.xb(6),core.cc(\"fullscreen\",!0),core.xb(8),core.cc(\"ngForOf\",ctx.allEmployees))},directives:[ionic_angular.m,ionic_angular.K,ionic_angular.d,ionic_angular.v,ionic_angular.J,ionic_angular.h,ionic_angular.y,ionic_angular.z,ionic_angular.j,ionic_angular.k,ionic_angular.n,ionic_angular.C,ionic_angular.T,ionic_angular.t,common.h,ionic_angular.o,ionic_angular.p,ionic_angular.l,ionic_angular.B,common.i,ionic_angular.g],styles:[\"p[_ngcontent-%COMP%]{margin:1px;padding:0;font-size:3vw}b[_ngcontent-%COMP%]{color:#6b3d1a}.scroll-content[_ngcontent-%COMP%]{padding-top:0!important}.iconClass[_ngcontent-%COMP%]{padding:0;margin:5vw 0 0}ion-icon[_ngcontent-%COMP%]{font-size:4vh;margin-left:1px}\"]}),EmployeeListPage})()}];let employee_list_routing_module_EmployeeListPageRoutingModule=(()=>{class EmployeeListPageRoutingModule{}return EmployeeListPageRoutingModule.ɵmod=core.Hb({type:EmployeeListPageRoutingModule}),EmployeeListPageRoutingModule.ɵinj=core.Gb({factory:function(t){return new(t||EmployeeListPageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),EmployeeListPageRoutingModule})();var http=__webpack_require__(\"tk/3\");let employee_list_module_EmployeeListPageModule=(()=>{class EmployeeListPageModule{}return EmployeeListPageModule.ɵmod=core.Hb({type:EmployeeListPageModule}),EmployeeListPageModule.ɵinj=core.Gb({factory:function(t){return new(t||EmployeeListPageModule)},imports:[[fesm2015_forms.l,router.i,http.b,common.b,fesm2015_forms.e,ionic_angular.L,employee_list_routing_module_EmployeeListPageRoutingModule]]}),EmployeeListPageModule})()}}]);","extractedComments":[]}