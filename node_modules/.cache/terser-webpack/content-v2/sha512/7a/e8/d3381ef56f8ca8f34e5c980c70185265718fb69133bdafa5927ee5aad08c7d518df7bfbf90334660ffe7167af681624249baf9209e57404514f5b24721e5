{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{\"716p\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"AddOrderPageModule\",(function(){return add_order_module_AddOrderPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),fesm2015_router=__webpack_require__(\"tyNb\"),core=__webpack_require__(\"fXoL\"),alert_service=__webpack_require__(\"3LUQ\"),ngx=__webpack_require__(\"KqBo\"),order_service=__webpack_require__(\"9Ryk\");function AddOrderPage_span_17_Template(rf,ctx){if(1&rf&&(core.Kb(0,\"span\"),core.Ib(1,\"img\",17),core.Jb()),2&rf){const ctx_r0=core.Ub();core.xb(1),core.Zb(\"src\",ctx_r0.photo,core.gc)}}const routes=[{path:\"\",component:(()=>{class AddOrderPage{constructor(loading,camera,formBuilder,router,order){this.loading=loading,this.camera=camera,this.formBuilder=formBuilder,this.router=router,this.order=order,this.getOrderForm=this.formBuilder.group({shop_id:[\"\",[fesm2015_forms.j.required]],order_image:[\"\"],order_type:[\"\",[fesm2015_forms.j.required]],product_name:[\"\",[fesm2015_forms.j.required]],customer_phone:[\"\",[fesm2015_forms.j.required]],order_price:[\"\",[fesm2015_forms.j.required]],advance_payment:[\"\",[fesm2015_forms.j.required]],delivery_date:[\"\",[fesm2015_forms.j.required]]});let shop=JSON.parse(localStorage.getItem(\"shop\"));this.getOrderForm.controls.shop_id.setValue(shop?shop.id[0].id:null)}doRefresh(event){console.log(\"Begin async operation\"),setTimeout(()=>{console.log(\"Async operation has ended\"),event.target.complete()},2e3)}captureImage(){this.camera.getPicture({quality:30,allowEdit:!0,saveToPhotoAlbum:!0,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then(imageData=>{this.photo=\"data:image/jpeg;base64,\"+imageData,this.getOrderForm.controls.order_image.setValue(this.photo?imageData:null)},err=>{console.log(err),this.loading.presentToastWarning(err)})}takePhoto(){this.camera.getPicture({quality:30,sourceType:this.camera.PictureSourceType.PHOTOLIBRARY,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,correctOrientation:!0}).then(dataImage=>{this.photo=\"data:image/jpeg;base64,\"+dataImage,this.getOrderForm.controls.order_image.setValue(this.photo?dataImage:null)},err=>{})}addOrders(){this.loading.present(),this.getOrderForm.controls.order_type.setValue(this.getOrderForm.value.order_type?this.getOrderForm.value.order_type.toLocaleUpperCase():null),this.order.addOrder(this.getOrderForm.value).subscribe(data=>{console.log(data),this.loading.dismiss(),this.loading.presentToastSuccess(data.success),this.router.navigateByUrl(\"/show-orders\")},onerror=>{0==onerror.status?(this.loading.presentToastWarning(\"check your internet connection.\"),this.loading.dismiss()):500==onerror.status&&(this.loading.dismiss(),this.loading.presentToastError(\"Server error.\"))})}ngOnInit(){}}return AddOrderPage.ɵfac=function(t){return new(t||AddOrderPage)(core.Hb(alert_service.a),core.Hb(ngx.a),core.Hb(fesm2015_forms.a),core.Hb(fesm2015_router.g),core.Hb(order_service.a))},AddOrderPage.ɵcmp=core.Bb({type:AddOrderPage,selectors:[[\"app-add-order\"]],decls:49,vars:3,consts:[[\"slot\",\"start\"],[\"slot\",\"fixed\",3,\"ionRefresh\"],[\"pullingIcon\",\"chevron-down-circle-outline\",\"pullingText\",\"Pull to refresh\",\"refreshingSpinner\",\"circles\"],[3,\"formGroup\",\"ngSubmit\"],[2,\"margin-top\",\"10px\"],[\"name\",\"camera-outline\",1,\"choseCamera\",3,\"click\"],[1,\"selectCamera\"],[\"name\",\"image-outline\",3,\"click\"],[4,\"ngIf\"],[\"position\",\"floating\"],[\"type\",\"name\",\"formControlName\",\"order_type\"],[\"type\",\"name\",\"formControlName\",\"product_name\"],[\"type\",\"number\",\"formControlName\",\"customer_phone\"],[\"type\",\"number\",\"formControlName\",\"order_price\"],[\"type\",\"name\",\"formControlName\",\"advance_payment\"],[\"formControlName\",\"delivery_date\",\"displayFormat\",\"DD/MM/YYYY\"],[\"type\",\"submit\",\"shape\",\"round\",\"color\",\"success\",\"expand\",\"block\",3,\"disabled\"],[\"height\",\"60\",\"width\",\"60\",1,\"imageClasss\",3,\"src\"]],template:function(rf,ctx){1&rf&&(core.Kb(0,\"ion-header\"),core.Kb(1,\"ion-toolbar\"),core.Kb(2,\"ion-buttons\",0),core.Ib(3,\"ion-menu-button\"),core.Jb(),core.Kb(4,\"ion-title\"),core.jc(5,\"Get Orders\"),core.Jb(),core.Jb(),core.Jb(),core.Kb(6,\"ion-content\"),core.Kb(7,\"ion-refresher\",1),core.Sb(\"ionRefresh\",(function($event){return ctx.doRefresh($event)})),core.Ib(8,\"ion-refresher-content\",2),core.Jb(),core.Kb(9,\"form\",3),core.Sb(\"ngSubmit\",(function(){return ctx.addOrders()})),core.Kb(10,\"ion-card\",4),core.Kb(11,\"ion-item\"),core.Kb(12,\"div\"),core.Kb(13,\"ion-icon\",5),core.Sb(\"click\",(function(){return ctx.captureImage()})),core.Jb(),core.Jb(),core.Kb(14,\"div\",6),core.Kb(15,\"ion-icon\",7),core.Sb(\"click\",(function(){return ctx.takePhoto()})),core.Jb(),core.Jb(),core.Kb(16,\"div\"),core.ic(17,AddOrderPage_span_17_Template,2,1,\"span\",8),core.Jb(),core.Jb(),core.Jb(),core.Kb(18,\"ion-card\"),core.Kb(19,\"ion-item\"),core.Kb(20,\"ion-label\",9),core.jc(21,\"Order Type\"),core.Jb(),core.Ib(22,\"ion-input\",10),core.Jb(),core.Jb(),core.Kb(23,\"ion-card\"),core.Kb(24,\"ion-item\"),core.Kb(25,\"ion-label\",9),core.jc(26,\"Product Name\"),core.Jb(),core.Ib(27,\"ion-input\",11),core.Jb(),core.Jb(),core.Kb(28,\"ion-card\"),core.Kb(29,\"ion-item\"),core.Kb(30,\"ion-label\",9),core.jc(31,\"Customer Phone\"),core.Jb(),core.Ib(32,\"ion-input\",12),core.Jb(),core.Jb(),core.Kb(33,\"ion-card\"),core.Kb(34,\"ion-item\"),core.Kb(35,\"ion-label\",9),core.jc(36,\"Order Price\"),core.Jb(),core.Ib(37,\"ion-input\",13),core.Jb(),core.Jb(),core.Kb(38,\"ion-card\"),core.Kb(39,\"ion-item\"),core.Kb(40,\"ion-label\",9),core.jc(41,\"Advance Payment\"),core.Jb(),core.Ib(42,\"ion-input\",14),core.Jb(),core.Jb(),core.Kb(43,\"ion-item\"),core.Kb(44,\"ion-label\"),core.jc(45,\"Delivery Date\"),core.Jb(),core.Ib(46,\"ion-datetime\",15),core.Jb(),core.Kb(47,\"ion-button\",16),core.jc(48,\"Submit\"),core.Jb(),core.Jb(),core.Jb()),2&rf&&(core.xb(9),core.Zb(\"formGroup\",ctx.getOrderForm),core.xb(8),core.Zb(\"ngIf\",ctx.photo),core.xb(30),core.Zb(\"disabled\",!ctx.getOrderForm.valid))},directives:[ionic_angular.o,ionic_angular.P,ionic_angular.d,ionic_angular.B,ionic_angular.O,ionic_angular.j,ionic_angular.E,ionic_angular.F,fesm2015_forms.k,fesm2015_forms.h,fesm2015_forms.c,ionic_angular.e,ionic_angular.t,ionic_angular.p,common.j,ionic_angular.x,ionic_angular.s,ionic_angular.Z,fesm2015_forms.g,fesm2015_forms.b,ionic_angular.V,ionic_angular.k,ionic_angular.Y,ionic_angular.c],styles:[\".choseCamera[_ngcontent-%COMP%]{font-size:40px;margin-right:15px}.selectCamera[_ngcontent-%COMP%]{font-size:35px;margin-right:15px}.uploads[_ngcontent-%COMP%]{font-size:30px;margin-left:15px}.imageClasss[_ngcontent-%COMP%]{margin-left:10px;border-radius:25px;border:1px solid #00f}\"]}),AddOrderPage})()}];let add_order_routing_module_AddOrderPageRoutingModule=(()=>{class AddOrderPageRoutingModule{}return AddOrderPageRoutingModule.ɵmod=core.Fb({type:AddOrderPageRoutingModule}),AddOrderPageRoutingModule.ɵinj=core.Eb({factory:function(t){return new(t||AddOrderPageRoutingModule)},imports:[[fesm2015_router.i.forChild(routes)],fesm2015_router.i]}),AddOrderPageRoutingModule})();var http=__webpack_require__(\"tk/3\");let add_order_module_AddOrderPageModule=(()=>{class AddOrderPageModule{}return AddOrderPageModule.ɵmod=core.Fb({type:AddOrderPageModule}),AddOrderPageModule.ɵinj=core.Eb({factory:function(t){return new(t||AddOrderPageModule)},imports:[[fesm2015_forms.i,fesm2015_router.i,http.b,common.b,fesm2015_forms.d,ionic_angular.Q,add_order_routing_module_AddOrderPageRoutingModule]]}),AddOrderPageModule})()}}]);","extractedComments":[]}