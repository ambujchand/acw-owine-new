{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{\"4Vki\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"CreateEmployeePageModule\",(function(){return create_employee_module_CreateEmployeePageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),fesm2015_router=__webpack_require__(\"tyNb\"),core=__webpack_require__(\"fXoL\"),ngx=__webpack_require__(\"KqBo\"),alert_service=__webpack_require__(\"3LUQ\"),employee_service=__webpack_require__(\"2HJl\");function CreateEmployeePage_ion_col_15_Template(rf,ctx){if(1&rf&&(core.Ob(0,\"ion-col\"),core.Kb(1,\"img\",21),core.Nb()),2&rf){const ctx_r0=core.Zb();core.xb(1),core.cc(\"src\",ctx_r0.photo,core.gc)}}function CreateEmployeePage_ion_col_16_Template(rf,ctx){1&rf&&(core.Ob(0,\"ion-col\"),core.Kb(1,\"img\",22),core.Nb())}function CreateEmployeePage_ion_card_27_Template(rf,ctx){1&rf&&(core.Ob(0,\"ion-card\"),core.Ob(1,\"ion-item\"),core.Ob(2,\"ion-label\",11),core.jc(3,\"UserName\"),core.Nb(),core.Kb(4,\"ion-input\",23),core.Kb(5,\"ion-icon\",24),core.Nb(),core.Nb())}function CreateEmployeePage_ion_card_28_Template(rf,ctx){1&rf&&(core.Ob(0,\"ion-card\"),core.Ob(1,\"ion-item\"),core.Ob(2,\"ion-label\",11),core.jc(3,\"Password\"),core.Nb(),core.Kb(4,\"ion-input\",25),core.Kb(5,\"ion-icon\",26),core.Nb(),core.Nb())}function CreateEmployeePage_ion_card_29_Template(rf,ctx){1&rf&&(core.Ob(0,\"ion-card\"),core.Ob(1,\"ion-item\"),core.Ob(2,\"ion-label\",11),core.jc(3,\"Confirm Password\"),core.Nb(),core.Kb(4,\"ion-input\",27),core.Kb(5,\"ion-icon\",26),core.Nb(),core.Nb())}const routes=[{path:\"\",component:(()=>{class CreateEmployeePage{constructor(modalController,camera,loading,formBuilder,router,employee){this.modalController=modalController,this.camera=camera,this.loading=loading,this.formBuilder=formBuilder,this.router=router,this.employee=employee,this.addEmployeeForm=this.formBuilder.group({id:[\"\"],name:[\"\",[fesm2015_forms.n.required]],username:[\"\"],password:[\"\"],confirm_password:[\"\"],mobile:[\"\",[fesm2015_forms.n.required,fesm2015_forms.n.maxLength(12),fesm2015_forms.n.minLength(10)]],email:[\"\",[fesm2015_forms.n.required]],image:[\"\"],location:[\"\"]}),this.ifLogin=JSON.parse(localStorage.getItem(\"user\")),this.router.getCurrentNavigation().extras.state&&(this.employeeDetails=this.router.getCurrentNavigation().extras.state.empDetails,console.log(this.employeeDetails),this.photo=this.employeeDetails?this.employeeDetails.image:\"\",this.addEmployeeForm.controls.id.setValue(this.employeeDetails?this.employeeDetails.id:\"\"),this.addEmployeeForm.controls.name.setValue(this.employeeDetails?this.employeeDetails.name:\"\"),this.addEmployeeForm.controls.mobile.setValue(this.employeeDetails?this.employeeDetails.mobile:\"\"),this.addEmployeeForm.controls.email.setValue(this.employeeDetails?this.employeeDetails.email:\"\"),this.addEmployeeForm.controls.location.setValue(this.employeeDetails?this.employeeDetails.location:\"\"))}doRefresh(event){console.log(\"Begin async operation\"),setTimeout(()=>{console.log(\"Async operation has ended\"),event.target.complete()},2e3)}addEmployee(){this.loading.present(),console.log(this.addEmployeeForm.value),this.employee.addEmployee(this.addEmployeeForm.value).subscribe(data=>{console.log(data),this.loading.dismiss(),\"success\"==data.type&&(this.loading.dismiss(),this.loading.presentToastSuccess(data.msg),this.router.navigateByUrl(\"/employee-list\")),\"error\"==data.type&&(this.loading.dismiss(),this.loading.presentToastError(data.msg))},onerror=>{0==onerror.status?(this.loading.presentToastWarning(\"check your internet connection.\"),this.loading.dismiss()):500==onerror.status&&(this.loading.dismiss(),this.loading.presentToastError(\"Server error.\"))})}takePhoto(){this.camera.getPicture({quality:30,allowEdit:!0,saveToPhotoAlbum:!0,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then(imageData=>{this.photo=\"data:image/jpeg;base64,\"+imageData,this.image=imageData,this.addEmployeeForm.controls.image.setValue(imageData||\"\")},err=>{console.log(err),this.loading.presentToastWarning(err)})}getPhoto(){this.camera.getPicture({quality:30,sourceType:this.camera.PictureSourceType.PHOTOLIBRARY,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,correctOrientation:!0}).then(dataImage=>{this.photo=\"data:image/jpeg;base64,\"+dataImage,this.image=dataImage,this.addEmployeeForm.controls.image.setValue(dataImage||\"\")},err=>{})}ngOnInit(){}}return CreateEmployeePage.ɵfac=function(t){return new(t||CreateEmployeePage)(core.Jb(ionic_angular.O),core.Jb(ngx.a),core.Jb(alert_service.a),core.Jb(fesm2015_forms.b),core.Jb(fesm2015_router.g),core.Jb(employee_service.a))},CreateEmployeePage.ɵcmp=core.Db({type:CreateEmployeePage,selectors:[[\"app-create-employee\"]],decls:50,vars:7,consts:[[\"slot\",\"start\"],[\"slot\",\"fixed\",3,\"ionRefresh\"],[\"pullingText\",\"Pull to refresh\",\"refreshingSpinner\",\"circles\"],[3,\"formGroup\",\"ngSubmit\"],[1,\"imgStyle\"],[1,\"photoStyle\",3,\"click\"],[\"name\",\"camera-outline\"],[4,\"ngIf\"],[\"name\",\"image-outline\"],[1,\"p-0\",\"m-0\",2,\"text-align\",\"center\",\"font-size\",\"15px\"],[2,\"margin-top\",\"10px\"],[\"position\",\"floating\"],[\"required\",\"true\",\"type\",\"name\",\"formControlName\",\"name\"],[\"name\",\"man\",\"slot\",\"start\"],[\"required\",\"true\",\"type\",\"number\",\"formControlName\",\"mobile\"],[\"name\",\"call\",\"slot\",\"start\"],[\"required\",\"true\",\"type\",\"email\",\"formControlName\",\"email\"],[\"name\",\"mail\",\"slot\",\"start\"],[\"type\",\"name\",\"formControlName\",\"location\"],[\"name\",\"location\",\"slot\",\"start\"],[\"type\",\"submit\",\"shape\",\"round\",\"color\",\"success\",\"expand\",\"block\",3,\"disabled\"],[3,\"src\"],[\"src\",\"assets/icons/test.jpg\"],[\"required\",\"true\",\"type\",\"name\",\"formControlName\",\"username\"],[\"name\",\"person\",\"slot\",\"start\"],[\"required\",\"true\",\"type\",\"password\",\"formControlName\",\"password\"],[\"name\",\"key\",\"slot\",\"start\"],[\"required\",\"true\",\"type\",\"password\",\"formControlName\",\"confirm_password\"]],template:function(rf,ctx){1&rf&&(core.Ob(0,\"ion-header\"),core.Ob(1,\"ion-toolbar\"),core.Ob(2,\"ion-buttons\",0),core.Kb(3,\"ion-menu-button\"),core.Nb(),core.Ob(4,\"ion-title\"),core.jc(5,\"Create Employee\"),core.Nb(),core.Nb(),core.Nb(),core.Ob(6,\"ion-content\"),core.Ob(7,\"ion-refresher\",1),core.Wb(\"ionRefresh\",(function($event){return ctx.doRefresh($event)})),core.Kb(8,\"ion-refresher-content\",2),core.Nb(),core.Ob(9,\"form\",3),core.Wb(\"ngSubmit\",(function(){return ctx.addEmployee()})),core.Ob(10,\"div\",4),core.Ob(11,\"ion-grid\"),core.Ob(12,\"ion-row\"),core.Ob(13,\"ion-col\",5),core.Wb(\"click\",(function(){return ctx.takePhoto()})),core.Kb(14,\"ion-icon\",6),core.Nb(),core.ic(15,CreateEmployeePage_ion_col_15_Template,2,1,\"ion-col\",7),core.ic(16,CreateEmployeePage_ion_col_16_Template,2,0,\"ion-col\",7),core.Ob(17,\"ion-col\",5),core.Wb(\"click\",(function(){return ctx.getPhoto()})),core.Kb(18,\"ion-icon\",8),core.Nb(),core.Nb(),core.Nb(),core.Nb(),core.Ob(19,\"p\",9),core.jc(20,\"Employee Information\"),core.Nb(),core.Ob(21,\"ion-card\",10),core.Ob(22,\"ion-item\"),core.Ob(23,\"ion-label\",11),core.jc(24,\"Employee Name\"),core.Nb(),core.Kb(25,\"ion-input\",12),core.Kb(26,\"ion-icon\",13),core.Nb(),core.Nb(),core.ic(27,CreateEmployeePage_ion_card_27_Template,6,0,\"ion-card\",7),core.ic(28,CreateEmployeePage_ion_card_28_Template,6,0,\"ion-card\",7),core.ic(29,CreateEmployeePage_ion_card_29_Template,6,0,\"ion-card\",7),core.Ob(30,\"ion-card\"),core.Ob(31,\"ion-item\"),core.Ob(32,\"ion-label\",11),core.jc(33,\"Phone\"),core.Nb(),core.Kb(34,\"ion-input\",14),core.Kb(35,\"ion-icon\",15),core.Nb(),core.Nb(),core.Ob(36,\"ion-card\"),core.Ob(37,\"ion-item\"),core.Ob(38,\"ion-label\",11),core.jc(39,\"Email\"),core.Nb(),core.Kb(40,\"ion-input\",16),core.Kb(41,\"ion-icon\",17),core.Nb(),core.Nb(),core.Ob(42,\"ion-card\"),core.Ob(43,\"ion-item\"),core.Ob(44,\"ion-label\",11),core.jc(45,\"Location\"),core.Nb(),core.Kb(46,\"ion-input\",18),core.Kb(47,\"ion-icon\",19),core.Nb(),core.Nb(),core.Ob(48,\"ion-button\",20),core.jc(49,\"Submit\"),core.Nb(),core.Nb(),core.Nb()),2&rf&&(core.xb(9),core.cc(\"formGroup\",ctx.addEmployeeForm),core.xb(6),core.cc(\"ngIf\",ctx.photo),core.xb(1),core.cc(\"ngIf\",!ctx.photo),core.xb(11),core.cc(\"ngIf\",!ctx.employeeDetails),core.xb(1),core.cc(\"ngIf\",!ctx.employeeDetails),core.xb(1),core.cc(\"ngIf\",!ctx.employeeDetails),core.xb(19),core.cc(\"disabled\",!ctx.addEmployeeForm.valid))},directives:[ionic_angular.m,ionic_angular.K,ionic_angular.d,ionic_angular.v,ionic_angular.J,ionic_angular.h,ionic_angular.y,ionic_angular.z,fesm2015_forms.o,fesm2015_forms.i,fesm2015_forms.d,ionic_angular.l,ionic_angular.B,ionic_angular.g,ionic_angular.n,common.i,ionic_angular.e,ionic_angular.r,ionic_angular.s,ionic_angular.q,ionic_angular.T,fesm2015_forms.m,fesm2015_forms.h,fesm2015_forms.c,ionic_angular.P,ionic_angular.c],styles:[\"ion-item[_ngcontent-%COMP%]{border-radius:5px!important;font-size:4vw;border:1px solid #bdb8b8!important;--background:rgb(255 255 255)!important}.item-native[_ngcontent-%COMP%]{padding:16px}.item-inner[_ngcontent-%COMP%]{padding:0!important}ion-icon[_ngcontent-%COMP%]{margin:5vw 1vw 1vw 0}.imgStyle[_ngcontent-%COMP%]{text-align:center}img[_ngcontent-%COMP%]{height:14vh;width:14vh;border-radius:50px;margin-top:1vh}.photoStyle[_ngcontent-%COMP%]{font-size:5vh;margin-top:3vh}\"]}),CreateEmployeePage})()}];let create_employee_routing_module_CreateEmployeePageRoutingModule=(()=>{class CreateEmployeePageRoutingModule{}return CreateEmployeePageRoutingModule.ɵmod=core.Hb({type:CreateEmployeePageRoutingModule}),CreateEmployeePageRoutingModule.ɵinj=core.Gb({factory:function(t){return new(t||CreateEmployeePageRoutingModule)},imports:[[fesm2015_router.i.forChild(routes)],fesm2015_router.i]}),CreateEmployeePageRoutingModule})();var http=__webpack_require__(\"tk/3\");let create_employee_module_CreateEmployeePageModule=(()=>{class CreateEmployeePageModule{}return CreateEmployeePageModule.ɵmod=core.Hb({type:CreateEmployeePageModule}),CreateEmployeePageModule.ɵinj=core.Gb({factory:function(t){return new(t||CreateEmployeePageModule)},imports:[[fesm2015_forms.l,fesm2015_router.i,http.b,common.b,fesm2015_forms.e,ionic_angular.L,create_employee_routing_module_CreateEmployeePageRoutingModule]]}),CreateEmployeePageModule})()}}]);","extractedComments":[]}