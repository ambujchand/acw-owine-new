{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{sRk8:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"ShowOrderPageModule\",(function(){return show_order_module_ShowOrderPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),tslib_es6=__webpack_require__(\"mrSG\"),order_history_page=__webpack_require__(\"Uyt4\"),core=__webpack_require__(\"fXoL\"),alert_service=__webpack_require__(\"3LUQ\"),order_service=__webpack_require__(\"9Ryk\");function ShowOrderPage_ion_row_13_ion_card_1_Template(rf,ctx){if(1&rf){const _r7=core.Lb();core.Kb(0,\"ion-card\"),core.Kb(1,\"ion-col\",9),core.Sb(\"click\",(function(){core.fc(_r7);const data_r4=ctx.$implicit;return core.Ub(2).orderHistory(data_r4.order_history)})),core.Kb(2,\"strong\",10),core.jc(3),core.Jb(),core.jc(4),core.Jb(),core.Jb()}if(2&rf){const data_r4=ctx.$implicit;core.xb(3),core.kc(data_r4.order_type),core.xb(1),core.lc(\" \",data_r4.order_history.length,\" \")}}function ShowOrderPage_ion_row_13_Template(rf,ctx){if(1&rf&&(core.Kb(0,\"ion-row\"),core.ic(1,ShowOrderPage_ion_row_13_ion_card_1_Template,5,2,\"ion-card\",6),core.Jb()),2&rf){const eachData_r1=ctx.$implicit;core.xb(1),core.Zb(\"ngForOf\",eachData_r1)}}const routes=[{path:\"\",component:(()=>{class ShowOrderPage{constructor(modalController,loading,router,order){this.modalController=modalController,this.loading=loading,this.router=router,this.order=order,this.alldata=[]}ionViewWillEnter(){this.value=0,this.alldata=[],this.getOrders()}loadData(event){setTimeout(()=>{console.log(\"Done\"),console.log(event),this.getOrders(),event.target.complete()},2e3)}doRefresh(event){console.log(\"Begin async operation\"),this.getOrders(),setTimeout(()=>{console.log(\"Async operation has ended\"),event.target.complete()},2e3)}getOrders(){this.loading.present();const postData=new FormData;postData.append(\"skip_id\",JSON.stringify(this.value)),this.order.getOrders(postData).subscribe(data=>{console.log(data),data.length>0&&(this.value=this.value+data.length,this.alldata.push(data)),this.loading.dismiss()},onerror=>{0==onerror.status?(this.loading.presentToastWarning(\"check your internet connection.\"),this.loading.dismiss()):500==onerror.status&&(this.loading.presentToastError(\"Server error.\"),this.loading.dismiss())})}orderHistory(orderHistory){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){if(console.log(orderHistory),orderHistory.length>0){const modal=yield this.modalController.create({component:order_history_page.a,cssClass:\"my-custom-class\",componentProps:{orderHistory:orderHistory},swipeToClose:!0,backdropDismiss:!0,showBackdrop:!0});return modal.onDidDismiss().then(data=>{console.log(data),this.value=0,this.alldata=[],this.getOrders()}),yield modal.present()}this.loading.presentToastWarning(\"Not have a Product.\")}))}ngOnInit(){}}return ShowOrderPage.ɵfac=function(t){return new(t||ShowOrderPage)(core.Hb(ionic_angular.T),core.Hb(alert_service.a),core.Hb(router.g),core.Hb(order_service.a))},ShowOrderPage.ɵcmp=core.Bb({type:ShowOrderPage,selectors:[[\"app-show-order\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core.mc(ionic_angular.q,!0),2&rf&&core.ec(_t=core.Tb())&&(ctx.infiniteScroll=_t.first)},decls:16,vars:1,consts:[[\"slot\",\"start\"],[\"slot\",\"fixed\",3,\"ionRefresh\"],[\"pullingIcon\",\"chevron-down-circle-outline\",\"pullingText\",\"Pull to refresh\",\"refreshingSpinner\",\"circles\"],[\"vertical\",\"bottom\",\"horizontal\",\"end\",\"slot\",\"fixed\"],[\"routerLink\",\"/add-order\"],[\"name\",\"add\"],[4,\"ngFor\",\"ngForOf\"],[\"threshold\",\"100px\",3,\"ionInfinite\"],[\"loadingSpinner\",\"bubbles\",\"loadingText\",\"Loading...\"],[3,\"click\"],[1,\"orderTypeTxt\"]],template:function(rf,ctx){1&rf&&(core.Kb(0,\"ion-header\"),core.Kb(1,\"ion-toolbar\"),core.Kb(2,\"ion-buttons\",0),core.Ib(3,\"ion-menu-button\"),core.Jb(),core.Kb(4,\"ion-title\"),core.jc(5,\"Orders\"),core.Jb(),core.Jb(),core.Jb(),core.Kb(6,\"ion-content\"),core.Kb(7,\"ion-refresher\",1),core.Sb(\"ionRefresh\",(function($event){return ctx.doRefresh($event)})),core.Ib(8,\"ion-refresher-content\",2),core.Jb(),core.Kb(9,\"ion-fab\",3),core.Kb(10,\"ion-fab-button\",4),core.Ib(11,\"ion-icon\",5),core.Jb(),core.Jb(),core.Kb(12,\"ion-grid\"),core.ic(13,ShowOrderPage_ion_row_13_Template,2,1,\"ion-row\",6),core.Jb(),core.Kb(14,\"ion-infinite-scroll\",7),core.Sb(\"ionInfinite\",(function($event){return ctx.loadData($event)})),core.Ib(15,\"ion-infinite-scroll-content\",8),core.Jb(),core.Jb()),2&rf&&(core.xb(13),core.Zb(\"ngForOf\",ctx.alldata))},directives:[ionic_angular.o,ionic_angular.P,ionic_angular.d,ionic_angular.B,ionic_angular.O,ionic_angular.j,ionic_angular.E,ionic_angular.F,ionic_angular.l,ionic_angular.m,ionic_angular.X,router.h,ionic_angular.p,ionic_angular.n,common.i,ionic_angular.q,ionic_angular.r,ionic_angular.H,ionic_angular.e,ionic_angular.i],styles:[\".orderTypeTxt[_ngcontent-%COMP%]{font-size:20px;color:brown}\"]}),ShowOrderPage})()}];let show_order_routing_module_ShowOrderPageRoutingModule=(()=>{class ShowOrderPageRoutingModule{}return ShowOrderPageRoutingModule.ɵmod=core.Fb({type:ShowOrderPageRoutingModule}),ShowOrderPageRoutingModule.ɵinj=core.Eb({factory:function(t){return new(t||ShowOrderPageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),ShowOrderPageRoutingModule})(),show_order_module_ShowOrderPageModule=(()=>{class ShowOrderPageModule{}return ShowOrderPageModule.ɵmod=core.Fb({type:ShowOrderPageModule}),ShowOrderPageModule.ɵinj=core.Eb({factory:function(t){return new(t||ShowOrderPageModule)},imports:[[common.b,fesm2015_forms.d,ionic_angular.Q,show_order_routing_module_ShowOrderPageRoutingModule]]}),ShowOrderPageModule})()}}]);","extractedComments":[]}