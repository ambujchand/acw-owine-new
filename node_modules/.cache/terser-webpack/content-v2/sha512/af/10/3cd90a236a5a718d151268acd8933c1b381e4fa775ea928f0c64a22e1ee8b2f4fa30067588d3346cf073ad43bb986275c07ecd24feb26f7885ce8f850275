{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{dRqW:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"ProductDetailsPageModule\",(function(){return product_details_module_ProductDetailsPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),core=__webpack_require__(\"fXoL\"),alert_service=__webpack_require__(\"3LUQ\"),product_service=__webpack_require__(\"qL+e\");function ProductDetailsPage_div_34_Template(rf,ctx){if(1&rf){const _r2=core.Pb();core.Ob(0,\"div\",16),core.Ob(1,\"p\",17),core.jc(2),core.Nb(),core.Ob(3,\"div\"),core.Ob(4,\"span\",17),core.jc(5,\"Sold Quantity\"),core.Nb(),core.Ob(6,\"input\",18),core.Wb(\"ngModelChange\",(function($event){return core.fc(_r2),core.Zb().formData.sold_qty=$event})),core.Nb(),core.Ob(7,\"input\",19),core.Wb(\"ngModelChange\",(function($event){return core.fc(_r2),core.Zb().formData.sold_date=$event})),core.Nb(),core.Ob(8,\"input\",20),core.Wb(\"click\",(function(){return core.fc(_r2),core.Zb().updateSoldQty()})),core.Nb(),core.Nb(),core.Nb()}if(2&rf){const ctx_r0=core.Zb();core.xb(2),core.lc(\"Available Quantity : \",ctx_r0.productDetails.qty_per_unit?ctx_r0.productDetails.qty_per_unit:ctx_r0.productDetails.qty,\"\"),core.xb(4),core.cc(\"ngModel\",ctx_r0.formData.sold_qty),core.xb(1),core.cc(\"ngModel\",ctx_r0.formData.sold_date)}}const routes=[{path:\"\",component:(()=>{class ProductDetailsPage{constructor(loading,router,formBuilder,product){this.loading=loading,this.router=router,this.formBuilder=formBuilder,this.product=product,this.addOrderForm=this.formBuilder.group({id:[\"\"],product_description:[\"\"],image:[\"\"],product_name:[\"\"],qty_per_unit:[\"\"],unit_price:[\"\"],order_qty:[1],sold_qty:[\"\"],sold_date:[\"\"]}),this.formData={order_qty:1,id:null,sold_qty:0,sold_date:null},this.sellProductDetails=[];const now=new Date;this.formData.sold_date=now.toISOString().slice(0,10),this.router.getCurrentNavigation().extras.state&&(this.productDetails=this.router.getCurrentNavigation().extras.state.productDetails,this.rouerUrl=this.router.getCurrentNavigation().extras.state.routerUrl,console.log(this.rouerUrl),this.formData.id=this.productDetails?this.productDetails.id:\"\",this.addOrderForm.controls.id.setValue(this.productDetails?this.productDetails.id:\"\"),this.addOrderForm.controls.product_description.setValue(this.productDetails?this.productDetails.product_description:\"\"),this.addOrderForm.controls.image.setValue(this.productDetails?this.productDetails.image:\"\"),this.addOrderForm.controls.product_name.setValue(this.productDetails?this.productDetails.product_name:\"\"),this.addOrderForm.controls.qty_per_unit.setValue(this.productDetails?this.productDetails.qty:\"\"),this.addOrderForm.controls.unit_price.setValue(this.productDetails?this.productDetails.unit_price:\"\")),console.log(this.productDetails),this.checkCatId()}checkCatId(){this.productDetails||this.router.navigateByUrl(\"/product-list\")}doRefresh(event){console.log(\"Begin async operation\"),setTimeout(()=>{console.log(\"Async operation has ended\"),event.target.complete()},2e3)}addQty(){this.formData.order_qty+=1}removeQty(){this.formData.order_qty-=1}addOrder(){this.addOrderForm.controls.order_qty.setValue(this.formData?this.formData.order_qty:\"\"),this.addOrderForm.controls.sold_qty.setValue(this.formData?this.formData.sold_qty:\"\"),this.addOrderForm.controls.sold_date.setValue(this.formData?this.formData.sold_date:\"\"),console.log(this.addOrderForm.value),this.router.navigate([\"/order-list\"],{state:{orderDetails:this.addOrderForm.value,rouerUrl:this.rouerUrl}})}updateSoldQty(){this.formData.sold_qty>0?(this.loading.present(),this.product.updateSoldQty(this.formData).subscribe(data=>{this.loading.dismiss(),console.log(data),data.success&&(this.loading.presentToastSuccess(data.success),this.productDetails.qty=data.data),data.error&&this.loading.presentToastError(data.error)},onerror=>{0==onerror.status?(this.loading.presentToastWarning(\"check your internet connection.\"),this.loading.dismiss()):500==onerror.status&&(this.loading.presentToastError(\"Server error.\"),this.loading.dismiss())})):this.loading.presentToastWarning(\"Please Enter Sold Quantity\")}ngOnInit(){}}return ProductDetailsPage.ɵfac=function(t){return new(t||ProductDetailsPage)(core.Jb(alert_service.a),core.Jb(router.g),core.Jb(fesm2015_forms.b),core.Jb(product_service.a))},ProductDetailsPage.ɵcmp=core.Db({type:ProductDetailsPage,selectors:[[\"app-product-details\"]],decls:35,vars:7,consts:[[\"slot\",\"start\"],[3,\"fullscreen\"],[\"slot\",\"fixed\",3,\"ionRefresh\"],[\"pullingText\",\"Pull to refresh\",\"refreshingSpinner\",\"circles\"],[2,\"margin\",\"5px 10px 5px 10px\"],[1,\"imageSize\",2,\"height\",\"38vh\",\"width\",\"53vh\",\"border-radius\",\"10px\",\"margin-bottom\",\"2vh\",3,\"src\"],[1,\"pl-0\"],[2,\"padding-right\",\"1px\",\"text-align\",\"center\",3,\"click\"],[\"name\",\"remove-outline\",2,\"background-color\",\"#dee2e6cc\",\"font-size\",\"5vh\"],[2,\"padding\",\"5px 0px 0px 0px\"],[\"type\",\"number\",\"name\",\"order_qty\",2,\"width\",\"45px\",3,\"ngModel\",\"ngModelChange\"],[2,\"padding-right\",\"1px\",3,\"click\"],[\"name\",\"add-outline\",2,\"background-color\",\"#dee2e6cc\",\"font-size\",\"5vh\"],[2,\"padding-top\",\"0px\",\"padding-right\",\"1px\"],[2,\"color\",\"#F6B003\",3,\"click\"],[\"class\",\"details\",4,\"ngIf\"],[1,\"details\"],[2,\"font-size\",\"18px\",\"margin-left\",\"3vh\",\"color\",\"#F6B003\"],[\"type\",\"number\",\"name\",\"description\",1,\"inputClass\",3,\"ngModel\",\"ngModelChange\"],[\"type\",\"date\",\"readonly\",\"readonly\",\"name\",\"description\",1,\"inputClass\",2,\"margin-left\",\"0px\",\"width\",\"18vh\",\"color\",\"#F6B003\",3,\"ngModel\",\"ngModelChange\"],[\"type\",\"button\",\"name\",\"Update\",\"value\",\"Update\",1,\"button-style\",3,\"click\"]],template:function(rf,ctx){1&rf&&(core.Ob(0,\"ion-header\"),core.Ob(1,\"ion-toolbar\"),core.Ob(2,\"ion-buttons\",0),core.Kb(3,\"ion-menu-button\"),core.Nb(),core.Ob(4,\"ion-title\"),core.jc(5,\"Product Details\"),core.Nb(),core.Nb(),core.Nb(),core.Ob(6,\"ion-content\",1),core.Ob(7,\"ion-refresher\",2),core.Wb(\"ionRefresh\",(function($event){return ctx.doRefresh($event)})),core.Kb(8,\"ion-refresher-content\",3),core.Nb(),core.Ob(9,\"div\",4),core.Ob(10,\"strong\"),core.jc(11),core.Nb(),core.Kb(12,\"br\"),core.Kb(13,\"br\"),core.Kb(14,\"img\",5),core.Ob(15,\"p\"),core.jc(16),core.Nb(),core.Ob(17,\"ion-grid\",6),core.Ob(18,\"ion-row\"),core.Ob(19,\"ion-col\",6),core.Ob(20,\"b\"),core.jc(21,\"Order\"),core.Nb(),core.Nb(),core.Ob(22,\"ion-col\",7),core.Wb(\"click\",(function(){return ctx.removeQty()})),core.Kb(23,\"ion-icon\",8),core.Nb(),core.Ob(24,\"ion-col\",9),core.Ob(25,\"input\",10),core.Wb(\"ngModelChange\",(function($event){return ctx.formData.order_qty=$event})),core.Nb(),core.Nb(),core.Ob(26,\"ion-col\",11),core.Wb(\"click\",(function(){return ctx.addQty()})),core.Kb(27,\"ion-icon\",12),core.Nb(),core.Ob(28,\"ion-col\",13),core.Ob(29,\"ion-button\",14),core.Wb(\"click\",(function(){return ctx.addOrder()})),core.jc(30,\"Add to Cart\"),core.Nb(),core.Kb(31,\"br\"),core.Nb(),core.Nb(),core.Nb(),core.Ob(32,\"b\"),core.jc(33),core.Nb(),core.Nb(),core.ic(34,ProductDetailsPage_div_34_Template,9,3,\"div\",15),core.Nb()),2&rf&&(core.xb(6),core.cc(\"fullscreen\",!0),core.xb(5),core.lc(\"\",ctx.productDetails.product_name,\" \"),core.xb(3),core.dc(\"src\",ctx.productDetails.image,core.gc),core.xb(2),core.kc(ctx.productDetails.product_description),core.xb(9),core.cc(\"ngModel\",ctx.formData.order_qty),core.xb(8),core.lc(\"Cost : \",ctx.productDetails.unit_price,\"\"),core.xb(1),core.cc(\"ngIf\",\"/product-catagory\"==ctx.rouerUrl))},directives:[ionic_angular.m,ionic_angular.K,ionic_angular.d,ionic_angular.v,ionic_angular.J,ionic_angular.h,ionic_angular.y,ionic_angular.z,ionic_angular.l,ionic_angular.B,ionic_angular.g,ionic_angular.n,fesm2015_forms.k,fesm2015_forms.a,fesm2015_forms.h,fesm2015_forms.j,ionic_angular.c,common.i],styles:[\"strong[_ngcontent-%COMP%]{color:#6b3d1a}.iconClass[_ngcontent-%COMP%]{padding:0;margin:5vw 0 0}p[_ngcontent-%COMP%]{padding:1px;margin:1px;font-size:4vw}.imageSize[_ngcontent-%COMP%]{height:45vh;width:45vh}.details[_ngcontent-%COMP%]{border-radius:0 60px 0 0;padding-top:3vh;position:fixed;bottom:0;width:100%;height:89px;margin:0;color:#ffcc6a;text-transform:capitalize}.details[_ngcontent-%COMP%], .inputClass[_ngcontent-%COMP%]{background-color:#6b3d1a}.inputClass[_ngcontent-%COMP%]{border:1px solid #f6b003;margin-left:8px;width:7vh}.inputClass2[_ngcontent-%COMP%]{font-size:11px;margin-left:-57px}ion-button[_ngcontent-%COMP%]{font-size:10px}.item-native[_ngcontent-%COMP%]{padding-left:0}.orderButton[_ngcontent-%COMP%]{bottom:0;width:100%;height:46px;margin:0;color:#ffcc6a;text-transform:capitalize;font-weight:bolder}.button-style[_ngcontent-%COMP%]{position:absolute;background:#eda71a;color:#000;border:none;font-size:15px;padding:3px 6px}\"]}),ProductDetailsPage})()}];let product_details_routing_module_ProductDetailsPageRoutingModule=(()=>{class ProductDetailsPageRoutingModule{}return ProductDetailsPageRoutingModule.ɵmod=core.Hb({type:ProductDetailsPageRoutingModule}),ProductDetailsPageRoutingModule.ɵinj=core.Gb({factory:function(t){return new(t||ProductDetailsPageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),ProductDetailsPageRoutingModule})();var http=__webpack_require__(\"tk/3\");let product_details_module_ProductDetailsPageModule=(()=>{class ProductDetailsPageModule{}return ProductDetailsPageModule.ɵmod=core.Hb({type:ProductDetailsPageModule}),ProductDetailsPageModule.ɵinj=core.Gb({factory:function(t){return new(t||ProductDetailsPageModule)},imports:[[fesm2015_forms.l,router.i,http.b,common.b,fesm2015_forms.e,ionic_angular.L,product_details_routing_module_ProductDetailsPageRoutingModule]]}),ProductDetailsPageModule})()}}]);","extractedComments":[]}