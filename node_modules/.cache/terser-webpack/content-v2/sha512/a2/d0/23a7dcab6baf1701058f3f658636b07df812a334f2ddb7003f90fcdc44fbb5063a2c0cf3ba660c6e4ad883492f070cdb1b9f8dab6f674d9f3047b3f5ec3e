{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{F4UR:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"LoginPageModule\",(function(){return login_module_LoginPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),fesm2015_router=__webpack_require__(\"tyNb\"),core=__webpack_require__(\"fXoL\"),alert_service=__webpack_require__(\"3LUQ\"),http=__webpack_require__(\"tk/3\"),tap=__webpack_require__(\"vkgz\"),env_service=__webpack_require__(\"5zL6\");let login_service_LoginService=(()=>{class LoginService{constructor(http,env){this.http=http,this.env=env,this.ifLogin=JSON.parse(localStorage.getItem(\"user\"))}login(email,password){return this.http.post(this.env.API_URL+\"auth/login\",{email:email,password:password})}logout(){const headers=new http.c({Authorization:this.ifLogin.token_type+\" \"+this.ifLogin.access_token});return this.http.get(this.env.API_URL+\"auth/logout\",{headers:headers}).pipe(Object(tap.a)(user=>user))}}return LoginService.ɵfac=function(t){return new(t||LoginService)(core.Sb(http.a),core.Sb(env_service.a))},LoginService.ɵprov=core.Fb({token:LoginService,factory:LoginService.ɵfac,providedIn:\"root\"}),LoginService})();const routes=[{path:\"\",component:(()=>{class LoginPage{constructor(formBuilder,loading,router,loginService,platform,routerOutlet,modalController){this.formBuilder=formBuilder,this.loading=loading,this.router=router,this.loginService=loginService,this.platform=platform,this.routerOutlet=routerOutlet,this.modalController=modalController,this.loginForm=this.formBuilder.group({email:[\"\",[fesm2015_forms.n.required]],password:[\"\",fesm2015_forms.n.required]}),this.ifLogin=JSON.parse(localStorage.getItem(\"user\")),this.loginStatus=\"Login as Bar Owner\",this.buttonColor1=\"buttonStyle3\",this.buttonColor2=\"buttonStyle2\"}doRefresh(event){console.log(\"Begin async operation\"),setTimeout(()=>{console.log(\"Async operation has ended\"),event.target.complete()},2e3)}ionViewWillEnter(){null!=this.ifLogin&&this.router.navigateByUrl(\"/dashboard\")}login(){this.loading.present(),this.loginService.login(this.loginForm.value.email,this.loginForm.value.password).subscribe(data=>{this.userDetails=data,this.loading.dismiss(),this.userDetails.user&&(localStorage.setItem(\"user\",JSON.stringify({user:this.userDetails.user,token_type:this.userDetails.token_type,access_token:this.userDetails.access_token})),this.loading.dismiss(),window.location.reload(),this.router.navigateByUrl(\"/dashboard\")),this.userDetails.error&&(this.loading.dismiss(),this.loading.presentToastWarning(this.userDetails.error))},onerror=>{0==onerror.status?(this.loading.presentToastWarning(\"check your internet connection.\"),this.loading.dismiss()):500==onerror.status&&(this.loading.dismiss(),this.loading.presentToastError(\"Server error.\"))})}loginEmployee(){this.loginStatus=\"Login as Employee\",this.buttonColor2=\"buttonStyle3\",this.buttonColor1=\"buttonStyle2\"}loginOwner(){this.loginStatus=\"Login as Bar Owner\",this.buttonColor1=\"buttonStyle3\",this.buttonColor2=\"buttonStyle2\"}ngOnInit(){}}return LoginPage.ɵfac=function(t){return new(t||LoginPage)(core.Jb(fesm2015_forms.b),core.Jb(alert_service.a),core.Jb(fesm2015_router.g),core.Jb(login_service_LoginService),core.Jb(ionic_angular.Q),core.Jb(ionic_angular.A),core.Jb(ionic_angular.O))},LoginPage.ɵcmp=core.Db({type:LoginPage,selectors:[[\"app-login\"]],decls:40,vars:9,consts:[[\"padding\",\"true\"],[2,\"background\",\"url(assets/icons/background.jpeg) no-repeat center center/cover\",\"height\",\"100vh\"],[1,\"centerClass\"],[\"src\",\"/assets/icons/beerlogo.png\"],[3,\"click\"],[3,\"formGroup\",\"ngSubmit\"],[1,\"form-group\"],[1,\"input-group\"],[1,\"input-style\"],[1,\"input-group-prepend\"],[1,\"input-group-text\"],[\"name\",\"person-outline\"],[\"type\",\"text\",\"formControlName\",\"email\",\"placeholder\",\"User Id\",\"required\",\"required\",1,\"form-control\"],[\"name\",\"key-outline\"],[\"type\",\"password\",\"formControlName\",\"password\",\"placeholder\",\"Password\",\"required\",\"required\",1,\"form-control\"],[\"type\",\"submit\",1,\"btn\",\"btn-info\",\"buttonStyle\",3,\"disabled\"],[1,\"text-center\",\"small\",\"pb-3\"],[1,\"text-center\",\"small\"]],template:function(rf,ctx){1&rf&&(core.Ob(0,\"ion-content\",0),core.Ob(1,\"ion-card-content\",1),core.Ob(2,\"div\",2),core.Kb(3,\"img\",3),core.Nb(),core.Ob(4,\"ion-grid\"),core.Ob(5,\"ion-row\"),core.Ob(6,\"ion-col\"),core.Ob(7,\"button\",4),core.Wb(\"click\",(function(){return ctx.loginOwner()})),core.jc(8,\"Owner\"),core.Nb(),core.Nb(),core.Ob(9,\"ion-col\"),core.Ob(10,\"button\",4),core.Wb(\"click\",(function(){return ctx.loginEmployee()})),core.jc(11,\"Employee\"),core.Nb(),core.Nb(),core.Nb(),core.Nb(),core.Ob(12,\"div\",2),core.Ob(13,\"strong\"),core.Ob(14,\"h2\"),core.jc(15),core.Nb(),core.Nb(),core.Nb(),core.Ob(16,\"form\",5),core.Wb(\"ngSubmit\",(function(){return ctx.login()})),core.Ob(17,\"div\",6),core.Ob(18,\"div\",7),core.Ob(19,\"div\",8),core.Ob(20,\"div\",9),core.Ob(21,\"span\",10),core.Kb(22,\"ion-icon\",11),core.Nb(),core.Nb(),core.Kb(23,\"input\",12),core.Nb(),core.Nb(),core.Nb(),core.Ob(24,\"div\",6),core.Ob(25,\"div\",7),core.Ob(26,\"div\",8),core.Ob(27,\"div\",9),core.Ob(28,\"span\",10),core.Kb(29,\"ion-icon\",13),core.Nb(),core.Nb(),core.Kb(30,\"input\",14),core.Nb(),core.Nb(),core.Nb(),core.Ob(31,\"div\",6),core.Ob(32,\"button\",15),core.jc(33,\"Log in\"),core.Nb(),core.Nb(),core.Nb(),core.Ob(34,\"p\",16),core.jc(35,\"Forgot password . Contact Admin\"),core.Nb(),core.Ob(36,\"p\",17),core.jc(37,\"Or\"),core.Nb(),core.Ob(38,\"p\",17),core.jc(39,\"Login as employee\"),core.Nb(),core.Nb(),core.Nb()),2&rf&&(core.xb(7),core.Ab(\"btn btn-info \",ctx.buttonColor1,\"\"),core.xb(3),core.Ab(\"btn btn-info \",ctx.buttonColor2,\"\"),core.xb(5),core.lc(\" \",ctx.loginStatus,\" \"),core.xb(1),core.cc(\"formGroup\",ctx.loginForm),core.xb(16),core.cc(\"disabled\",!ctx.loginForm.valid))},directives:[ionic_angular.h,ionic_angular.f,ionic_angular.l,ionic_angular.B,ionic_angular.g,fesm2015_forms.o,fesm2015_forms.i,fesm2015_forms.d,ionic_angular.n,fesm2015_forms.a,fesm2015_forms.h,fesm2015_forms.c,fesm2015_forms.m],styles:[\".centerClass[_ngcontent-%COMP%]{text-align:center}img[_ngcontent-%COMP%]{width:50%}h2[_ngcontent-%COMP%]{font-size:19px;padding:7vw}.form-group[_ngcontent-%COMP%]{text-align:center}.buttonStyle2[_ngcontent-%COMP%]{box-shadow:0 3px 6px rgba(0,0,0,.46),0 3px 6px rgba(0,0,0,.23)}.buttonStyle2[_ngcontent-%COMP%], .buttonStyle3[_ngcontent-%COMP%]{background-color:#612e07;padding-left:15%;padding-right:15%;border-radius:25px;border:0;width:100%;color:#f2a401}.buttonStyle3[_ngcontent-%COMP%]{box-shadow:0 3px 6px rgba(0,0,0,.1),0 3px 6px rgba(0,0,0,.23),inset 0 16px 8px -10px rgba(242,164,1,.7215686274509804),inset 1px -16px 8px -10px rgba(242,164,1,.7215686274509804)}.buttonStyle[_ngcontent-%COMP%]{background-color:#612e07;padding-left:15%;padding-right:15%;border-radius:25px;box-shadow:0 3px 6px rgba(0,0,0,.46),0 3px 6px rgba(0,0,0,.23);border:0}p[_ngcontent-%COMP%]{font-size:13px}span[_ngcontent-%COMP%]{background-color:#fff}input[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{border-color:#fff}.input-style[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;border:1px solid #612e07;border-radius:5px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 0 rgba(248,249,250,0);border-color:rgba(128,189,255,0)}\"]}),LoginPage})()}];let login_routing_module_LoginPageRoutingModule=(()=>{class LoginPageRoutingModule{}return LoginPageRoutingModule.ɵmod=core.Hb({type:LoginPageRoutingModule}),LoginPageRoutingModule.ɵinj=core.Gb({factory:function(t){return new(t||LoginPageRoutingModule)},imports:[[fesm2015_router.i.forChild(routes)],fesm2015_router.i]}),LoginPageRoutingModule})(),login_module_LoginPageModule=(()=>{class LoginPageModule{}return LoginPageModule.ɵmod=core.Hb({type:LoginPageModule}),LoginPageModule.ɵinj=core.Gb({factory:function(t){return new(t||LoginPageModule)},imports:[[fesm2015_forms.l,fesm2015_router.i,http.b,common.b,common.b,fesm2015_forms.e,ionic_angular.L,login_routing_module_LoginPageRoutingModule]]}),LoginPageModule})()}}]);","extractedComments":[]}