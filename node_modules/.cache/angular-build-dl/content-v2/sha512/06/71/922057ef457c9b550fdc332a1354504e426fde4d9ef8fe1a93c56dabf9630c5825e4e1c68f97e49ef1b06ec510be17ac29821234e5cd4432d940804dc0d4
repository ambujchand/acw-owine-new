(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{mYy9:function(t,o,e){"use strict";e.r(o),e.d(o,"ShowProductPageModule",(function(){return m}));var n=e("ofXK"),i=e("3Pt+"),r=e("TEn/"),s=e("tyNb"),a=e("mrSG"),c=e("PSDb"),l=e("fXoL"),b=e("5zL6"),d=e("3LUQ"),u=e("OyHp");function p(t,o){if(1&t){const t=l.Lb();l.Kb(0,"div",22),l.Kb(1,"ion-grid"),l.Kb(2,"ion-row"),l.Kb(3,"ion-col",23),l.Ib(4,"img",24),l.Jb(),l.Kb(5,"ion-col"),l.Kb(6,"strong",25),l.jc(7),l.Jb(),l.Kb(8,"ion-grid"),l.Kb(9,"ion-row"),l.Kb(10,"ion-col"),l.Kb(11,"b",26),l.jc(12),l.Jb(),l.Ib(13,"br"),l.Kb(14,"span",27),l.jc(15),l.Jb(),l.Ib(16,"br"),l.jc(17," Qty :- "),l.Kb(18,"strong"),l.jc(19),l.Jb(),l.Jb(),l.Kb(20,"ion-col"),l.Kb(21,"b",28),l.jc(22),l.Jb(),l.Ib(23,"br"),l.Kb(24,"div",29),l.Kb(25,"button",30),l.jc(26,"More"),l.Jb(),l.Kb(27,"button",31),l.Sb("click",(function(){l.fc(t);const e=o.$implicit;return l.Ub(2).sellProduct(e)})),l.jc(28,"Sell"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb()}if(2&t){const t=o.$implicit,e=l.Ub(2);l.xb(4),l.cc("src","",e.img_url,"",t.image.image_url,"",l.gc),l.xb(3),l.kc(t.product_name),l.xb(5),l.lc("",t.selling_price,"/"),l.xb(3),l.kc(t.product_type),l.xb(4),l.kc(t.qty),l.xb(3),l.kc(t.brand_name)}}function g(t,o){if(1&t){const t=l.Lb();l.Kb(0,"div",13),l.Kb(1,"div",14),l.Kb(2,"a",15),l.Kb(3,"h4",16),l.Kb(4,"ion-grid"),l.Kb(5,"ion-row"),l.Kb(6,"ion-col"),l.jc(7),l.Jb(),l.Kb(8,"ion-col",17),l.Kb(9,"span",18),l.Ib(10,"ion-icon",19),l.jc(11),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(12,"div",20),l.Kb(13,"div",6),l.Ib(14,"span",7),l.Kb(15,"ion-input",8),l.Sb("ionInput",(function(e){l.fc(t);const n=o.$implicit,i=o.index;return l.Ub().findProductName(e,n.category_name,i)})),l.Jb(),l.Jb(),l.ic(16,p,29,7,"div",21),l.Jb(),l.Jb()}if(2&t){const t=o.$implicit;l.xb(2),l.bc("href","#",t.category_name,"",l.gc),l.xb(5),l.lc(" ",t.category_name," "),l.xb(4),l.kc(t.total_amount),l.xb(1),l.ac("id",t.category_name),l.xb(4),l.Zb("ngForOf",t.products)}}const h=[{path:"",component:(()=>{class t{constructor(t,o,e,n,i,r,s){this.routerOutlet=t,this.modalController=o,this.env=e,this.loading=n,this.formBuilder=i,this.router=r,this.product=s,this.sellProductDetails=[],this.img_url=e.IMG_URL}doRefresh(t){console.log("Begin async operation"),setTimeout(()=>{console.log("Async operation has ended"),t.target.complete()},2e3)}loadData(t){setTimeout(()=>{t.target.complete()},2e3)}ionViewWillEnter(){sessionStorage.removeItem("productData"),this.getProduct()}getProduct(){this.loading.present(),this.product.getProducts().subscribe(t=>{console.log(t),this.products=t,this.allProducts=t,sessionStorage.setItem("productData",JSON.stringify({datas:t})),this.loading.dismiss(),t.success&&(this.loading.dismiss(),this.loading.presentToastSuccess(t.success)),t.error&&(this.loading.dismiss(),this.loading.presentToastError(t.error))},t=>{0==t.status?(this.loading.presentToastWarning("check your internet connection."),this.loading.dismiss()):500==t.status&&(this.loading.dismiss(),this.loading.presentToastError("Server error."))})}findCategoryName(t){if(t.target.value.length>0){var o=[];for(let e=0;e<this.allProducts.length;e++)this.allProducts[e].category_name.slice(0,t.target.value.length)==t.target.value&&o.push(this.allProducts[e]);this.products=o}else this.products=this.allProducts}findProductName(t,o,e){var n=JSON.parse(sessionStorage.getItem("productData"));for(let r=0;r<n.datas.length;r++)if(n.datas[r].category_name==o)if(t.target.value.length>0){var i=[];for(let o=0;o<n.datas[r].products.length;o++){const e=n.datas[r].products[o].selling_price,s=n.datas[r].products[o].brand_name;n.datas[r].products[o].product_name.slice(0,t.target.value.length)==t.target.value&&i.push(n.datas[r].products[o]),e.slice(0,t.target.value.length)==t.target.value&&i.push(n.datas[r].products[o]),s.slice(0,t.target.value.length)==t.target.value&&i.push(n.datas[r].products[o])}this.products[e].products=i}else this.products[e].products=n.datas[r].products}sellProduct(t){return Object(a.a)(this,void 0,void 0,(function*(){if(console.log(t),t.qty>0){this.sellProductDetails.push(t);const o=yield this.modalController.create({component:c.a,cssClass:"my-custom-class",componentProps:{productDetails:this.sellProductDetails},swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl});return o.onDidDismiss().then(t=>{console.log(t),t.data.success&&this.getProduct()}),yield o.present()}this.loading.presentToastWarning("Not have a Product.")}))}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)(l.Hb(r.G),l.Hb(r.T),l.Hb(b.a),l.Hb(d.a),l.Hb(i.a),l.Hb(s.g),l.Hb(u.a))},t.\u0275cmp=l.Bb({type:t,selectors:[["app-show-product"]],decls:19,vars:1,consts:[["slot","start"],["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","pullingText","Pull to refresh","refreshingSpinner","circles"],["vertical","bottom","horizontal","end","slot","fixed"],["routerLink","/add-product"],["name","add"],[1,"form-group","has-feedback","has-search",2,"margin","5px 4px"],[1,"glyphicon","glyphicon-search","form-control-feedback"],["type","text","placeholder","Search",1,"form-control",3,"ionInput"],["id","accordion",1,"panel-group",2,"margin","5px 4px"],["class","panel panel-primary",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading..."],[1,"panel","panel-primary"],[1,"panel-heading"],["data-toggle","collapse","data-parent","#accordion",3,"href"],[1,"panel-title",2,"color","white"],[2,"text-align","right"],[2,"font-size","15px","font-weight","bold","color","brown","text-shadow","1px 1px 0px black"],["name","wallet-outline"],[1,"panel-collapse","collapse",3,"id"],["class","panel-body","style","padding: 2px;",4,"ngFor","ngForOf"],[1,"panel-body",2,"padding","2px"],["size","4"],["height","60","width","60",3,"src"],[2,"color","brown","font-size","large","font-style","oblique","font-family","auto"],[2,"color","darkgreen","font-style","oblique","font-family","auto"],[2,"font-size","small"],[1,"text-capitalize","info"],[1,"btn-group",2,"text-align","center"],["type","button",1,"btn","btn-primary","btn-sm"],["type","button",1,"btn","btn-info","btn-sm",3,"click"]],template:function(t,o){1&t&&(l.Kb(0,"ion-header"),l.Kb(1,"ion-toolbar"),l.Kb(2,"ion-buttons",0),l.Ib(3,"ion-menu-button"),l.Jb(),l.Kb(4,"ion-title"),l.jc(5,"All Products"),l.Jb(),l.Jb(),l.Jb(),l.Kb(6,"ion-content"),l.Kb(7,"ion-refresher",1),l.Sb("ionRefresh",(function(t){return o.doRefresh(t)})),l.Ib(8,"ion-refresher-content",2),l.Jb(),l.Kb(9,"ion-fab",3),l.Kb(10,"ion-fab-button",4),l.Ib(11,"ion-icon",5),l.Jb(),l.Jb(),l.Kb(12,"div",6),l.Ib(13,"span",7),l.Kb(14,"ion-input",8),l.Sb("ionInput",(function(t){return o.findCategoryName(t)})),l.Jb(),l.Jb(),l.Kb(15,"div",9),l.ic(16,g,17,5,"div",10),l.Jb(),l.Kb(17,"ion-infinite-scroll",11),l.Sb("ionInfinite",(function(t){return o.loadData(t)})),l.Ib(18,"ion-infinite-scroll-content",12),l.Jb(),l.Jb()),2&t&&(l.xb(16),l.Zb("ngForOf",o.products))},directives:[r.o,r.P,r.d,r.B,r.O,r.j,r.E,r.F,r.l,r.m,r.Y,s.h,r.p,r.s,r.ab,n.i,r.q,r.r,r.n,r.H,r.i],styles:["ion-col[_ngcontent-%COMP%]{padding:2px}ion-grid[_ngcontent-%COMP%], ion-list[_ngcontent-%COMP%]{padding:1.5px}.item-native[_ngcontent-%COMP%]{padding:3px}.item-inner[_ngcontent-%COMP%]{padding:1px}"]}),t})()}];let f=(()=>{class t{}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(o){return new(o||t)},imports:[[s.i.forChild(h)],s.i]}),t})(),m=(()=>{class t{}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(o){return new(o||t)},imports:[[n.b,i.d,r.Q,f]]}),t})()}}]);