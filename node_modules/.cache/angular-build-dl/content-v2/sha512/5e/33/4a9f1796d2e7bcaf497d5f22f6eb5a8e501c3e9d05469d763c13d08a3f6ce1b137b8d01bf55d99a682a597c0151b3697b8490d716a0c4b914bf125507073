!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{rD2m:function(o,n,i){"use strict";i.r(n),i.d(n,"ProductListPageModule",(function(){return y}));var r=i("ofXK"),a=i("3Pt+"),s=i("TEn/"),c=i("tyNb"),l=i("fXoL"),u=i("3LUQ"),g=i("qL+e");function d(t,e){if(1&t){var o=l.Pb();l.Ob(0,"ion-row",8),l.Ob(1,"ion-col",9),l.Kb(2,"img",10),l.Nb(),l.Ob(3,"ion-col",11),l.Wb("click",(function(){l.fc(o);var t=e.$implicit;return l.Zb().productDetails(t)})),l.Ob(4,"b"),l.jc(5),l.Nb(),l.Ob(6,"p"),l.jc(7),l.Nb(),l.Ob(8,"p"),l.jc(9),l.Nb(),l.Nb(),l.Nb()}if(2&t){var n=e.$implicit;l.xb(2),l.dc("src",n.image,l.gc),l.xb(3),l.kc(n.product_name),l.xb(2),l.lc("Available Quantity : ",n.qty_per_unit,""),l.xb(2),l.lc("Price : $ ",n.unit_price,"")}}var h,b,p,f=[{path:"",component:(h=function(){function o(e,n,i){t(this,o),this.loading=e,this.router=n,this.product=i,this.allProducts=[],this.router.getCurrentNavigation().extras.state&&(this.categoryId=this.router.getCurrentNavigation().extras.state.categoryId,this.cateloguePage=this.router.getCurrentNavigation().extras.state.cataloguePage,this.routerUrl=this.router.getCurrentNavigation().extras.state.routerUrl,console.log(this.routerUrl),console.log(this.categoryId),console.log(this.cateloguePage))}var n,i,r;return n=o,(i=[{key:"ionViewWillEnter",value:function(){this.checkCatagoryId(),1==this.cateloguePage?this.getCatelogueProductDetails():this.getCategoryDetails()}},{key:"checkCatagoryId",value:function(){this.categoryId||this.router.navigateByUrl("/product-catagory")}},{key:"doRefresh",value:function(t){console.log("Begin async operation"),this.getCategoryDetails(),setTimeout((function(){console.log("Async operation has ended"),t.target.complete()}),2e3)}},{key:"loadData",value:function(t){var e=this;setTimeout((function(){console.log("Done"),console.log(t),e.getCategoryDetails(),e.products.length==e.products.length&&(t.target.disabled=!0),t.target.complete()}),2e3)}},{key:"findProductName",value:function(t){if(console.log(this.allProducts),t.target.value.length>0){var e=[];console.log(this.products);for(var o=0;o<this.products.length;o++)this.products[o].product_name.toLowerCase().slice(0,t.target.value.length)==t.target.value.toLowerCase()&&e.push(this.products[o]);this.allProducts=e,console.log(this.allProducts)}else this.allProducts=this.products}},{key:"getCatelogueProductDetails",value:function(){var t=this;if(""!=this.categoryId){this.loading.present();var e=new FormData;e.append("category_id",this.categoryId),e.append("skip_id",JSON.stringify(this.value)),this.product.catalogueProducts(e).subscribe((function(e){t.allProducts=e.data,t.products=e.data,e.length>0&&(t.value=t.value+e.data.length,t.allProducts.push(e.data)),t.loading.dismiss()}),(function(e){0==e.status?(t.loading.presentToastWarning("check your internet connection."),t.loading.dismiss()):500==e.status&&(t.loading.presentToastError("Server error."),t.loading.dismiss())}))}else this.router.navigateByUrl("product-catagory")}},{key:"getCategoryDetails",value:function(){var t=this;if(""!=this.categoryId){this.loading.present();var e=new FormData;e.append("category_id",this.categoryId),e.append("skip_id",JSON.stringify(this.value)),this.product.getProductDetails(e).subscribe((function(e){t.allProducts=e.data,t.products=e.data,e.length>0&&(t.value=t.value+e.data.length,t.allProducts.push(e.data)),t.loading.dismiss()}),(function(e){0==e.status?(t.loading.presentToastWarning("check your internet connection."),t.loading.dismiss()):500==e.status&&(t.loading.presentToastError("Server error."),t.loading.dismiss())}))}else this.router.navigateByUrl("product-catagory")}},{key:"productDetails",value:function(t){console.log(t),console.log("ooooo"),this.router.navigate(["/product-details"],{state:{productDetails:t,routerUrl:this.routerUrl}})}},{key:"ngOnInit",value:function(){}}])&&e(n.prototype,i),r&&e(n,r),o}(),h.\u0275fac=function(t){return new(t||h)(l.Jb(u.a),l.Jb(c.g),l.Jb(g.a))},h.\u0275cmp=l.Db({type:h,selectors:[["app-product-list"]],decls:15,vars:2,consts:[["slot","start"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","circles"],["showCancelButton","focus",3,"ionInput"],["style","background-color: #FAFAFA;",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading..."],[2,"background-color","#FAFAFA"],["size","3"],[1,"imageSize",3,"src"],[1,"textClass",3,"click"]],template:function(t,e){1&t&&(l.Ob(0,"ion-header"),l.Ob(1,"ion-toolbar"),l.Ob(2,"ion-buttons",0),l.Kb(3,"ion-menu-button"),l.Nb(),l.Ob(4,"ion-title"),l.jc(5,"Product List"),l.Nb(),l.Nb(),l.Nb(),l.Ob(6,"ion-content",1),l.Ob(7,"ion-refresher",2),l.Wb("ionRefresh",(function(t){return e.doRefresh(t)})),l.Kb(8,"ion-refresher-content",3),l.Nb(),l.Ob(9,"ion-searchbar",4),l.Wb("ionInput",(function(t){return e.findProductName(t)})),l.Nb(),l.Ob(10,"ion-list"),l.Ob(11,"ion-grid"),l.ic(12,d,10,4,"ion-row",5),l.Nb(),l.Nb(),l.Ob(13,"ion-infinite-scroll",6),l.Wb("ionInfinite",(function(t){return e.loadData(t)})),l.Kb(14,"ion-infinite-scroll-content",7),l.Nb(),l.Nb()),2&t&&(l.xb(6),l.cc("fullscreen",!0),l.xb(6),l.cc("ngForOf",e.allProducts))},directives:[s.m,s.K,s.d,s.v,s.J,s.h,s.y,s.z,s.C,s.T,s.t,s.l,r.h,s.o,s.p,s.B,s.g],styles:[".trash[_ngcontent-%COMP%]{color:red;margin-right:2vw}.edit[_ngcontent-%COMP%], .trash[_ngcontent-%COMP%]{font-size:6vw}ion-row[_ngcontent-%COMP%]{background-color:#fafafa;margin-bottom:2vw}b[_ngcontent-%COMP%]{color:#6b3d1a}.iconClass[_ngcontent-%COMP%]{padding:0;margin:5vw 0 0}p[_ngcontent-%COMP%]{padding:1px;margin:1px;font-size:4vw}.imageSize[_ngcontent-%COMP%]{height:22vw;width:20vw}"]}),h)}],v=((p=function e(){t(this,e)}).\u0275mod=l.Hb({type:p}),p.\u0275inj=l.Gb({factory:function(t){return new(t||p)},imports:[[c.i.forChild(f)],c.i]}),p),y=((b=function e(){t(this,e)}).\u0275mod=l.Hb({type:b}),b.\u0275inj=l.Gb({factory:function(t){return new(t||b)},imports:[[r.b,a.e,s.L,v]]}),b)}}])}();