!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{ltbM:function(r,o,n){"use strict";n.r(o),n.d(o,"PlaceOrderPageModule",(function(){return N}));var i=n("ofXK"),c=n("3Pt+"),a=n("TEn/"),s=n("tyNb"),l=n("fXoL"),b=n("3LUQ"),d=n("qL+e");function p(t,e){if(1&t&&(l.Ob(0,"ion-row"),l.Ob(1,"ion-col",6),l.Ob(2,"p"),l.jc(3),l.Nb(),l.Nb(),l.Ob(4,"ion-col",6),l.Ob(5,"p"),l.jc(6),l.Nb(),l.Nb(),l.Ob(7,"ion-col",6),l.Ob(8,"p"),l.jc(9),l.Nb(),l.Nb(),l.Ob(10,"ion-col",6),l.Ob(11,"p"),l.jc(12),l.Nb(),l.Nb(),l.Nb()),2&t){var r=e.$implicit;l.xb(3),l.kc(r.product_name),l.xb(3),l.kc(r.order_qty),l.xb(3),l.lc("$",r.unit_price,""),l.xb(3),l.lc("$",r.unit_price*r.order_qty,".00")}}var u,O,f,h=[{path:"",component:(u=function(){function r(e,o,n,i){t(this,r),this.loading=e,this.formBuilder=o,this.router=n,this.product=i,this.router.getCurrentNavigation().extras.state&&(this.placeOrderList=this.router.getCurrentNavigation().extras.state.placeOrderList),this.chechOrdelList()}var o,n,i;return o=r,(n=[{key:"chechOrdelList",value:function(){if(console.log(this.placeOrderList),null==this.placeOrderList||null==this.placeOrderList)this.router.navigateByUrl("order-list");else{for(var t=0,e=[],r=0;r<this.placeOrderList.length;r++)t+=this.placeOrderList[r].order_qty*parseInt(this.placeOrderList[r].unit_price),e[r]={product_id:this.placeOrderList[r].id,total_amount:this.placeOrderList[r].unit_price*this.placeOrderList[r].order_qty,qty:this.placeOrderList[r].order_qty};this.totalAmount=t.toFixed(2),this.placeOrderDetails=e,console.log(t.toFixed(2)),console.log(e)}}},{key:"placeOrder",value:function(){var t=this;this.loading.present();var e=new FormData;e.append("order_number","ace_wine"+9999*Math.random()),e.append("required_date",""),e.append("sell_tex",""),e.append("transact_status","1"),e.append("total_amount",this.totalAmount),e.append("order_details",JSON.stringify(this.placeOrderDetails)),this.product.placeOrder(e).subscribe((function(e){console.log(e),t.loading.dismiss(),e.success&&(t.loading.presentToastSuccess(e.success),localStorage.removeItem("orderDetails"),t.router.navigate(["/order-tracking"],{state:{order_id:e.order_id}})),e.error&&t.loading.presentToastError(e.error)}),(function(e){0==e.status?(t.loading.presentToastWarning("check your internet connection."),t.loading.dismiss()):500==e.status&&(t.loading.presentToastError("Server error."),t.loading.dismiss())}))}},{key:"ngOnInit",value:function(){}}])&&e(o.prototype,n),i&&e(o,i),r}(),u.\u0275fac=function(t){return new(t||u)(l.Jb(b.a),l.Jb(c.b),l.Jb(s.g),l.Jb(d.a))},u.\u0275cmp=l.Db({type:u,selectors:[["app-place-order"]],decls:40,vars:5,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],[2,"margin-left","3vh"],[4,"ngFor","ngForOf"],[2,"margin-top","4vh"],[1,"orderStype"],["expand","full",1,"orderButton",3,"click"]],template:function(t,e){1&t&&(l.Ob(0,"ion-header",0),l.Ob(1,"ion-toolbar"),l.Ob(2,"ion-buttons",1),l.Kb(3,"ion-menu-button"),l.Nb(),l.Ob(4,"ion-title"),l.jc(5,"Your Orders"),l.Nb(),l.Nb(),l.Nb(),l.Ob(6,"ion-content",2),l.Ob(7,"ion-list",3),l.Ob(8,"ion-grid"),l.Ob(9,"ion-row"),l.Ob(10,"ion-col"),l.Ob(11,"b"),l.jc(12,"Product"),l.Nb(),l.Nb(),l.Ob(13,"ion-col"),l.Ob(14,"b"),l.jc(15,"Quantity"),l.Nb(),l.Nb(),l.Ob(16,"ion-col"),l.Ob(17,"b"),l.jc(18,"Unit Price"),l.Nb(),l.Nb(),l.Ob(19,"ion-col"),l.Ob(20,"b"),l.jc(21,"Price"),l.Nb(),l.Nb(),l.Nb(),l.ic(22,p,13,4,"ion-row",4),l.Ob(23,"ion-row",5),l.Ob(24,"ion-col",6),l.Ob(25,"p"),l.jc(26,"Subtotal : "),l.Nb(),l.Kb(27,"br"),l.Ob(28,"p"),l.jc(29,"Total : "),l.Nb(),l.Nb(),l.Kb(30,"ion-col",6),l.Kb(31,"ion-col",6),l.Ob(32,"ion-col",6),l.Ob(33,"p"),l.jc(34),l.Nb(),l.Kb(35,"br"),l.Ob(36,"p"),l.jc(37),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Ob(38,"ion-button",7),l.Wb("click",(function(){return e.placeOrder()})),l.jc(39,"Place Order"),l.Nb(),l.Nb()),2&t&&(l.cc("translucent",!0),l.xb(6),l.cc("fullscreen",!0),l.xb(16),l.cc("ngForOf",e.placeOrderList),l.xb(12),l.lc("$",e.totalAmount,""),l.xb(3),l.lc("$",e.totalAmount,""))},directives:[a.m,a.K,a.d,a.v,a.J,a.h,a.t,a.l,a.B,a.g,i.h,a.c],styles:["ion-col[_ngcontent-%COMP%]{padding:1px;margin:1px;font-size:15px}.orderStype[_ngcontent-%COMP%]{color:#6b3d1a;font-size:15px}p[_ngcontent-%COMP%]{padding:0;margin:0}.orderButton[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;height:46px;font-size:15px;margin:0;color:#ffcc6a;text-transform:capitalize}"]}),u)}],g=((f=function e(){t(this,e)}).\u0275mod=l.Hb({type:f}),f.\u0275inj=l.Gb({factory:function(t){return new(t||f)},imports:[[s.i.forChild(h)],s.i]}),f),N=((O=function e(){t(this,e)}).\u0275mod=l.Hb({type:O}),O.\u0275inj=l.Gb({factory:function(t){return new(t||O)},imports:[[i.b,c.e,a.L,g]]}),O)}}])}();