!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{gv6F:function(o,i,n){"use strict";n.r(i),n.d(i,"SimSwapPageModule",(function(){return I}));var r=n("ofXK"),a=n("3Pt+"),s=n("TEn/"),c=n("tyNb"),b=n("mPz0"),m=n("fXoL"),l=n("IPky"),u=n("BLr9"),p=n("5zL6"),d=n("QzWm"),g=n("3LUQ"),f=n("TzAO"),h=n("Wwn5"),_=n("I7pt"),S=n("KqBo");function J(e,t){if(1&e&&(m.Kb(0,"span"),m.Ib(1,"img",11),m.Jb()),2&e){var o=m.Ub();m.xb(1),m.Zb("src",o.photoFontSite,m.gc)}}function y(e,t){if(1&e&&(m.Kb(0,"span"),m.Ib(1,"img",11),m.Jb()),2&e){var o=m.Ub();m.xb(1),m.Zb("src",o.photoBackSite,m.gc)}}function K(e,t){if(1&e&&(m.Kb(0,"span"),m.Ib(1,"img",11),m.Jb()),2&e){var o=m.Ub();m.xb(1),m.Zb("src",o.OldSimOrGd,m.gc)}}function x(e,t){if(1&e){var o=m.Lb();m.Kb(0,"ion-item"),m.Kb(1,"div"),m.Kb(2,"ion-button",12),m.Sb("click",(function(){return m.fc(o),m.Ub().uploadDocuments()})),m.jc(3,"Upload Documents"),m.Jb(),m.Jb(),m.Jb()}}function v(e,t){if(1&e){var o=m.Lb();m.Kb(0,"div"),m.Kb(1,"ion-item"),m.Kb(2,"ion-button",13),m.Sb("click",(function(){return m.fc(o),m.Ub().scannQeCode()})),m.jc(3,"Scann QR Code"),m.Jb(),m.Jb(),m.Kb(4,"ion-item"),m.Kb(5,"ion-label",14),m.jc(6,"Customer Name"),m.Jb(),m.Ib(7,"ion-input",15),m.Jb(),m.Kb(8,"ion-item"),m.Kb(9,"ion-label",14),m.jc(10,"Customer Swap Phone Number"),m.Jb(),m.Ib(11,"ion-input",16),m.Jb(),m.Kb(12,"ion-item"),m.Kb(13,"ion-label",14),m.jc(14,"Customer Aadhar Number"),m.Jb(),m.Ib(15,"ion-input",17),m.Jb(),m.Kb(16,"ion-item"),m.Kb(17,"ion-label",14),m.jc(18,"Customer New Sim Number"),m.Jb(),m.Ib(19,"ion-input",18),m.Jb(),m.Kb(20,"ion-item"),m.Kb(21,"ion-label"),m.jc(22,"Customer Sex"),m.Jb(),m.Kb(23,"ion-select",19),m.Kb(24,"ion-select-option",20),m.jc(25," Male "),m.Jb(),m.Kb(26,"ion-select-option",21),m.jc(27," Fimale "),m.Jb(),m.Kb(28,"ion-select-option",22),m.jc(29," Others "),m.Jb(),m.Jb(),m.Jb(),m.Kb(30,"ion-item"),m.Kb(31,"ion-label",14),m.jc(32,"Father Name (optional)"),m.Jb(),m.Ib(33,"ion-input",23),m.Jb(),m.Kb(34,"ion-item"),m.Kb(35,"ion-label",14),m.jc(36,"Customer Village (optional)"),m.Jb(),m.Ib(37,"ion-input",24),m.Jb(),m.Kb(38,"ion-item"),m.Kb(39,"ion-label",14),m.jc(40,"Customer Post Office (optional)"),m.Jb(),m.Ib(41,"ion-input",25),m.Jb(),m.Kb(42,"ion-item"),m.Kb(43,"ion-label",14),m.jc(44,"Customer Police Station (optional)"),m.Jb(),m.Ib(45,"ion-input",26),m.Jb(),m.Kb(46,"ion-item"),m.Kb(47,"ion-label",14),m.jc(48,"Customer Dist (optional)"),m.Jb(),m.Ib(49,"ion-input",27),m.Jb(),m.Kb(50,"ion-item"),m.Kb(51,"ion-label",14),m.jc(52,"Customer state (optional)"),m.Jb(),m.Ib(53,"ion-input",28),m.Jb(),m.Kb(54,"ion-item"),m.Kb(55,"ion-label",14),m.jc(56,"Customer Pin (optional)"),m.Jb(),m.Ib(57,"ion-input",29),m.Jb(),m.Kb(58,"ion-item"),m.Kb(59,"ion-label"),m.jc(60,"Customer DOB (optional)"),m.Jb(),m.Ib(61,"ion-datetime",30),m.Jb(),m.Jb()}}var w,T,C,k=[{path:"",component:(w=function(){function o(t,i,n,r,s,c,b,m,l,u,p,d,g,f){var h=this;e(this,o),this.SimService=t,this.platform=i,this.qrScanner=n,this.env=r,this.payment=s,this.loading=c,this.contacts=b,this.callNumber=m,this.sms=l,this.toastCtrl=u,this.modalController=p,this.camera=d,this.formBuilder=g,this.router=f,this.simSwapForm=this.formBuilder.group({user_id:["",[a.j.required]],shop_id:["",[a.j.required]],c_font_image_id:["",a.j.required],c_back_image_id:["",a.j.required],c_sim_or_gd_image_id:["",a.j.required],c_name:["",[a.j.required]],c_swap_phone:["",a.j.required],c_new_sim_no:["",a.j.required],c_uid_number:["",a.j.required],c_sex:["",a.j.required],c_f_name:[""],c_village:[""],c_post:[""],c_ps:[""],c_dist:[""],c_state:[""],c_pin:[""],c_dob:[""]}),this.paymetURL=this.env.paymetURL,this.ifLogin=JSON.parse(localStorage.getItem("user")),this.shop=JSON.parse(localStorage.getItem("shop")),this.simSwapForm.controls.user_id.setValue(this.ifLogin?this.ifLogin.user.id:""),this.simSwapForm.controls.shop_id.setValue(this.shop?this.shop.id[0].id:""),this.platform.backButton.subscribeWithPriority(0,(function(){document.getElementsByTagName("body")[0].style.opacity="1",h.scannData.unsubscribe()}))}var i,n,r;return i=o,(n=[{key:"doRefresh",value:function(e){console.log("Begin async operation"),setTimeout((function(){console.log("Async operation has ended"),e.target.complete()}),2e3)}},{key:"captureImmage",value:function(e){var t=this;this.camera.getPicture({quality:30,allowEdit:!0,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then((function(o){var i="data:image/jpeg;base64,"+o;"font_immage"==e&&(t.photoFontSite=i,t.uploadFontPhoto=o),"back_immage"==e&&(t.photoBackSite=i,t.uploadBackPhoto=o),"sim_or_gd_immage"==e&&(t.OldSimOrGd=i,t.uploadSimOrGdPhoto=o)}),(function(e){console.log(e),t.loading.presentToastWarning(e)}))}},{key:"scannQeCode",value:function(){var e=this;this.qrScanner.prepare().then((function(t){t.authorized&&(e.qrScanner.show(),e.scannData=document.getElementsByTagName("body")[0].style.opacity="0",e.scannData=e.qrScanner.scan().subscribe((function(t){document.getElementsByTagName("body")[0].style.opacity="1",e.qrScanner.hide(),e.scannData.unsubscribe();var o=t,i=(new b).xml2js(o);e.qrText=i.PrintLetterBarcodeData,e.qrText&&(e.simSwapForm.controls.c_name.setValue(e.qrText?e.qrText._name:""),e.simSwapForm.controls.c_uid_number.setValue(e.qrText?e.qrText._uid:""),e.simSwapForm.controls.c_sex.setValue(e.qrText?e.qrText._gender:""),e.simSwapForm.controls.c_f_name.setValue(e.qrText?e.qrText._gname:""),e.simSwapForm.controls.c_village.setValue(e.qrText?e.qrText._vtc:""),e.simSwapForm.controls.c_post.setValue(e.qrText?e.qrText._po:""),e.simSwapForm.controls.c_ps.setValue(e.qrText?e.qrText._subdist:""),e.simSwapForm.controls.c_dist.setValue(e.qrText?e.qrText._dist:""),e.simSwapForm.controls.c_state.setValue(e.qrText?e.qrText._state:""),e.simSwapForm.controls.c_pin.setValue(e.qrText?e.qrText._pc:""),e.simSwapForm.controls.c_dob.setValue(e.qrText?e.qrText._dob:""),document.getElementsByTagName("body")[0].style.opacity="1",e.scannData.unsubscribe())}),(function(e){alert(JSON.stringify(e))})))})).catch((function(e){return console.log("Error is",e)}))}},{key:"ionViewWillEnter",value:function(){}},{key:"uploadDocuments",value:function(){var e=this;this.loading.present();var t=new FormData;t.append("uploadFontPhoto",this.uploadFontPhoto),t.append("uploadBackPhoto",this.uploadBackPhoto),t.append("uploadSimOrGdPhoto",this.uploadSimOrGdPhoto),this.SimService.uploadDocuments(t).subscribe((function(t){console.log(t),alert(t),t.success&&(e.simSwapForm.controls.c_font_image_id.setValue(t?t.font_image:""),e.simSwapForm.controls.c_back_image_id.setValue(t?t.back_image:""),e.simSwapForm.controls.c_sim_or_gd_image_id.setValue(t?t.sim_or_gd:""),e.uploadId=t,e.loading.dismiss(),e.loading.presentToastSuccess(t.success)),t.error&&(e.loading.dismiss(),e.loading.presentToastError(t.error))}),(function(t){0==t.status?(e.loading.presentToastWarning("check your internet connection."),e.loading.dismiss()):500==t.status&&(e.loading.dismiss(),e.loading.presentToastError("Server error."))}))}},{key:"addSimSwapData",value:function(){var e=this;this.loading.present(),this.SimService.addSimDetails(this.simSwapForm.value).subscribe((function(t){console.log(t),e.loading.dismiss(),t.success&&(e.loading.dismiss(),e.loading.presentToastSuccess(t.success),e.router.navigateByUrl("/sim-list")),t.error&&(e.loading.dismiss(),e.loading.presentToastWarning(t.error))}),(function(t){0==t.status?(e.loading.presentToastWarning("check your internet connection."),e.loading.dismiss()):500==t.status&&(e.loading.dismiss(),e.loading.presentToastError("Server error."))}))}},{key:"simList",value:function(){this.router.navigateByUrl("/sim-list")}},{key:"ngOnInit",value:function(){}}])&&t(i.prototype,n),r&&t(i,r),o}(),w.\u0275fac=function(e){return new(e||w)(m.Hb(l.a),m.Hb(s.W),m.Hb(u.a),m.Hb(p.a),m.Hb(d.a),m.Hb(g.a),m.Hb(f.c),m.Hb(h.a),m.Hb(_.a),m.Hb(s.ab),m.Hb(s.T),m.Hb(S.a),m.Hb(a.a),m.Hb(c.g))},w.\u0275cmp=m.Bb({type:w,selectors:[["app-sim-swap"]],decls:38,vars:7,consts:[["slot","start"],["size","small","color","primary","shape","round",2,"margin-left","20vw","margin-top","0px",3,"click"],["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","pullingText","Pull to refresh","s","","refreshingSpinner","circles"],[3,"formGroup","ngSubmit"],[2,"margin-top","10px"],[1,"choseCamera"],["name","camera-outline",1,"choseCamera",3,"click"],[4,"ngIf"],["name","camera-outline",3,"click"],["type","submit","shape","round","color","success","expand","block",3,"disabled"],["height","60","width","60",1,"imageClasss",3,"src"],[3,"click"],["size","small","color","secondary","shape","round",3,"click"],["position","floating"],["type","text","formControlName","c_name"],["type","number","formControlName","c_swap_phone"],["type","number","formControlName","c_uid_number"],["type","number","formControlName","c_new_sim_no"],["formControlName","c_sex","interface","popover","placeholder","Select Gender"],["value","Male"],["value","Fimale"],["value","Others"],["type","text","formControlName","c_f_name"],["type","text","formControlName","c_village"],["type","text","formControlName","c_post"],["type","text","formControlName","c_ps"],["type","text","formControlName","c_dist"],["type","text","formControlName","c_state"],["type","number","formControlName","c_pin"],["formControlName","c_dob","displayFormat","DD/MM/YYYY"]],template:function(e,t){1&e&&(m.Kb(0,"ion-header"),m.Kb(1,"ion-toolbar"),m.Kb(2,"ion-buttons",0),m.Ib(3,"ion-menu-button"),m.Jb(),m.Kb(4,"ion-title"),m.jc(5,"Sim Swap"),m.Kb(6,"ion-button",1),m.Sb("click",(function(){return t.simList()})),m.jc(7,"Sim List"),m.Jb(),m.Jb(),m.Jb(),m.Jb(),m.Kb(8,"ion-content"),m.Kb(9,"ion-refresher",2),m.Sb("ionRefresh",(function(e){return t.doRefresh(e)})),m.Ib(10,"ion-refresher-content",3),m.Jb(),m.Kb(11,"form",4),m.Sb("ngSubmit",(function(){return t.addSimSwapData()})),m.Kb(12,"ion-card",5),m.Kb(13,"ion-item"),m.Kb(14,"div",6),m.Kb(15,"ion-icon",7),m.Sb("click",(function(){return t.captureImmage("font_immage")})),m.Jb(),m.Jb(),m.Kb(16,"strong"),m.jc(17,"Capture Font Site"),m.Jb(),m.Kb(18,"div"),m.ic(19,J,2,1,"span",8),m.Jb(),m.Jb(),m.Kb(20,"ion-item"),m.Kb(21,"div",6),m.Kb(22,"ion-icon",9),m.Sb("click",(function(){return t.captureImmage("back_immage")})),m.Jb(),m.Jb(),m.Kb(23,"strong"),m.jc(24,"Capture Back Site"),m.Jb(),m.Kb(25,"div"),m.ic(26,y,2,1,"span",8),m.Jb(),m.Jb(),m.Kb(27,"ion-item"),m.Kb(28,"div",6),m.Kb(29,"ion-icon",9),m.Sb("click",(function(){return t.captureImmage("sim_or_gd_immage")})),m.Jb(),m.Jb(),m.Kb(30,"strong"),m.jc(31,"Capture old SIM or GD copy"),m.Jb(),m.Kb(32,"div"),m.ic(33,K,2,1,"span",8),m.Jb(),m.Jb(),m.ic(34,x,4,0,"ion-item",8),m.ic(35,v,62,0,"div",8),m.Jb(),m.Kb(36,"ion-button",10),m.jc(37,"Submit"),m.Jb(),m.Jb(),m.Jb()),2&e&&(m.xb(11),m.Zb("formGroup",t.simSwapForm),m.xb(8),m.Zb("ngIf",t.photoFontSite),m.xb(7),m.Zb("ngIf",t.photoBackSite),m.xb(7),m.Zb("ngIf",t.OldSimOrGd),m.xb(1),m.Zb("ngIf",t.OldSimOrGd&&t.photoBackSite&&t.photoFontSite),m.xb(1),m.Zb("ngIf",t.uploadId),m.xb(1),m.Zb("disabled",!t.simSwapForm.valid))},directives:[s.o,s.P,s.d,s.B,s.O,s.c,s.j,s.E,s.F,a.k,a.h,a.c,s.e,s.t,s.p,r.j,s.x,s.s,s.Z,a.g,a.b,s.V,s.I,s.Y,s.J,s.k],styles:["ion-button[_ngcontent-%COMP%]{font-size:10px}.choseCamera[_ngcontent-%COMP%]{font-size:40px;margin-right:15px}.selectCamera[_ngcontent-%COMP%]{font-size:35px;margin-right:15px}.uploads[_ngcontent-%COMP%]{font-size:30px;margin-left:15px}.imageClasss[_ngcontent-%COMP%]{margin-left:10px;border-radius:25px;border:1px solid #00f}strong[_ngcontent-%COMP%]{font-size:10px}"]}),w)},{path:"sim-list",loadChildren:function(){return n.e(0).then(n.bind(null,"OA2/")).then((function(e){return e.SimListPageModule}))}}],j=((T=function t(){e(this,t)}).\u0275mod=m.Fb({type:T}),T.\u0275inj=m.Eb({factory:function(e){return new(e||T)},imports:[[c.i.forChild(k)],c.i]}),T),q=n("tk/3"),I=((C=function t(){e(this,t)}).\u0275mod=m.Fb({type:C}),C.\u0275inj=m.Eb({factory:function(e){return new(e||C)},imports:[[a.i,c.i,q.b,r.b,a.d,s.Q,j]]}),C)}}])}();