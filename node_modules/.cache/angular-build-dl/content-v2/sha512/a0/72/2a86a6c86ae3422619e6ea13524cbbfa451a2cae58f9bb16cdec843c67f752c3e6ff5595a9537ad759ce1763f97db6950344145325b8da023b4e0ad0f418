!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{uTK4:function(o,r,i){"use strict";i.r(r),i.d(r,"AddProductPageModule",(function(){return N}));var n=i("ofXK"),c=i("3Pt+"),s=i("TEn/"),a=i("tyNb"),d=i("fXoL"),u=i("3LUQ"),l=i("qL+e");function b(t,e){if(1&t&&(d.Ob(0,"ion-select-option",17),d.jc(1),d.Nb()),2&t){var o=e.$implicit;d.dc("value",o.id),d.xb(1),d.kc(o.name)}}function g(t,e){if(1&t&&(d.Ob(0,"ion-select-option",18),d.jc(1),d.Nb()),2&t){var o=e.$implicit;d.dc("value",o.id),d.xb(1),d.kc(o.product_name)}}function m(t,e){if(1&t&&(d.Ob(0,"div",19),d.Kb(1,"img",20),d.Nb()),2&t){var o=d.Zb();d.xb(1),d.dc("src",o.image,d.gc)}}var p,h,f,P=[{path:"",component:(p=function(){function o(e,r,i,n){if(t(this,o),this.loading=e,this.formBuilder=r,this.router=i,this.product=n,this.addProductForm=this.formBuilder.group({id:[""],category_id:["",[c.n.required]],product_id:["",[c.n.required]],image:[""],cost:["",[c.n.required]],sale_price:["",[c.n.required]],prouct_desc:[""],qty:["",[c.n.required]]}),this.router.getCurrentNavigation().extras.state){var s=this.router.getCurrentNavigation().extras.state.product;this.editdata=s}console.log(this.editdata)}var r,i,n;return r=o,(i=[{key:"ionViewWillEnter",value:function(){this.getCategoryProducts(),this.addProductForm.controls.image.setValue(this.editdata?this.editdata.image:""),this.addProductForm.controls.sale_price.setValue(this.editdata?this.editdata.sale_price:""),this.addProductForm.controls.prouct_desc.setValue(this.editdata?this.editdata.product_description:""),this.addProductForm.controls.qty.setValue(this.editdata?this.editdata.qty:""),this.addProductForm.controls.cost.setValue(this.editdata?this.editdata.unit_price:"")}},{key:"doRefresh",value:function(t){console.log("Begin async operation"),setTimeout((function(){console.log("Async operation has ended"),t.target.complete()}),2e3)}},{key:"loadData",value:function(t){setTimeout((function(){console.log("Done"),console.log(t),t.target.complete()}),2e3)}},{key:"getCategoryProducts",value:function(){var t=this;this.loading.present(),this.product.getCategoryProducts().subscribe((function(e){console.log(e),t.categoryProducts=e.data,t.loading.dismiss()}),(function(e){0==e.status?(t.loading.presentToastWarning("check your internet connection."),t.loading.dismiss()):500==e.status&&(t.loading.presentToastError("Server error."),t.loading.dismiss())}))}},{key:"selectProducts",value:function(t){console.log(t);for(var e=0;e<this.categoryProducts.length;e++)if(this.categoryProducts[e].id==t){this.addProductForm.controls.product_id.setValue(""),this.products=this.categoryProducts[e].products;break}console.log(this.products),this.addProductForm.controls.cost.setValue(""),this.addProductForm.controls.image.setValue(""),this.addProductForm.controls.prouct_desc.setValue(""),this.addProductForm.controls.sale_price.setValue(""),this.addProductForm.controls.qty.setValue("")}},{key:"selectProduct",value:function(t){this.addProductForm.controls.sale_price.setValue(""),this.addProductForm.controls.qty.setValue("");for(var e=0;e<this.products.length;e++)if(this.products[e].id==t){this.selectPro=this.products[e];break}this.addProductForm.controls.cost.setValue(this.selectPro?this.selectPro.unit_price:""),this.addProductForm.controls.image.setValue(this.selectPro?this.selectPro.image:""),this.addProductForm.controls.prouct_desc.setValue(this.selectPro?this.selectPro.product_description:""),this.image=this.selectPro.image,console.log(this.addProductForm.value)}},{key:"addProduct",value:function(){var t=this;console.log(this.addProductForm.value),this.loading.present(),this.product.addNewProduct(this.addProductForm.value).subscribe((function(e){console.log(e),t.loading.dismiss(),"success"==e.type&&(t.loading.presentToastSuccess(e.msg),t.router.navigateByUrl("/dashboard")),"error"==e.type&&t.loading.presentToastError(e.msg)}),(function(e){0==e.status?(t.loading.presentToastWarning("check your internet connection."),t.loading.dismiss()):500==e.status&&(t.loading.dismiss(),t.loading.presentToastError("Server error."))}))}},{key:"ngOnInit",value:function(){}}])&&e(r.prototype,i),n&&e(r,n),o}(),p.\u0275fac=function(t){return new(t||p)(d.Jb(u.a),d.Jb(c.b),d.Jb(a.g),d.Jb(l.a))},p.\u0275cmp=d.Db({type:p,selectors:[["app-add-product"]],decls:45,vars:7,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","circles"],[1,"mt-2",3,"formGroup","ngSubmit"],["interface","popover","placeholder","Select Catagory","formControlName","category_id",3,"ngModelChange"],["selected","selected",3,"value",4,"ngFor","ngForOf"],["interface","popover","placeholder","Select Product Name","formControlName","product_id",3,"ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["position","floating"],["required","true","value","Readonly","readonly","","type","number","formControlName","cost"],["required","true","type","number","formControlName","sale_price"],["value","Readonly","readonly","","type","text","formControlName","prouct_desc"],["required","true","type","number","formControlName","qty"],["class","imgStyle",4,"ngIf"],["type","submit","shape","round","slot","end",2,"margin-left","61vw","margin-bottom","2px",3,"disabled"],["selected","selected",3,"value"],[3,"value"],[1,"imgStyle"],[3,"src"]],template:function(t,e){1&t&&(d.Ob(0,"ion-header",0),d.Ob(1,"ion-toolbar"),d.Ob(2,"ion-buttons",1),d.Kb(3,"ion-menu-button"),d.Nb(),d.Ob(4,"ion-title"),d.jc(5,"Add New Product"),d.Nb(),d.Nb(),d.Nb(),d.Ob(6,"ion-content",2),d.Ob(7,"ion-refresher",3),d.Wb("ionRefresh",(function(t){return e.doRefresh(t)})),d.Kb(8,"ion-refresher-content",4),d.Nb(),d.Ob(9,"form",5),d.Wb("ngSubmit",(function(){return e.addProduct()})),d.Ob(10,"ion-card"),d.Ob(11,"ion-item"),d.Ob(12,"ion-label"),d.jc(13,"Product Catagory"),d.Nb(),d.Ob(14,"ion-select",6),d.Wb("ngModelChange",(function(t){return e.selectProducts(t)})),d.ic(15,b,2,2,"ion-select-option",7),d.Nb(),d.Nb(),d.Nb(),d.Ob(16,"ion-card"),d.Ob(17,"ion-item"),d.Ob(18,"ion-label"),d.jc(19,"Product Name"),d.Nb(),d.Ob(20,"ion-select",8),d.Wb("ngModelChange",(function(t){return e.selectProduct(t)})),d.ic(21,g,2,2,"ion-select-option",9),d.Nb(),d.Nb(),d.Nb(),d.Ob(22,"ion-card"),d.Ob(23,"ion-item"),d.Ob(24,"ion-label",10),d.jc(25,"Cost"),d.Nb(),d.Kb(26,"ion-input",11),d.Nb(),d.Nb(),d.Ob(27,"ion-card"),d.Ob(28,"ion-item"),d.Ob(29,"ion-label",10),d.jc(30,"Sale Price"),d.Nb(),d.Kb(31,"ion-input",12),d.Nb(),d.Nb(),d.Ob(32,"ion-card"),d.Ob(33,"ion-item"),d.Ob(34,"ion-label",10),d.jc(35,"Product Description"),d.Nb(),d.Kb(36,"ion-input",13),d.Nb(),d.Nb(),d.Ob(37,"ion-card"),d.Ob(38,"ion-item"),d.Ob(39,"ion-label",10),d.jc(40,"Current Inventory"),d.Nb(),d.Kb(41,"ion-input",14),d.Nb(),d.Nb(),d.ic(42,m,2,1,"div",15),d.Ob(43,"ion-button",16),d.jc(44,"Submit"),d.Nb(),d.Nb(),d.Nb()),2&t&&(d.cc("translucent",!0),d.xb(6),d.cc("fullscreen",!0),d.xb(3),d.cc("formGroup",e.addProductForm),d.xb(6),d.cc("ngForOf",e.categoryProducts),d.xb(6),d.cc("ngForOf",e.products),d.xb(21),d.cc("ngIf",e.image),d.xb(1),d.cc("disabled",!e.addProductForm.valid))},directives:[s.m,s.K,s.d,s.v,s.J,s.h,s.y,s.z,c.o,c.i,c.d,s.e,s.r,s.s,s.F,s.S,c.h,c.c,n.h,s.q,s.P,c.m,s.T,n.i,s.c,s.G],styles:["ion-item[_ngcontent-%COMP%]{border-radius:5px!important;font-size:4vw;border:1px solid #bdb8b8!important;--background:rgb(255 255 255)!important}.item-native[_ngcontent-%COMP%]{padding:16px}.item-inner[_ngcontent-%COMP%]{padding:0!important}ion-icon[_ngcontent-%COMP%]{margin:5vw 1vw 1vw 0}.imgStyle[_ngcontent-%COMP%]{text-align:center}img[_ngcontent-%COMP%]{height:14vh;width:14vh}ion-select[_ngcontent-%COMP%]{float:right;right:10px;position:absolute}"]}),p)}],y=((h=function e(){t(this,e)}).\u0275mod=d.Hb({type:h}),h.\u0275inj=d.Gb({factory:function(t){return new(t||h)},imports:[[a.i.forChild(P)],a.i]}),h),v=i("tk/3"),N=((f=function e(){t(this,e)}).\u0275mod=d.Hb({type:f}),f.\u0275inj=d.Gb({factory:function(t){return new(t||f)},imports:[[c.l,a.i,v.b,n.b,c.e,s.L,y]]}),f)}}])}();