!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function e(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{HOPi:function(t,i,o){"use strict";o.r(i),o.d(i,"TabTwoPageModule",(function(){return P}));var c,a=o("ofXK"),r=o("3Pt+"),s=o("TEn/"),u=o("tyNb"),b=o("mrSG"),l=o("TzAO"),h=o("fXoL"),p=o("BLr9"),f=o("5zL6"),m=o("tk/3"),d=o("vkgz"),y=((c=function(){function t(e,i){n(this,t),this.http=e,this.env=i,this.ifLogin=JSON.parse(localStorage.getItem("user"))}return e(t,[{key:"payment",value:function(n){var t=new m.c({Authorization:this.ifLogin.token_type+" "+this.ifLogin.access_token});return this.http.post(this.env.API_URL+"auth/payment",n,{headers:t}).pipe(Object(d.a)((function(n){return n})))}}]),t}()).\u0275fac=function(n){return new(n||c)(h.Ob(m.a),h.Ob(f.a))},c.\u0275prov=h.Db({token:c,factory:c.\u0275fac,providedIn:"root"}),c),v=o("3LUQ"),g=o("Wwn5"),w=o("I7pt");function k(n,t){if(1&n){var e=h.Lb();h.Kb(0,"ion-item-sliding"),h.Kb(1,"ion-item"),h.Kb(2,"ion-label"),h.jc(3),h.Kb(4,"b"),h.jc(5),h.Jb(),h.Kb(6,"p"),h.jc(7),h.Jb(),h.Jb(),h.Jb(),h.Kb(8,"ion-item-options",7),h.Kb(9,"ion-item-option",8),h.Sb("click",(function(){h.fc(e);var n=t.$implicit;return h.Ub().call(n)})),h.Ib(10,"ion-icon",9),h.Jb(),h.Kb(11,"ion-item-option",10),h.Sb("click",(function(){h.fc(e);var n=t.$implicit;return h.Ub().sendSms(n)})),h.Ib(12,"ion-icon",11),h.Jb(),h.Jb(),h.Jb()}if(2&n){var i=t.$implicit;h.xb(3),h.lc(" ",i.name.givenName," "),h.xb(2),h.kc(i.name.familyName),h.xb(2),h.lc(" ",i.phoneNumbers[0].value," ")}}var S,C,J,O=[{path:"",component:(S=function(){function t(e,i,o,c,a,r,s,u,b,l,h,p){var f=this;n(this,t),this.router=e,this.navCtrl=i,this.platform=o,this.location=c,this.qrScanner=a,this.env=r,this.payment=s,this.loading=u,this.contacts=b,this.callNumber=l,this.sms=h,this.toastCtrl=p,this.myContacts=[],this.encodedData="",this.isOn=!1,this.paymetURL=this.env.paymetURL,o.ready().then((function(){f.scan()}))}return e(t,[{key:"loadContacts",value:function(){var n=this;this.contacts.find(["*"],{filter:"",multiple:!0,hasPhoneNumber:!0}).then((function(t){n.myContacts=t}))}},{key:"sendSms",value:function(n){this.sms.send(n.phoneNumbers[0].value,"yes it is working ",{replaceLineBreaks:!1,android:{intent:"INTENT"}})}},{key:"call",value:function(n){this.callNumber.callNumber(n.phoneNumbers[0].value,!0)}},{key:"createContact",value:function(){var n=this,t=this.contacts.create();t.name=new l.b(null,"ioniccontact","io icdemo"),t.phoneNumbers=[new l.a("mobile","6471234567")],t.save().then((function(){return Object(b.a)(n,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.toastCtrl.create({message:"Contact Added Successfully"});case 2:n.sent.present();case 3:case"end":return n.stop()}}),n,this)})))}),(function(n){return console.error("Error saving contact.",n)}))}},{key:"payWithRazorpay",value:function(){window.location.href=this.paymetURL}},{key:"scannQeCode",value:function(){var n=this;window.document.querySelector("ion-app").classList.add("cameraView"),this.qrScanner.prepare().then((function(t){t.authorized?(n.qrScanner.show(),n.scanSubscription=n.qrScanner.scan().subscribe((function(t){n.toastCtrl.create({message:""+t,position:"top",duration:3e3})}))):alert("Permission Denied"+t)})).catch((function(n){alert("Error"+n)}))}},{key:"stopScanning",value:function(){this.scanSubscription&&this.scanSubscription.unsubscribe(),this.scanSubscription=null,window.document.querySelector("ion-app").classList.remove("cameraView"),this.qrScanner.hide(),this.qrScanner.destroy()}},{key:"scan",value:function(){var n=this;this.qrScanner.prepare().then((function(t){if(t.authorized){console.log("qrscaner authorized");var e=n.qrScanner.scan().subscribe((function(t){alert(t),n.location.back(),n.qrScanner.hide(),e.unsubscribe()}));n.qrScanner.resumePreview(),n.qrScanner.show().then((function(n){console.log("scaner show",n.showing)}),(function(n){alert(n)}))}else t.denied&&!t.authorized&&t.canOpenSettings&&confirm("Would you like to enable QR code scanning? You can allow camera access in your settings.")&&n.qrScanner.openSettings()})).catch((function(n){return console.log("Error is",n)}))}},{key:"ngOnInit",value:function(){}}]),t}(),S.\u0275fac=function(n){return new(n||S)(h.Hb(u.g),h.Hb(s.U),h.Hb(s.X),h.Hb(a.g),h.Hb(p.a),h.Hb(f.a),h.Hb(y),h.Hb(v.a),h.Hb(l.c),h.Hb(g.a),h.Hb(w.a),h.Hb(s.bb))},S.\u0275cmp=h.Bb({type:S,selectors:[["app-tab-two"]],decls:19,vars:1,consts:[["color","primary"],["expand","full",3,"click"],[4,"ngFor","ngForOf"],[3,"click"],[1,"welcome-card"],["expand","block","margin","",3,"click"],["src","assets/img/softwarb_qr_scanner_white.png","alt",""],["side","end"],["color","primary",3,"click"],["name","call","slot","icon-only"],["color","info",3,"click"],["name","mail","slot","icon-only"]],template:function(n,t){1&n&&(h.Kb(0,"ion-header"),h.Kb(1,"ion-toolbar",0),h.Kb(2,"ion-title"),h.jc(3,"tab-two"),h.Jb(),h.Jb(),h.Jb(),h.Kb(4,"ion-content"),h.Kb(5,"ion-button",1),h.Sb("click",(function(){return t.loadContacts()})),h.jc(6,"Load Contacts"),h.Jb(),h.Kb(7,"ion-button",1),h.Sb("click",(function(){return t.createContact()})),h.jc(8,"Create Contacts"),h.Jb(),h.Kb(9,"ion-list"),h.ic(10,k,13,3,"ion-item-sliding",2),h.Jb(),h.Kb(11,"ion-button",3),h.Sb("click",(function(){return t.payWithRazorpay()})),h.jc(12," Pay With Razorpay "),h.Jb(),h.Kb(13,"ion-card",4),h.Kb(14,"ion-card-title"),h.jc(15," QR Code "),h.Jb(),h.Kb(16,"ion-button",5),h.Sb("click",(function(){return t.scannQeCode()})),h.jc(17,"Click to scan a barcode"),h.Jb(),h.Jb(),h.Ib(18,"img",6),h.Jb()),2&n&&(h.xb(10),h.Zb("ngForOf",t.myContacts))},directives:[s.o,s.P,s.O,s.j,s.c,s.y,a.i,s.e,s.h,s.w,s.t,s.x,s.v,s.u,s.p],styles:["razor.welcome-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}.nav-decor[_ngcontent-%COMP%], body[_ngcontent-%COMP%], html[_ngcontent-%COMP%], ion-app[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%], ion-page[_ngcontent-%COMP%]{background-color:transparent!important}"]}),S)}],K=((J=function t(){n(this,t)}).\u0275mod=h.Fb({type:J}),J.\u0275inj=h.Eb({factory:function(n){return new(n||J)},imports:[[u.i.forChild(O)],u.i]}),J),P=((C=function t(){n(this,t)}).\u0275mod=h.Fb({type:C}),C.\u0275inj=h.Eb({factory:function(n){return new(n||C)},imports:[[r.i,u.i,m.b,a.b,r.d,s.Q,K]]}),C)}}])}();