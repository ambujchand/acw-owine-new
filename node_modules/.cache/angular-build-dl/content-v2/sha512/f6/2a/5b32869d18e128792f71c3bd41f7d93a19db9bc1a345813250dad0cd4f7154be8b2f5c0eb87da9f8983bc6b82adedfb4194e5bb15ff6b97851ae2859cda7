(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{HOPi:function(n,t,e){"use strict";e.r(t),e.d(t,"TabTwoPageModule",(function(){return C}));var i=e("ofXK"),o=e("3Pt+"),c=e("TEn/"),a=e("tyNb"),s=e("mrSG"),r=e("TzAO"),b=e("fXoL"),l=e("BLr9"),h=e("5zL6"),u=e("tk/3"),p=e("vkgz");let m=(()=>{class n{constructor(n,t){this.http=n,this.env=t,this.ifLogin=JSON.parse(localStorage.getItem("user"))}payment(n){const t=new u.c({Authorization:this.ifLogin.token_type+" "+this.ifLogin.access_token});return this.http.post(this.env.API_URL+"auth/payment",n,{headers:t}).pipe(Object(p.a)(n=>n))}}return n.\u0275fac=function(t){return new(t||n)(b.Ob(u.a),b.Ob(h.a))},n.\u0275prov=b.Db({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var d=e("3LUQ"),g=e("Wwn5"),f=e("I7pt");function y(n,t){if(1&n){const n=b.Lb();b.Kb(0,"ion-item-sliding"),b.Kb(1,"ion-item"),b.Kb(2,"ion-label"),b.jc(3),b.Kb(4,"b"),b.jc(5),b.Jb(),b.Kb(6,"p"),b.jc(7),b.Jb(),b.Jb(),b.Jb(),b.Kb(8,"ion-item-options",7),b.Kb(9,"ion-item-option",8),b.Sb("click",(function(){b.fc(n);const e=t.$implicit;return b.Ub().call(e)})),b.Ib(10,"ion-icon",9),b.Jb(),b.Kb(11,"ion-item-option",10),b.Sb("click",(function(){b.fc(n);const e=t.$implicit;return b.Ub().sendSms(e)})),b.Ib(12,"ion-icon",11),b.Jb(),b.Jb(),b.Jb()}if(2&n){const n=t.$implicit;b.xb(3),b.lc(" ",n.name.givenName," "),b.xb(2),b.kc(n.name.familyName),b.xb(2),b.lc(" ",n.phoneNumbers[0].value," ")}}const w=[{path:"",component:(()=>{class n{constructor(n,t,e,i,o,c,a,s,r,b,l,h){this.router=n,this.navCtrl=t,this.platform=e,this.location=i,this.qrScanner=o,this.env=c,this.payment=a,this.loading=s,this.contacts=r,this.callNumber=b,this.sms=l,this.toastCtrl=h,this.myContacts=[],this.encodedData="",this.isOn=!1,this.paymetURL=this.env.paymetURL,e.ready().then(()=>{this.scan()})}loadContacts(){this.contacts.find(["*"],{filter:"",multiple:!0,hasPhoneNumber:!0}).then(n=>{this.myContacts=n})}sendSms(n){this.sms.send(n.phoneNumbers[0].value,"yes it is working ",{replaceLineBreaks:!1,android:{intent:"INTENT"}})}call(n){this.callNumber.callNumber(n.phoneNumbers[0].value,!0)}createContact(){let n=this.contacts.create();n.name=new r.b(null,"ioniccontact","io icdemo"),n.phoneNumbers=[new r.a("mobile","6471234567")],n.save().then(()=>Object(s.a)(this,void 0,void 0,(function*(){(yield this.toastCtrl.create({message:"Contact Added Successfully"})).present()})),n=>console.error("Error saving contact.",n))}payWithRazorpay(){window.location.href=this.paymetURL}scannQeCode(){window.document.querySelector("ion-app").classList.add("cameraView"),this.qrScanner.prepare().then(n=>{n.authorized?(this.qrScanner.show(),this.scanSubscription=this.qrScanner.scan().subscribe(n=>{this.toastCtrl.create({message:""+n,position:"top",duration:3e3})})):alert("Permission Denied"+n)}).catch(n=>{alert("Error"+n)})}stopScanning(){this.scanSubscription&&this.scanSubscription.unsubscribe(),this.scanSubscription=null,window.document.querySelector("ion-app").classList.remove("cameraView"),this.qrScanner.hide(),this.qrScanner.destroy()}scan(){this.qrScanner.prepare().then(n=>{if(n.authorized){console.log("qrscaner authorized");const n=this.qrScanner.scan().subscribe(t=>{alert(t),this.location.back(),this.qrScanner.hide(),n.unsubscribe()});this.qrScanner.resumePreview(),this.qrScanner.show().then(n=>{console.log("scaner show",n.showing)},n=>{alert(n)})}else n.denied&&!n.authorized&&n.canOpenSettings&&confirm("Would you like to enable QR code scanning? You can allow camera access in your settings.")&&this.qrScanner.openSettings()}).catch(n=>console.log("Error is",n))}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(b.Hb(a.g),b.Hb(c.U),b.Hb(c.X),b.Hb(i.g),b.Hb(l.a),b.Hb(h.a),b.Hb(m),b.Hb(d.a),b.Hb(r.c),b.Hb(g.a),b.Hb(f.a),b.Hb(c.bb))},n.\u0275cmp=b.Bb({type:n,selectors:[["app-tab-two"]],decls:19,vars:1,consts:[["color","primary"],["expand","full",3,"click"],[4,"ngFor","ngForOf"],[3,"click"],[1,"welcome-card"],["expand","block","margin","",3,"click"],["src","assets/img/softwarb_qr_scanner_white.png","alt",""],["side","end"],["color","primary",3,"click"],["name","call","slot","icon-only"],["color","info",3,"click"],["name","mail","slot","icon-only"]],template:function(n,t){1&n&&(b.Kb(0,"ion-header"),b.Kb(1,"ion-toolbar",0),b.Kb(2,"ion-title"),b.jc(3,"tab-two"),b.Jb(),b.Jb(),b.Jb(),b.Kb(4,"ion-content"),b.Kb(5,"ion-button",1),b.Sb("click",(function(){return t.loadContacts()})),b.jc(6,"Load Contacts"),b.Jb(),b.Kb(7,"ion-button",1),b.Sb("click",(function(){return t.createContact()})),b.jc(8,"Create Contacts"),b.Jb(),b.Kb(9,"ion-list"),b.ic(10,y,13,3,"ion-item-sliding",2),b.Jb(),b.Kb(11,"ion-button",3),b.Sb("click",(function(){return t.payWithRazorpay()})),b.jc(12," Pay With Razorpay "),b.Jb(),b.Kb(13,"ion-card",4),b.Kb(14,"ion-card-title"),b.jc(15," QR Code "),b.Jb(),b.Kb(16,"ion-button",5),b.Sb("click",(function(){return t.scannQeCode()})),b.jc(17,"Click to scan a barcode"),b.Jb(),b.Jb(),b.Ib(18,"img",6),b.Jb()),2&n&&(b.xb(10),b.Zb("ngForOf",t.myContacts))},directives:[c.o,c.P,c.O,c.j,c.c,c.y,i.i,c.e,c.h,c.w,c.t,c.x,c.v,c.u,c.p],styles:["razor.welcome-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}.nav-decor[_ngcontent-%COMP%], body[_ngcontent-%COMP%], html[_ngcontent-%COMP%], ion-app[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%], ion-page[_ngcontent-%COMP%]{background-color:transparent!important}"]}),n})()}];let S=(()=>{class n{}return n.\u0275mod=b.Fb({type:n}),n.\u0275inj=b.Eb({factory:function(t){return new(t||n)},imports:[[a.i.forChild(w)],a.i]}),n})(),C=(()=>{class n{}return n.\u0275mod=b.Fb({type:n}),n.\u0275inj=b.Eb({factory:function(t){return new(t||n)},imports:[[o.i,a.i,u.b,i.b,o.d,c.Q,S]]}),n})()}}]);