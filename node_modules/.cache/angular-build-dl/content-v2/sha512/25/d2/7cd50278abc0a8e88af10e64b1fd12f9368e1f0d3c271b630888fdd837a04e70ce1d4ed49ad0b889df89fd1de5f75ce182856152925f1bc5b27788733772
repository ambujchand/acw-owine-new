(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{XKzW:function(e,t,o){"use strict";o.r(t),o.d(t,"EmployeeListPageModule",(function(){return f}));var n=o("ofXK"),i=o("3Pt+"),s=o("TEn/"),l=o("tyNb"),c=o("mrSG"),r=o("fXoL"),a=o("3LUQ"),b=o("2HJl");function p(e,t){1&e&&(r.Ob(0,"ion-col",17),r.Kb(1,"img",18),r.Nb())}function m(e,t){if(1&e&&(r.Ob(0,"ion-col",17),r.Kb(1,"img",19),r.Nb()),2&e){const e=r.Zb().$implicit;r.xb(1),r.dc("src",e.image,r.gc)}}function g(e,t){if(1&e){const e=r.Pb();r.Ob(0,"ion-grid"),r.Ob(1,"ion-row",11),r.ic(2,p,2,0,"ion-col",12),r.ic(3,m,2,1,"ion-col",12),r.Ob(4,"ion-col",13),r.Ob(5,"b"),r.jc(6),r.Nb(),r.Ob(7,"p"),r.jc(8),r.Nb(),r.Nb(),r.Ob(9,"ion-col",14),r.Ob(10,"ion-icon",15),r.Wb("click",(function(){r.fc(e);const o=t.$implicit;return r.Zb().editEmployee(o)})),r.Nb(),r.Ob(11,"ion-icon",16),r.Wb("click",(function(){r.fc(e);const o=t.$implicit;return r.Zb().deleteEmployee(o.id)})),r.Nb(),r.Nb(),r.Nb(),r.Nb()}if(2&e){const e=t.$implicit;r.xb(2),r.cc("ngIf",!e.image),r.xb(1),r.cc("ngIf",e.image),r.xb(3),r.kc(e.name),r.xb(2),r.lc("Employee id : E000",e.id,"")}}const d=[{path:"",component:(()=>{class e{constructor(e,t,o,n){this.loading=e,this.router=t,this.empservices=o,this.alertController=n,this.allEmployees=[]}doRefresh(e){console.log("Begin async operation"),this.getEmployees(),setTimeout(()=>{console.log("Async operation has ended"),e.target.complete()},2e3)}loadData(e){setTimeout(()=>{console.log("Done"),console.log(e),e.target.complete()},2e3)}ionViewWillEnter(){this.getEmployees()}findEmployeeName(e){if(console.log(this.allEmployees),e.target.value.length>0){var t=[];console.log(this.employee);for(let o=0;o<this.employee.length;o++)this.employee[o].name.toLowerCase().slice(0,e.target.value.length)==e.target.value.toLowerCase()&&t.push(this.employee[o]);this.allEmployees=t,console.log(this.allEmployees)}else this.allEmployees=this.employee}getEmployees(){this.loading.present();const e=new FormData;e.append("skip_id",JSON.stringify(this.value)),this.empservices.getEmployeeDetails(e).subscribe(e=>{console.log(e),this.employeeId=e.data,this.employee=e.data,this.allEmployees=e.data,e.length>0&&(this.value=this.value+e.data.length,this.allEmployees.push(e.data)),this.loading.dismiss()},e=>{0==e.status?(this.loading.presentToastWarning("check your internet connection."),this.loading.dismiss()):500==e.status&&(this.loading.presentToastError("Server error."),this.loading.dismiss())})}editEmployee(e){console.log(e),this.router.navigate(["/create-employee"],{state:{empDetails:e}})}deleteEmployee(e){return Object(c.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({cssClass:"my-custom-class",header:"Are You Sure",message:"<small>You Want To Delete This ?</small>",buttons:[{text:"Cancel",role:"cancel",cssClass:"success"},{text:"Ok",handler:()=>{this.loading.present();const t=new FormData;t.append("id",e),this.empservices.deleteEmployee(t).subscribe(e=>{console.log(e),this.loading.dismiss(),this.loading.presentToastSuccess(e.success),this.getEmployees()},e=>{0==e.status?(this.loading.presentToastWarning("check your internet connection."),this.loading.dismiss()):500==e.status&&(this.loading.dismiss(),this.loading.presentToastError("Server error."))})}}]});yield t.present()}))}createEmployee(){this.router.navigateByUrl("/create-employee")}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(r.Jb(a.a),r.Jb(l.g),r.Jb(b.a),r.Jb(s.a))},e.\u0275cmp=r.Db({type:e,selectors:[["app-employee-list"]],decls:17,vars:2,consts:[["slot","start"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","circles"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],["showCancelButton","focus",3,"ionInput"],[4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading..."],[2,"background-color","#FAFAFA"],["size","3",4,"ngIf"],[1,"textClass"],["size","3",1,"iconClass",2,"text-align","center"],["name","create-outline",3,"click"],["name","close-circle",2,"color","red",3,"click"],["size","3"],["src","assets/icons/test.jpg",1,"imageSize"],[1,"imageSize",3,"src"]],template:function(e,t){1&e&&(r.Ob(0,"ion-header"),r.Ob(1,"ion-toolbar"),r.Ob(2,"ion-buttons",0),r.Kb(3,"ion-menu-button"),r.Nb(),r.Ob(4,"ion-title"),r.jc(5,"Employee List"),r.Nb(),r.Nb(),r.Nb(),r.Ob(6,"ion-content",1),r.Ob(7,"ion-refresher",2),r.Wb("ionRefresh",(function(e){return t.doRefresh(e)})),r.Kb(8,"ion-refresher-content",3),r.Nb(),r.Ob(9,"ion-fab",4),r.Ob(10,"ion-fab-button",5),r.Wb("click",(function(){return t.createEmployee()})),r.Kb(11,"ion-icon",6),r.Nb(),r.Nb(),r.Ob(12,"ion-searchbar",7),r.Wb("ionInput",(function(e){return t.findEmployeeName(e)})),r.Nb(),r.Ob(13,"ion-list"),r.ic(14,g,12,4,"ion-grid",8),r.Nb(),r.Ob(15,"ion-infinite-scroll",9),r.Wb("ionInfinite",(function(e){return t.loadData(e)})),r.Kb(16,"ion-infinite-scroll-content",10),r.Nb(),r.Nb()),2&e&&(r.xb(6),r.cc("fullscreen",!0),r.xb(8),r.cc("ngForOf",t.allEmployees))},directives:[s.m,s.K,s.d,s.v,s.J,s.h,s.y,s.z,s.j,s.k,s.n,s.C,s.T,s.t,n.h,s.o,s.p,s.l,s.B,n.i,s.g],styles:["p[_ngcontent-%COMP%]{margin:1px;padding:0;font-size:3vw}b[_ngcontent-%COMP%]{color:#6b3d1a}.scroll-content[_ngcontent-%COMP%]{padding-top:0!important}.iconClass[_ngcontent-%COMP%]{padding:0;margin:5vw 0 0}ion-icon[_ngcontent-%COMP%]{font-size:4vh;margin-left:1px}"]}),e})()}];let u=(()=>{class e{}return e.\u0275mod=r.Hb({type:e}),e.\u0275inj=r.Gb({factory:function(t){return new(t||e)},imports:[[l.i.forChild(d)],l.i]}),e})();var h=o("tk/3");let f=(()=>{class e{}return e.\u0275mod=r.Hb({type:e}),e.\u0275inj=r.Gb({factory:function(t){return new(t||e)},imports:[[i.l,l.i,h.b,n.b,i.e,s.L,u]]}),e})()}}]);