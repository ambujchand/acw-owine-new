(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{gv6F:function(t,i,e){"use strict";e.r(i),e.d(i,"SimSwapPageModule",(function(){return C}));var o=e("ofXK"),n=e("3Pt+"),s=e("TEn/"),r=e("tyNb"),a=e("mPz0"),c=e("fXoL"),b=e("IPky"),m=e("BLr9"),l=e("5zL6"),p=e("QzWm"),u=e("3LUQ"),d=e("TzAO"),h=e("Wwn5"),g=e("I7pt"),_=e("KqBo");function f(t,i){if(1&t&&(c.Kb(0,"span"),c.Ib(1,"img",11),c.Jb()),2&t){const t=c.Ub();c.xb(1),c.Zb("src",t.photoFontSite,c.gc)}}function S(t,i){if(1&t&&(c.Kb(0,"span"),c.Ib(1,"img",11),c.Jb()),2&t){const t=c.Ub();c.xb(1),c.Zb("src",t.photoBackSite,c.gc)}}function J(t,i){if(1&t&&(c.Kb(0,"span"),c.Ib(1,"img",11),c.Jb()),2&t){const t=c.Ub();c.xb(1),c.Zb("src",t.OldSimOrGd,c.gc)}}function K(t,i){if(1&t){const t=c.Lb();c.Kb(0,"ion-item"),c.Kb(1,"div"),c.Kb(2,"ion-button",12),c.Sb("click",(function(){return c.fc(t),c.Ub().uploadDocuments()})),c.jc(3,"Upload Documents"),c.Jb(),c.Jb(),c.Jb()}}function x(t,i){if(1&t){const t=c.Lb();c.Kb(0,"div"),c.Kb(1,"ion-item"),c.Kb(2,"ion-button",13),c.Sb("click",(function(){return c.fc(t),c.Ub().scannQeCode()})),c.jc(3,"Scann QR Code"),c.Jb(),c.Jb(),c.Kb(4,"ion-item"),c.Kb(5,"ion-label",14),c.jc(6,"Customer Name"),c.Jb(),c.Ib(7,"ion-input",15),c.Jb(),c.Kb(8,"ion-item"),c.Kb(9,"ion-label",14),c.jc(10,"Customer Swap Phone Number"),c.Jb(),c.Ib(11,"ion-input",16),c.Jb(),c.Kb(12,"ion-item"),c.Kb(13,"ion-label",14),c.jc(14,"Customer Aadhar Number"),c.Jb(),c.Ib(15,"ion-input",17),c.Jb(),c.Kb(16,"ion-item"),c.Kb(17,"ion-label",14),c.jc(18,"Customer New Sim Number"),c.Jb(),c.Ib(19,"ion-input",18),c.Jb(),c.Kb(20,"ion-item"),c.Kb(21,"ion-label"),c.jc(22,"Customer Sex"),c.Jb(),c.Kb(23,"ion-select",19),c.Kb(24,"ion-select-option",20),c.jc(25," Male "),c.Jb(),c.Kb(26,"ion-select-option",21),c.jc(27," Fimale "),c.Jb(),c.Kb(28,"ion-select-option",22),c.jc(29," Others "),c.Jb(),c.Jb(),c.Jb(),c.Kb(30,"ion-item"),c.Kb(31,"ion-label",14),c.jc(32,"Father Name (optional)"),c.Jb(),c.Ib(33,"ion-input",23),c.Jb(),c.Kb(34,"ion-item"),c.Kb(35,"ion-label",14),c.jc(36,"Customer Village (optional)"),c.Jb(),c.Ib(37,"ion-input",24),c.Jb(),c.Kb(38,"ion-item"),c.Kb(39,"ion-label",14),c.jc(40,"Customer Post Office (optional)"),c.Jb(),c.Ib(41,"ion-input",25),c.Jb(),c.Kb(42,"ion-item"),c.Kb(43,"ion-label",14),c.jc(44,"Customer Police Station (optional)"),c.Jb(),c.Ib(45,"ion-input",26),c.Jb(),c.Kb(46,"ion-item"),c.Kb(47,"ion-label",14),c.jc(48,"Customer Dist (optional)"),c.Jb(),c.Ib(49,"ion-input",27),c.Jb(),c.Kb(50,"ion-item"),c.Kb(51,"ion-label",14),c.jc(52,"Customer state (optional)"),c.Jb(),c.Ib(53,"ion-input",28),c.Jb(),c.Kb(54,"ion-item"),c.Kb(55,"ion-label",14),c.jc(56,"Customer Pin (optional)"),c.Jb(),c.Ib(57,"ion-input",29),c.Jb(),c.Kb(58,"ion-item"),c.Kb(59,"ion-label"),c.jc(60,"Customer DOB (optional)"),c.Jb(),c.Ib(61,"ion-datetime",30),c.Jb(),c.Jb()}}const y=[{path:"",component:(()=>{class t{constructor(t,i,e,o,s,r,a,c,b,m,l,p,u,d){this.SimService=t,this.platform=i,this.qrScanner=e,this.env=o,this.payment=s,this.loading=r,this.contacts=a,this.callNumber=c,this.sms=b,this.toastCtrl=m,this.modalController=l,this.camera=p,this.formBuilder=u,this.router=d,this.simSwapForm=this.formBuilder.group({user_id:["",[n.j.required]],shop_id:["",[n.j.required]],c_font_image_id:["",n.j.required],c_back_image_id:["",n.j.required],c_sim_or_gd_image_id:["",n.j.required],c_name:["",[n.j.required]],c_swap_phone:["",n.j.required],c_new_sim_no:["",n.j.required],c_uid_number:["",n.j.required],c_sex:["",n.j.required],c_f_name:[""],c_village:[""],c_post:[""],c_ps:[""],c_dist:[""],c_state:[""],c_pin:[""],c_dob:[""]}),this.paymetURL=this.env.paymetURL,this.ifLogin=JSON.parse(localStorage.getItem("user")),this.shop=JSON.parse(localStorage.getItem("shop")),this.simSwapForm.controls.user_id.setValue(this.ifLogin?this.ifLogin.user.id:""),this.simSwapForm.controls.shop_id.setValue(this.shop?this.shop.id[0].id:""),this.platform.backButton.subscribeWithPriority(0,()=>{document.getElementsByTagName("body")[0].style.opacity="1",this.scannData.unsubscribe()})}doRefresh(t){console.log("Begin async operation"),setTimeout(()=>{console.log("Async operation has ended"),t.target.complete()},2e3)}captureImmage(t){this.camera.getPicture({quality:30,allowEdit:!0,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then(i=>{let e="data:image/jpeg;base64,"+i;"font_immage"==t&&(this.photoFontSite=e,this.uploadFontPhoto=i),"back_immage"==t&&(this.photoBackSite=e,this.uploadBackPhoto=i),"sim_or_gd_immage"==t&&(this.OldSimOrGd=e,this.uploadSimOrGdPhoto=i)},t=>{console.log(t),this.loading.presentToastWarning(t)})}scannQeCode(){this.qrScanner.prepare().then(t=>{t.authorized&&(this.qrScanner.show(),this.scannData=document.getElementsByTagName("body")[0].style.opacity="0",this.scannData=this.qrScanner.scan().subscribe(t=>{document.getElementsByTagName("body")[0].style.opacity="1",this.qrScanner.hide(),this.scannData.unsubscribe();let i=t,e=(new a).xml2js(i);this.qrText=e.PrintLetterBarcodeData,this.qrText&&(this.simSwapForm.controls.c_name.setValue(this.qrText?this.qrText._name:""),this.simSwapForm.controls.c_uid_number.setValue(this.qrText?this.qrText._uid:""),this.simSwapForm.controls.c_sex.setValue(this.qrText?this.qrText._gender:""),this.simSwapForm.controls.c_f_name.setValue(this.qrText?this.qrText._gname:""),this.simSwapForm.controls.c_village.setValue(this.qrText?this.qrText._vtc:""),this.simSwapForm.controls.c_post.setValue(this.qrText?this.qrText._po:""),this.simSwapForm.controls.c_ps.setValue(this.qrText?this.qrText._subdist:""),this.simSwapForm.controls.c_dist.setValue(this.qrText?this.qrText._dist:""),this.simSwapForm.controls.c_state.setValue(this.qrText?this.qrText._state:""),this.simSwapForm.controls.c_pin.setValue(this.qrText?this.qrText._pc:""),this.simSwapForm.controls.c_dob.setValue(this.qrText?this.qrText._dob:""),document.getElementsByTagName("body")[0].style.opacity="1",this.scannData.unsubscribe())},t=>{alert(JSON.stringify(t))}))}).catch(t=>console.log("Error is",t))}ionViewWillEnter(){}uploadDocuments(){this.loading.present();const t=new FormData;t.append("uploadFontPhoto",this.uploadFontPhoto),t.append("uploadBackPhoto",this.uploadBackPhoto),t.append("uploadSimOrGdPhoto",this.uploadSimOrGdPhoto),this.SimService.uploadDocuments(t).subscribe(t=>{console.log(t),alert(t),t.success&&(this.simSwapForm.controls.c_font_image_id.setValue(t?t.font_image:""),this.simSwapForm.controls.c_back_image_id.setValue(t?t.back_image:""),this.simSwapForm.controls.c_sim_or_gd_image_id.setValue(t?t.sim_or_gd:""),this.uploadId=t,this.loading.dismiss(),this.loading.presentToastSuccess(t.success)),t.error&&(this.loading.dismiss(),this.loading.presentToastError(t.error))},t=>{0==t.status?(this.loading.presentToastWarning("check your internet connection."),this.loading.dismiss()):500==t.status&&(this.loading.dismiss(),this.loading.presentToastError("Server error."))})}addSimSwapData(){this.loading.present(),this.SimService.addSimDetails(this.simSwapForm.value).subscribe(t=>{console.log(t),this.loading.dismiss(),t.success&&(this.loading.dismiss(),this.loading.presentToastSuccess(t.success),this.router.navigateByUrl("/sim-list")),t.error&&(this.loading.dismiss(),this.loading.presentToastWarning(t.error))},t=>{0==t.status?(this.loading.presentToastWarning("check your internet connection."),this.loading.dismiss()):500==t.status&&(this.loading.dismiss(),this.loading.presentToastError("Server error."))})}simList(){this.router.navigateByUrl("/sim-list")}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)(c.Hb(b.a),c.Hb(s.W),c.Hb(m.a),c.Hb(l.a),c.Hb(p.a),c.Hb(u.a),c.Hb(d.c),c.Hb(h.a),c.Hb(g.a),c.Hb(s.ab),c.Hb(s.T),c.Hb(_.a),c.Hb(n.a),c.Hb(r.g))},t.\u0275cmp=c.Bb({type:t,selectors:[["app-sim-swap"]],decls:38,vars:7,consts:[["slot","start"],["size","small","color","primary","shape","round",2,"margin-left","20vw","margin-top","0px",3,"click"],["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","pullingText","Pull to refresh","s","","refreshingSpinner","circles"],[3,"formGroup","ngSubmit"],[2,"margin-top","10px"],[1,"choseCamera"],["name","camera-outline",1,"choseCamera",3,"click"],[4,"ngIf"],["name","camera-outline",3,"click"],["type","submit","shape","round","color","success","expand","block",3,"disabled"],["height","60","width","60",1,"imageClasss",3,"src"],[3,"click"],["size","small","color","secondary","shape","round",3,"click"],["position","floating"],["type","text","formControlName","c_name"],["type","number","formControlName","c_swap_phone"],["type","number","formControlName","c_uid_number"],["type","number","formControlName","c_new_sim_no"],["formControlName","c_sex","interface","popover","placeholder","Select Gender"],["value","Male"],["value","Fimale"],["value","Others"],["type","text","formControlName","c_f_name"],["type","text","formControlName","c_village"],["type","text","formControlName","c_post"],["type","text","formControlName","c_ps"],["type","text","formControlName","c_dist"],["type","text","formControlName","c_state"],["type","number","formControlName","c_pin"],["formControlName","c_dob","displayFormat","DD/MM/YYYY"]],template:function(t,i){1&t&&(c.Kb(0,"ion-header"),c.Kb(1,"ion-toolbar"),c.Kb(2,"ion-buttons",0),c.Ib(3,"ion-menu-button"),c.Jb(),c.Kb(4,"ion-title"),c.jc(5,"Sim Swap"),c.Kb(6,"ion-button",1),c.Sb("click",(function(){return i.simList()})),c.jc(7,"Sim List"),c.Jb(),c.Jb(),c.Jb(),c.Jb(),c.Kb(8,"ion-content"),c.Kb(9,"ion-refresher",2),c.Sb("ionRefresh",(function(t){return i.doRefresh(t)})),c.Ib(10,"ion-refresher-content",3),c.Jb(),c.Kb(11,"form",4),c.Sb("ngSubmit",(function(){return i.addSimSwapData()})),c.Kb(12,"ion-card",5),c.Kb(13,"ion-item"),c.Kb(14,"div",6),c.Kb(15,"ion-icon",7),c.Sb("click",(function(){return i.captureImmage("font_immage")})),c.Jb(),c.Jb(),c.Kb(16,"strong"),c.jc(17,"Capture Font Site"),c.Jb(),c.Kb(18,"div"),c.ic(19,f,2,1,"span",8),c.Jb(),c.Jb(),c.Kb(20,"ion-item"),c.Kb(21,"div",6),c.Kb(22,"ion-icon",9),c.Sb("click",(function(){return i.captureImmage("back_immage")})),c.Jb(),c.Jb(),c.Kb(23,"strong"),c.jc(24,"Capture Back Site"),c.Jb(),c.Kb(25,"div"),c.ic(26,S,2,1,"span",8),c.Jb(),c.Jb(),c.Kb(27,"ion-item"),c.Kb(28,"div",6),c.Kb(29,"ion-icon",9),c.Sb("click",(function(){return i.captureImmage("sim_or_gd_immage")})),c.Jb(),c.Jb(),c.Kb(30,"strong"),c.jc(31,"Capture old SIM or GD copy"),c.Jb(),c.Kb(32,"div"),c.ic(33,J,2,1,"span",8),c.Jb(),c.Jb(),c.ic(34,K,4,0,"ion-item",8),c.ic(35,x,62,0,"div",8),c.Jb(),c.Kb(36,"ion-button",10),c.jc(37,"Submit"),c.Jb(),c.Jb(),c.Jb()),2&t&&(c.xb(11),c.Zb("formGroup",i.simSwapForm),c.xb(8),c.Zb("ngIf",i.photoFontSite),c.xb(7),c.Zb("ngIf",i.photoBackSite),c.xb(7),c.Zb("ngIf",i.OldSimOrGd),c.xb(1),c.Zb("ngIf",i.OldSimOrGd&&i.photoBackSite&&i.photoFontSite),c.xb(1),c.Zb("ngIf",i.uploadId),c.xb(1),c.Zb("disabled",!i.simSwapForm.valid))},directives:[s.o,s.P,s.d,s.B,s.O,s.c,s.j,s.E,s.F,n.k,n.h,n.c,s.e,s.t,s.p,o.j,s.x,s.s,s.Z,n.g,n.b,s.V,s.I,s.Y,s.J,s.k],styles:["ion-button[_ngcontent-%COMP%]{font-size:10px}.choseCamera[_ngcontent-%COMP%]{font-size:40px;margin-right:15px}.selectCamera[_ngcontent-%COMP%]{font-size:35px;margin-right:15px}.uploads[_ngcontent-%COMP%]{font-size:30px;margin-left:15px}.imageClasss[_ngcontent-%COMP%]{margin-left:10px;border-radius:25px;border:1px solid #00f}strong[_ngcontent-%COMP%]{font-size:10px}"]}),t})()},{path:"sim-list",loadChildren:()=>e.e(0).then(e.bind(null,"OA2/")).then(t=>t.SimListPageModule)}];let T=(()=>{class t{}return t.\u0275mod=c.Fb({type:t}),t.\u0275inj=c.Eb({factory:function(i){return new(i||t)},imports:[[r.i.forChild(y)],r.i]}),t})();var w=e("tk/3");let C=(()=>{class t{}return t.\u0275mod=c.Fb({type:t}),t.\u0275inj=c.Eb({factory:function(i){return new(i||t)},imports:[[n.i,r.i,w.b,o.b,n.d,s.Q,T]]}),t})()}}]);