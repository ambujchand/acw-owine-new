(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{sRk8:function(o,t,n){"use strict";n.r(t),n.d(t,"ShowOrderPageModule",(function(){return g}));var e=n("ofXK"),i=n("3Pt+"),r=n("TEn/"),s=n("tyNb"),l=n("mrSG"),c=n("Uyt4"),a=n("fXoL"),d=n("3LUQ"),b=n("9Ryk");function h(o,t){if(1&o){const o=a.Lb();a.Kb(0,"ion-card"),a.Kb(1,"ion-col",9),a.Sb("click",(function(){a.fc(o);const n=t.$implicit;return a.Ub(2).orderHistory(n.order_history)})),a.Kb(2,"strong",10),a.jc(3),a.Jb(),a.jc(4),a.Jb(),a.Jb()}if(2&o){const o=t.$implicit;a.xb(3),a.kc(o.order_type),a.xb(1),a.lc(" ",o.order_history.length," ")}}function u(o,t){if(1&o&&(a.Kb(0,"ion-row"),a.ic(1,h,5,2,"ion-card",6),a.Jb()),2&o){const o=t.$implicit;a.xb(1),a.Zb("ngForOf",o)}}const p=[{path:"",component:(()=>{class o{constructor(o,t,n,e){this.modalController=o,this.loading=t,this.router=n,this.order=e,this.alldata=[]}ionViewWillEnter(){this.value=0,this.alldata=[],this.getOrders()}loadData(o){setTimeout(()=>{console.log("Done"),console.log(o),this.getOrders(),o.target.complete()},2e3)}doRefresh(o){console.log("Begin async operation"),this.getOrders(),setTimeout(()=>{console.log("Async operation has ended"),o.target.complete()},2e3)}getOrders(){this.loading.present();const o=new FormData;o.append("skip_id",JSON.stringify(this.value)),this.order.getOrders(o).subscribe(o=>{console.log(o),o.length>0&&(this.value=this.value+o.length,this.alldata.push(o)),this.loading.dismiss()},o=>{0==o.status?(this.loading.presentToastWarning("check your internet connection."),this.loading.dismiss()):500==o.status&&(this.loading.presentToastError("Server error."),this.loading.dismiss())})}orderHistory(o){return Object(l.a)(this,void 0,void 0,(function*(){if(console.log(o),o.length>0){const t=yield this.modalController.create({component:c.a,cssClass:"my-custom-class",componentProps:{orderHistory:o},swipeToClose:!0,backdropDismiss:!0,showBackdrop:!0});return t.onDidDismiss().then(o=>{console.log(o),this.value=0,this.alldata=[],this.getOrders()}),yield t.present()}this.loading.presentToastWarning("Not have a Product.")}))}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(a.Hb(r.T),a.Hb(d.a),a.Hb(s.g),a.Hb(b.a))},o.\u0275cmp=a.Bb({type:o,selectors:[["app-show-order"]],viewQuery:function(o,t){var n;1&o&&a.mc(r.q,!0),2&o&&a.ec(n=a.Tb())&&(t.infiniteScroll=n.first)},decls:16,vars:1,consts:[["slot","start"],["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","pullingText","Pull to refresh","refreshingSpinner","circles"],["vertical","bottom","horizontal","end","slot","fixed"],["routerLink","/add-order"],["name","add"],[4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading..."],[3,"click"],[1,"orderTypeTxt"]],template:function(o,t){1&o&&(a.Kb(0,"ion-header"),a.Kb(1,"ion-toolbar"),a.Kb(2,"ion-buttons",0),a.Ib(3,"ion-menu-button"),a.Jb(),a.Kb(4,"ion-title"),a.jc(5,"Orders"),a.Jb(),a.Jb(),a.Jb(),a.Kb(6,"ion-content"),a.Kb(7,"ion-refresher",1),a.Sb("ionRefresh",(function(o){return t.doRefresh(o)})),a.Ib(8,"ion-refresher-content",2),a.Jb(),a.Kb(9,"ion-fab",3),a.Kb(10,"ion-fab-button",4),a.Ib(11,"ion-icon",5),a.Jb(),a.Jb(),a.Kb(12,"ion-grid"),a.ic(13,u,2,1,"ion-row",6),a.Jb(),a.Kb(14,"ion-infinite-scroll",7),a.Sb("ionInfinite",(function(o){return t.loadData(o)})),a.Ib(15,"ion-infinite-scroll-content",8),a.Jb(),a.Jb()),2&o&&(a.xb(13),a.Zb("ngForOf",t.alldata))},directives:[r.o,r.P,r.d,r.B,r.O,r.j,r.E,r.F,r.l,r.m,r.X,s.h,r.p,r.n,e.i,r.q,r.r,r.H,r.e,r.i],styles:[".orderTypeTxt[_ngcontent-%COMP%]{font-size:20px;color:brown}"]}),o})()}];let f=(()=>{class o{}return o.\u0275mod=a.Fb({type:o}),o.\u0275inj=a.Eb({factory:function(t){return new(t||o)},imports:[[s.i.forChild(p)],s.i]}),o})(),g=(()=>{class o{}return o.\u0275mod=a.Fb({type:o}),o.\u0275inj=a.Eb({factory:function(t){return new(t||o)},imports:[[e.b,i.d,r.Q,f]]}),o})()}}]);