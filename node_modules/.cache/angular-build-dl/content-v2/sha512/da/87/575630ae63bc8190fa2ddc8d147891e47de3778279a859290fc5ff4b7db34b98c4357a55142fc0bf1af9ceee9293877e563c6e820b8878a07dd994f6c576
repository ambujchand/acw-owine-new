!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{dRqW:function(o,r,n){"use strict";n.r(r),n.d(r,"ProductDetailsPageModule",(function(){return O}));var i=n("ofXK"),a=n("3Pt+"),s=n("TEn/"),d=n("tyNb"),c=n("fXoL"),l=n("3LUQ"),u=n("qL+e");function p(t,e){if(1&t){var o=c.Pb();c.Ob(0,"div",16),c.Ob(1,"p",17),c.jc(2),c.Nb(),c.Ob(3,"div"),c.Ob(4,"span",17),c.jc(5,"Sold Quantity"),c.Nb(),c.Ob(6,"input",18),c.Wb("ngModelChange",(function(t){return c.fc(o),c.Zb().formData.sold_qty=t})),c.Nb(),c.Ob(7,"input",19),c.Wb("ngModelChange",(function(t){return c.fc(o),c.Zb().formData.sold_date=t})),c.Nb(),c.Ob(8,"input",20),c.Wb("click",(function(){return c.fc(o),c.Zb().updateSoldQty()})),c.Nb(),c.Nb(),c.Nb()}if(2&t){var r=c.Zb();c.xb(2),c.lc("Available Quantity : ",r.productDetails.qty_per_unit?r.productDetails.qty_per_unit:r.productDetails.qty,""),c.xb(4),c.cc("ngModel",r.formData.sold_qty),c.xb(1),c.cc("ngModel",r.formData.sold_date)}}var b,h,g,f=[{path:"",component:(b=function(){function o(e,r,n,i){t(this,o),this.loading=e,this.router=r,this.formBuilder=n,this.product=i,this.addOrderForm=this.formBuilder.group({id:[""],product_description:[""],image:[""],product_name:[""],qty_per_unit:[""],unit_price:[""],order_qty:[1],sold_qty:[""],sold_date:[""]}),this.formData={order_qty:1,id:null,sold_qty:0,sold_date:null},this.sellProductDetails=[];var a=new Date;this.formData.sold_date=a.toISOString().slice(0,10),this.router.getCurrentNavigation().extras.state&&(this.productDetails=this.router.getCurrentNavigation().extras.state.productDetails,this.rouerUrl=this.router.getCurrentNavigation().extras.state.routerUrl,console.log(this.rouerUrl),this.formData.id=this.productDetails?this.productDetails.id:"",this.addOrderForm.controls.id.setValue(this.productDetails?this.productDetails.id:""),this.addOrderForm.controls.product_description.setValue(this.productDetails?this.productDetails.product_description:""),this.addOrderForm.controls.image.setValue(this.productDetails?this.productDetails.image:""),this.addOrderForm.controls.product_name.setValue(this.productDetails?this.productDetails.product_name:""),this.addOrderForm.controls.qty_per_unit.setValue(this.productDetails?this.productDetails.qty:""),this.addOrderForm.controls.unit_price.setValue(this.productDetails?this.productDetails.unit_price:"")),console.log(this.productDetails),this.checkCatId()}var r,n,i;return r=o,(n=[{key:"checkCatId",value:function(){this.productDetails||this.router.navigateByUrl("/product-list")}},{key:"doRefresh",value:function(t){console.log("Begin async operation"),setTimeout((function(){console.log("Async operation has ended"),t.target.complete()}),2e3)}},{key:"addQty",value:function(){this.formData.order_qty+=1}},{key:"removeQty",value:function(){this.formData.order_qty-=1}},{key:"addOrder",value:function(){this.addOrderForm.controls.order_qty.setValue(this.formData?this.formData.order_qty:""),this.addOrderForm.controls.sold_qty.setValue(this.formData?this.formData.sold_qty:""),this.addOrderForm.controls.sold_date.setValue(this.formData?this.formData.sold_date:""),console.log(this.addOrderForm.value),this.router.navigate(["/order-list"],{state:{orderDetails:this.addOrderForm.value,rouerUrl:this.rouerUrl}})}},{key:"updateSoldQty",value:function(){var t=this;this.formData.sold_qty>0?(this.loading.present(),this.product.updateSoldQty(this.formData).subscribe((function(e){t.loading.dismiss(),console.log(e),e.success&&(t.loading.presentToastSuccess(e.success),t.productDetails.qty=e.data),e.error&&t.loading.presentToastError(e.error)}),(function(e){0==e.status?(t.loading.presentToastWarning("check your internet connection."),t.loading.dismiss()):500==e.status&&(t.loading.presentToastError("Server error."),t.loading.dismiss())}))):this.loading.presentToastWarning("Please Enter Sold Quantity")}},{key:"ngOnInit",value:function(){}}])&&e(r.prototype,n),i&&e(r,i),o}(),b.\u0275fac=function(t){return new(t||b)(c.Jb(l.a),c.Jb(d.g),c.Jb(a.b),c.Jb(u.a))},b.\u0275cmp=c.Db({type:b,selectors:[["app-product-details"]],decls:35,vars:7,consts:[["slot","start"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","circles"],[2,"margin","5px 10px 5px 10px"],[1,"imageSize",2,"height","38vh","width","53vh","border-radius","10px","margin-bottom","2vh",3,"src"],[1,"pl-0"],[2,"padding-right","1px","text-align","center",3,"click"],["name","remove-outline",2,"background-color","#dee2e6cc","font-size","5vh"],[2,"padding","5px 0px 0px 0px"],["type","number","name","order_qty",2,"width","45px",3,"ngModel","ngModelChange"],[2,"padding-right","1px",3,"click"],["name","add-outline",2,"background-color","#dee2e6cc","font-size","5vh"],[2,"padding-top","0px","padding-right","1px"],[2,"color","#F6B003",3,"click"],["class","details",4,"ngIf"],[1,"details"],[2,"font-size","18px","margin-left","3vh","color","#F6B003"],["type","number","name","description",1,"inputClass",3,"ngModel","ngModelChange"],["type","date","readonly","readonly","name","description",1,"inputClass",2,"margin-left","0px","width","18vh","color","#F6B003",3,"ngModel","ngModelChange"],["type","button","name","Update","value","Update",1,"button-style",3,"click"]],template:function(t,e){1&t&&(c.Ob(0,"ion-header"),c.Ob(1,"ion-toolbar"),c.Ob(2,"ion-buttons",0),c.Kb(3,"ion-menu-button"),c.Nb(),c.Ob(4,"ion-title"),c.jc(5,"Product Details"),c.Nb(),c.Nb(),c.Nb(),c.Ob(6,"ion-content",1),c.Ob(7,"ion-refresher",2),c.Wb("ionRefresh",(function(t){return e.doRefresh(t)})),c.Kb(8,"ion-refresher-content",3),c.Nb(),c.Ob(9,"div",4),c.Ob(10,"strong"),c.jc(11),c.Nb(),c.Kb(12,"br"),c.Kb(13,"br"),c.Kb(14,"img",5),c.Ob(15,"p"),c.jc(16),c.Nb(),c.Ob(17,"ion-grid",6),c.Ob(18,"ion-row"),c.Ob(19,"ion-col",6),c.Ob(20,"b"),c.jc(21,"Order"),c.Nb(),c.Nb(),c.Ob(22,"ion-col",7),c.Wb("click",(function(){return e.removeQty()})),c.Kb(23,"ion-icon",8),c.Nb(),c.Ob(24,"ion-col",9),c.Ob(25,"input",10),c.Wb("ngModelChange",(function(t){return e.formData.order_qty=t})),c.Nb(),c.Nb(),c.Ob(26,"ion-col",11),c.Wb("click",(function(){return e.addQty()})),c.Kb(27,"ion-icon",12),c.Nb(),c.Ob(28,"ion-col",13),c.Ob(29,"ion-button",14),c.Wb("click",(function(){return e.addOrder()})),c.jc(30,"Add to Cart"),c.Nb(),c.Kb(31,"br"),c.Nb(),c.Nb(),c.Nb(),c.Ob(32,"b"),c.jc(33),c.Nb(),c.Nb(),c.ic(34,p,9,3,"div",15),c.Nb()),2&t&&(c.xb(6),c.cc("fullscreen",!0),c.xb(5),c.lc("",e.productDetails.product_name," "),c.xb(3),c.dc("src",e.productDetails.image,c.gc),c.xb(2),c.kc(e.productDetails.product_description),c.xb(9),c.cc("ngModel",e.formData.order_qty),c.xb(8),c.lc("Cost : ",e.productDetails.unit_price,""),c.xb(1),c.cc("ngIf","/product-catagory"==e.rouerUrl))},directives:[s.m,s.K,s.d,s.v,s.J,s.h,s.y,s.z,s.l,s.B,s.g,s.n,a.k,a.a,a.h,a.j,s.c,i.i],styles:["strong[_ngcontent-%COMP%]{color:#6b3d1a}.iconClass[_ngcontent-%COMP%]{padding:0;margin:5vw 0 0}p[_ngcontent-%COMP%]{padding:1px;margin:1px;font-size:4vw}.imageSize[_ngcontent-%COMP%]{height:45vh;width:45vh}.details[_ngcontent-%COMP%]{border-radius:0 60px 0 0;padding-top:3vh;position:fixed;bottom:0;width:100%;height:89px;margin:0;color:#ffcc6a;text-transform:capitalize}.details[_ngcontent-%COMP%], .inputClass[_ngcontent-%COMP%]{background-color:#6b3d1a}.inputClass[_ngcontent-%COMP%]{border:1px solid #f6b003;margin-left:8px;width:7vh}.inputClass2[_ngcontent-%COMP%]{font-size:11px;margin-left:-57px}ion-button[_ngcontent-%COMP%]{font-size:10px}.item-native[_ngcontent-%COMP%]{padding-left:0}.orderButton[_ngcontent-%COMP%]{bottom:0;width:100%;height:46px;margin:0;color:#ffcc6a;text-transform:capitalize;font-weight:bolder}.button-style[_ngcontent-%COMP%]{position:absolute;background:#eda71a;color:#000;border:none;font-size:15px;padding:3px 6px}"]}),b)}],m=((h=function e(){t(this,e)}).\u0275mod=c.Hb({type:h}),h.\u0275inj=c.Gb({factory:function(t){return new(t||h)},imports:[[d.i.forChild(f)],d.i]}),h),y=n("tk/3"),O=((g=function e(){t(this,e)}).\u0275mod=c.Hb({type:g}),g.\u0275inj=c.Gb({factory:function(t){return new(t||g)},imports:[[a.l,d.i,y.b,i.b,a.e,s.L,m]]}),g)}}])}();