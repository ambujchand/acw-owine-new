!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{XKzW:function(o,t,i){"use strict";i.r(t),i.d(t,"EmployeeListPageModule",(function(){return k}));var s=i("ofXK"),l=i("3Pt+"),r=i("TEn/"),a=i("tyNb"),c=i("mrSG"),u=i("fXoL"),b=i("3LUQ"),p=i("2HJl");function m(e,n){1&e&&(u.Ob(0,"ion-col",17),u.Kb(1,"img",18),u.Nb())}function f(e,n){if(1&e&&(u.Ob(0,"ion-col",17),u.Kb(1,"img",19),u.Nb()),2&e){var o=u.Zb().$implicit;u.xb(1),u.dc("src",o.image,u.gc)}}function g(e,n){if(1&e){var o=u.Pb();u.Ob(0,"ion-grid"),u.Ob(1,"ion-row",11),u.ic(2,m,2,0,"ion-col",12),u.ic(3,f,2,1,"ion-col",12),u.Ob(4,"ion-col",13),u.Ob(5,"b"),u.jc(6),u.Nb(),u.Ob(7,"p"),u.jc(8),u.Nb(),u.Nb(),u.Ob(9,"ion-col",14),u.Ob(10,"ion-icon",15),u.Wb("click",(function(){u.fc(o);var e=n.$implicit;return u.Zb().editEmployee(e)})),u.Nb(),u.Ob(11,"ion-icon",16),u.Wb("click",(function(){u.fc(o);var e=n.$implicit;return u.Zb().deleteEmployee(e.id)})),u.Nb(),u.Nb(),u.Nb(),u.Nb()}if(2&e){var t=n.$implicit;u.xb(2),u.cc("ngIf",!t.image),u.xb(1),u.cc("ngIf",t.image),u.xb(3),u.kc(t.name),u.xb(2),u.lc("Employee id : E000",t.id,"")}}var d,h,y,v=[{path:"",component:(d=function(){function o(n,t,i,s){e(this,o),this.loading=n,this.router=t,this.empservices=i,this.alertController=s,this.allEmployees=[]}var t,i,s;return t=o,(i=[{key:"doRefresh",value:function(e){console.log("Begin async operation"),this.getEmployees(),setTimeout((function(){console.log("Async operation has ended"),e.target.complete()}),2e3)}},{key:"loadData",value:function(e){setTimeout((function(){console.log("Done"),console.log(e),e.target.complete()}),2e3)}},{key:"ionViewWillEnter",value:function(){this.getEmployees()}},{key:"findEmployeeName",value:function(e){if(console.log(this.allEmployees),e.target.value.length>0){var n=[];console.log(this.employee);for(var o=0;o<this.employee.length;o++)this.employee[o].name.toLowerCase().slice(0,e.target.value.length)==e.target.value.toLowerCase()&&n.push(this.employee[o]);this.allEmployees=n,console.log(this.allEmployees)}else this.allEmployees=this.employee}},{key:"getEmployees",value:function(){var e=this;this.loading.present();var n=new FormData;n.append("skip_id",JSON.stringify(this.value)),this.empservices.getEmployeeDetails(n).subscribe((function(n){console.log(n),e.employeeId=n.data,e.employee=n.data,e.allEmployees=n.data,n.length>0&&(e.value=e.value+n.data.length,e.allEmployees.push(n.data)),e.loading.dismiss()}),(function(n){0==n.status?(e.loading.presentToastWarning("check your internet connection."),e.loading.dismiss()):500==n.status&&(e.loading.presentToastError("Server error."),e.loading.dismiss())}))}},{key:"editEmployee",value:function(e){console.log(e),this.router.navigate(["/create-employee"],{state:{empDetails:e}})}},{key:"deleteEmployee",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var o,t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Are You Sure",message:"<small>You Want To Delete This ?</small>",buttons:[{text:"Cancel",role:"cancel",cssClass:"success"},{text:"Ok",handler:function(){t.loading.present();var n=new FormData;n.append("id",e),t.empservices.deleteEmployee(n).subscribe((function(e){console.log(e),t.loading.dismiss(),t.loading.presentToastSuccess(e.success),t.getEmployees()}),(function(e){0==e.status?(t.loading.presentToastWarning("check your internet connection."),t.loading.dismiss()):500==e.status&&(t.loading.dismiss(),t.loading.presentToastError("Server error."))}))}}]});case 2:return o=n.sent,n.next=5,o.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"createEmployee",value:function(){this.router.navigateByUrl("/create-employee")}},{key:"ngOnInit",value:function(){}}])&&n(t.prototype,i),s&&n(t,s),o}(),d.\u0275fac=function(e){return new(e||d)(u.Jb(b.a),u.Jb(a.g),u.Jb(p.a),u.Jb(r.a))},d.\u0275cmp=u.Db({type:d,selectors:[["app-employee-list"]],decls:17,vars:2,consts:[["slot","start"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","circles"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],["showCancelButton","focus",3,"ionInput"],[4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading..."],[2,"background-color","#FAFAFA"],["size","3",4,"ngIf"],[1,"textClass"],["size","3",1,"iconClass",2,"text-align","center"],["name","create-outline",3,"click"],["name","close-circle",2,"color","red",3,"click"],["size","3"],["src","assets/icons/test.jpg",1,"imageSize"],[1,"imageSize",3,"src"]],template:function(e,n){1&e&&(u.Ob(0,"ion-header"),u.Ob(1,"ion-toolbar"),u.Ob(2,"ion-buttons",0),u.Kb(3,"ion-menu-button"),u.Nb(),u.Ob(4,"ion-title"),u.jc(5,"Employee List"),u.Nb(),u.Nb(),u.Nb(),u.Ob(6,"ion-content",1),u.Ob(7,"ion-refresher",2),u.Wb("ionRefresh",(function(e){return n.doRefresh(e)})),u.Kb(8,"ion-refresher-content",3),u.Nb(),u.Ob(9,"ion-fab",4),u.Ob(10,"ion-fab-button",5),u.Wb("click",(function(){return n.createEmployee()})),u.Kb(11,"ion-icon",6),u.Nb(),u.Nb(),u.Ob(12,"ion-searchbar",7),u.Wb("ionInput",(function(e){return n.findEmployeeName(e)})),u.Nb(),u.Ob(13,"ion-list"),u.ic(14,g,12,4,"ion-grid",8),u.Nb(),u.Ob(15,"ion-infinite-scroll",9),u.Wb("ionInfinite",(function(e){return n.loadData(e)})),u.Kb(16,"ion-infinite-scroll-content",10),u.Nb(),u.Nb()),2&e&&(u.xb(6),u.cc("fullscreen",!0),u.xb(8),u.cc("ngForOf",n.allEmployees))},directives:[r.m,r.K,r.d,r.v,r.J,r.h,r.y,r.z,r.j,r.k,r.n,r.C,r.T,r.t,s.h,r.o,r.p,r.l,r.B,s.i,r.g],styles:["p[_ngcontent-%COMP%]{margin:1px;padding:0;font-size:3vw}b[_ngcontent-%COMP%]{color:#6b3d1a}.iconClass[_ngcontent-%COMP%]{padding:0;margin:5vw 0 0}ion-icon[_ngcontent-%COMP%]{font-size:4vh;margin-left:1px}"]}),d)}],O=((h=function n(){e(this,n)}).\u0275mod=u.Hb({type:h}),h.\u0275inj=u.Gb({factory:function(e){return new(e||h)},imports:[[a.i.forChild(v)],a.i]}),h),E=i("tk/3"),k=((y=function n(){e(this,n)}).\u0275mod=u.Hb({type:y}),y.\u0275inj=u.Gb({factory:function(e){return new(e||y)},imports:[[l.l,a.i,E.b,s.b,l.e,r.L,O]]}),y)}}])}();