!function(){function e(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function o(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"716p":function(n,t,r){"use strict";r.r(t),r.d(t,"AddOrderPageModule",(function(){return v}));var i=r("ofXK"),a=r("3Pt+"),c=r("TEn/"),s=r("tyNb"),b=r("fXoL"),d=r("3LUQ"),u=r("KqBo"),l=r("9Ryk");function p(e,o){if(1&e){var n=b.Lb();b.Kb(0,"span"),b.Ib(1,"img",17),b.Kb(2,"ion-icon",18),b.Sb("click",(function(){return b.fc(n),b.Ub().uploadsPhotos()})),b.Jb(),b.Jb()}if(2&e){var t=b.Ub();b.xb(1),b.Zb("src",t.photo,b.gc)}}var m,g,h,f=[{path:"",component:(m=function(){function n(o,t,r,i,c){e(this,n),this.loading=o,this.camera=t,this.formBuilder=r,this.router=i,this.order=c,this.getOrderForm=this.formBuilder.group({shop_id:["",[a.j.required]],order_image:[""],order_type:["",[a.j.required]],product_name:["",[a.j.required]],customer_phone:["",[a.j.required]],order_price:["",[a.j.required]],advance_payment:["",[a.j.required]],delivery_date:["",[a.j.required]]});var s=JSON.parse(localStorage.getItem("shop"));this.getOrderForm.controls.shop_id.setValue(s?s.id[0].id:null)}var t,r,i;return t=n,(r=[{key:"doRefresh",value:function(e){console.log("Begin async operation"),setTimeout((function(){console.log("Async operation has ended"),e.target.complete()}),2e3)}},{key:"captureImage",value:function(){var e=this;this.camera.getPicture({quality:30,allowEdit:!0,saveToPhotoAlbum:!0,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then((function(o){e.photo="data:image/jpeg;base64,"+o,e.getOrderForm.controls.order_image.setValue(e.photo?e.photo:null)}),(function(o){console.log(o),e.loading.presentToastWarning(o)}))}},{key:"takePhoto",value:function(){var e=this;this.camera.getPicture({quality:30,sourceType:this.camera.PictureSourceType.PHOTOLIBRARY,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,correctOrientation:!0}).then((function(o){e.photo="data:image/jpeg;base64,"+o,e.getOrderForm.controls.order_image.setValue(e.photo?e.photo:"")}),(function(e){}))}},{key:"uploadsPhotos",value:function(){}},{key:"addOrders",value:function(){var e=this;this.loading.present(),this.getOrderForm.controls.order_type.setValue(this.getOrderForm.value.order_type?this.getOrderForm.value.order_type.toLocaleUpperCase():null),this.order.addOrder(this.getOrderForm.value).subscribe((function(o){console.log(o),e.loading.dismiss(),e.loading.presentToastSuccess(o.success),e.router.navigateByUrl("/show-orders")}),(function(o){0==o.status?(e.loading.presentToastWarning("check your internet connection."),e.loading.dismiss()):500==o.status&&(e.loading.dismiss(),e.loading.presentToastError("Server error."))}))}},{key:"ngOnInit",value:function(){}}])&&o(t.prototype,r),i&&o(t,i),n}(),m.\u0275fac=function(e){return new(e||m)(b.Hb(d.a),b.Hb(u.a),b.Hb(a.a),b.Hb(s.g),b.Hb(l.a))},m.\u0275cmp=b.Bb({type:m,selectors:[["app-add-order"]],decls:49,vars:3,consts:[["slot","start"],["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","pullingText","Pull to refresh","refreshingSpinner","circles"],[3,"formGroup","ngSubmit"],[2,"margin-top","10px"],["name","camera-outline",1,"choseCamera",3,"click"],[1,"selectCamera"],["name","image-outline",3,"click"],[4,"ngIf"],["position","floating"],["type","name","formControlName","order_type"],["type","name","formControlName","product_name"],["type","number","formControlName","customer_phone"],["type","number","formControlName","order_price"],["type","name","formControlName","advance_payment"],["formControlName","delivery_date","displayFormat","DD/MM/YYYY"],["type","submit","shape","round","color","success","expand","block",3,"disabled"],["height","60","width","60",1,"imageClasss",3,"src"],["name","cloud-upload-outline",1,"uploads",3,"click"]],template:function(e,o){1&e&&(b.Kb(0,"ion-header"),b.Kb(1,"ion-toolbar"),b.Kb(2,"ion-buttons",0),b.Ib(3,"ion-menu-button"),b.Jb(),b.Kb(4,"ion-title"),b.jc(5,"Get Orders"),b.Jb(),b.Jb(),b.Jb(),b.Kb(6,"ion-content"),b.Kb(7,"ion-refresher",1),b.Sb("ionRefresh",(function(e){return o.doRefresh(e)})),b.Ib(8,"ion-refresher-content",2),b.Jb(),b.Kb(9,"form",3),b.Sb("ngSubmit",(function(){return o.addOrders()})),b.Kb(10,"ion-card",4),b.Kb(11,"ion-item"),b.Kb(12,"div"),b.Kb(13,"ion-icon",5),b.Sb("click",(function(){return o.captureImage()})),b.Jb(),b.Jb(),b.Kb(14,"div",6),b.Kb(15,"ion-icon",7),b.Sb("click",(function(){return o.takePhoto()})),b.Jb(),b.Jb(),b.Kb(16,"div"),b.ic(17,p,3,1,"span",8),b.Jb(),b.Jb(),b.Jb(),b.Kb(18,"ion-card"),b.Kb(19,"ion-item"),b.Kb(20,"ion-label",9),b.jc(21,"Order Type"),b.Jb(),b.Ib(22,"ion-input",10),b.Jb(),b.Jb(),b.Kb(23,"ion-card"),b.Kb(24,"ion-item"),b.Kb(25,"ion-label",9),b.jc(26,"Product Name"),b.Jb(),b.Ib(27,"ion-input",11),b.Jb(),b.Jb(),b.Kb(28,"ion-card"),b.Kb(29,"ion-item"),b.Kb(30,"ion-label",9),b.jc(31,"Customer Phone"),b.Jb(),b.Ib(32,"ion-input",12),b.Jb(),b.Jb(),b.Kb(33,"ion-card"),b.Kb(34,"ion-item"),b.Kb(35,"ion-label",9),b.jc(36,"Order Price"),b.Jb(),b.Ib(37,"ion-input",13),b.Jb(),b.Jb(),b.Kb(38,"ion-card"),b.Kb(39,"ion-item"),b.Kb(40,"ion-label",9),b.jc(41,"Advance Payment"),b.Jb(),b.Ib(42,"ion-input",14),b.Jb(),b.Jb(),b.Kb(43,"ion-item"),b.Kb(44,"ion-label"),b.jc(45,"Delivery Date"),b.Jb(),b.Ib(46,"ion-datetime",15),b.Jb(),b.Kb(47,"ion-button",16),b.jc(48,"Submit"),b.Jb(),b.Jb(),b.Jb()),2&e&&(b.xb(9),b.Zb("formGroup",o.getOrderForm),b.xb(8),b.Zb("ngIf",o.photo),b.xb(30),b.Zb("disabled",!o.getOrderForm.valid))},directives:[c.o,c.P,c.d,c.B,c.O,c.j,c.E,c.F,a.k,a.h,a.c,c.e,c.t,c.p,i.j,c.x,c.s,c.Z,a.g,a.b,c.V,c.k,c.Y,c.c],styles:[".choseCamera[_ngcontent-%COMP%]{font-size:40px;margin-right:15px}.selectCamera[_ngcontent-%COMP%]{font-size:35px;margin-right:15px}.uploads[_ngcontent-%COMP%]{font-size:30px;margin-left:15px}.imageClasss[_ngcontent-%COMP%]{margin-left:10px;border-radius:25px;border:1px solid #00f}"]}),m)}],y=((g=function o(){e(this,o)}).\u0275mod=b.Fb({type:g}),g.\u0275inj=b.Eb({factory:function(e){return new(e||g)},imports:[[s.i.forChild(f)],s.i]}),g),J=r("tk/3"),v=((h=function o(){e(this,o)}).\u0275mod=b.Fb({type:h}),h.\u0275inj=b.Eb({factory:function(e){return new(e||h)},imports:[[a.i,s.i,J.b,i.b,a.d,c.Q,y]]}),h)}}])}();