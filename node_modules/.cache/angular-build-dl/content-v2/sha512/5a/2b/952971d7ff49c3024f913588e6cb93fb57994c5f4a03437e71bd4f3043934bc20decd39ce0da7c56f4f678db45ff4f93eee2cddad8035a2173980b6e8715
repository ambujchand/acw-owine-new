(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{bDmA:function(t,n,o){"use strict";o.r(n),o.d(n,"CurrentInventoryPageModule",(function(){return f}));var e=o("ofXK"),i=o("3Pt+"),s=o("TEn/"),r=o("tyNb"),c=o("mrSG"),a=o("fXoL"),l=o("3LUQ"),d=o("qL+e");function u(t,n){if(1&t){const t=a.Pb();a.Ob(0,"ion-icon",18),a.Wb("click",(function(){a.fc(t);const n=a.Zb().$implicit;return a.Zb().editProduct(n)})),a.Nb()}}function g(t,n){if(1&t){const t=a.Pb();a.Ob(0,"ion-icon",19),a.Wb("click",(function(){a.fc(t);const n=a.Zb().$implicit;return a.Zb().deleteProduct(n.id)})),a.Nb()}}function b(t,n){if(1&t){const t=a.Pb();a.Ob(0,"ion-row",11),a.Ob(1,"ion-col"),a.Kb(2,"img",12),a.Nb(),a.Ob(3,"ion-col",13),a.Ob(4,"b"),a.jc(5),a.Nb(),a.Ob(6,"p"),a.jc(7),a.Nb(),a.Ob(8,"p"),a.jc(9),a.Nb(),a.Nb(),a.Ob(10,"ion-col",14),a.Ob(11,"ion-icon",15),a.Wb("click",(function(){a.fc(t);const o=n.$implicit;return a.Zb().productDetails(o)})),a.Nb(),a.ic(12,u,1,0,"ion-icon",16),a.ic(13,g,1,0,"ion-icon",17),a.Nb(),a.Nb()}if(2&t){const t=n.$implicit,o=a.Zb();a.xb(2),a.dc("src",t.image,a.gc),a.xb(3),a.kc(t.product_name),a.xb(2),a.lc("Sale : $ ",t.sale_price,""),a.xb(2),a.lc("Qty : ",t.qty,""),a.xb(3),a.cc("ngIf",1==o.ifLogin.user.parent_id),a.xb(1),a.cc("ngIf",1==o.ifLogin.user.parent_id)}}const h=[{path:"",component:(()=>{class t{constructor(t,n,o,e){this.loading=t,this.router=n,this.product=o,this.alertController=e,this.ifLogin=JSON.parse(localStorage.getItem("user")),this.router.getCurrentNavigation().extras.state&&(this.categoryId=this.router.getCurrentNavigation().extras.state.categoryId)}doRefresh(t){console.log("Begin async operation"),this.getfindInventoryDetails(),setTimeout(()=>{console.log("Async operation has ended"),t.target.complete()},2e3)}loadData(t){setTimeout(()=>{console.log("Done"),console.log(t),this.products.length==this.products.length&&(t.target.disabled=!0),t.target.complete()},2e3)}ionViewWillEnter(){this.getfindInventoryDetails()}findInventoryName(t){if(console.log(this.allProducts),t.target.value.length>0){var n=[];console.log(this.products);for(let o=0;o<this.products.length;o++)this.products[o].product_name.toLowerCase().slice(0,t.target.value.length)==t.target.value.toLowerCase()&&n.push(this.products[o]);this.allProducts=n,console.log(this.allProducts)}else this.allProducts=this.products}getfindInventoryDetails(){this.loading.present(),console.log(this.categoryId);const t=new FormData;t.append("category_id",null==this.categoryId?"":this.categoryId),this.product.getInventoryDetails(t).subscribe(t=>{console.log(t),this.allProducts=t.data,this.products=t.data,t.length>0&&(this.value=this.value+t.data.length,this.allProducts.push(t.data)),this.loading.dismiss()},t=>{0==t.status?(this.loading.presentToastWarning("check your internet connection."),this.loading.dismiss()):500==t.status&&(this.loading.presentToastError("Server error."),this.loading.dismiss())})}productDetails(t){console.log(t),console.log("ooooo"),this.router.navigate(["/product-details"],{state:{productDetails:t}})}addProduct(){this.router.navigateByUrl("/add-product")}editProduct(t){console.log(t),this.router.navigate(["/add-product"],{state:{product:t}})}deleteProduct(t){return Object(c.a)(this,void 0,void 0,(function*(){const n=yield this.alertController.create({cssClass:"my-custom-class",header:"Are You Sure",message:"<small>You Want To Delete This ?</small>",buttons:[{text:"Cancel",role:"cancel",cssClass:"success"},{text:"Ok",handler:()=>{this.loading.present();const n=new FormData;n.append("id",t),this.product.deleteProduct(n).subscribe(t=>{console.log(t),this.loading.dismiss(),this.loading.presentToastSuccess(t.success),this.getfindInventoryDetails()},t=>{0==t.status?(this.loading.presentToastWarning("check your internet connection."),this.loading.dismiss()):500==t.status&&(this.loading.dismiss(),this.loading.presentToastError("Server error."))})}}]});yield n.present()}))}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(a.Jb(l.a),a.Jb(r.g),a.Jb(d.a),a.Jb(s.a))},t.\u0275cmp=a.Db({type:t,selectors:[["app-current-inventory"]],decls:18,vars:2,consts:[["slot","start"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","circles"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],["showCancelButton","focus",3,"ionInput"],["style","background-color: #FAFAFA;",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading..."],[2,"background-color","#FAFAFA"],[1,"imageSize",3,"src"],[1,"textClass"],[1,"iconClass"],["name","bag-add-outline",2,"color","#6B3D1A",3,"click"],["name","create-outline",3,"click",4,"ngIf"],["name","close-outline","style","color: red;",3,"click",4,"ngIf"],["name","create-outline",3,"click"],["name","close-outline",2,"color","red",3,"click"]],template:function(t,n){1&t&&(a.Ob(0,"ion-header"),a.Ob(1,"ion-toolbar"),a.Ob(2,"ion-buttons",0),a.Kb(3,"ion-menu-button"),a.Nb(),a.Ob(4,"ion-title"),a.jc(5,"Current Inventory"),a.Nb(),a.Nb(),a.Nb(),a.Ob(6,"ion-content",1),a.Ob(7,"ion-refresher",2),a.Wb("ionRefresh",(function(t){return n.doRefresh(t)})),a.Kb(8,"ion-refresher-content",3),a.Nb(),a.Ob(9,"ion-fab",4),a.Ob(10,"ion-fab-button",5),a.Wb("click",(function(){return n.addProduct()})),a.Kb(11,"ion-icon",6),a.Nb(),a.Nb(),a.Ob(12,"ion-searchbar",7),a.Wb("ionInput",(function(t){return n.findInventoryName(t)})),a.Nb(),a.Ob(13,"ion-list"),a.Ob(14,"ion-grid"),a.ic(15,b,14,6,"ion-row",8),a.Nb(),a.Nb(),a.Ob(16,"ion-infinite-scroll",9),a.Wb("ionInfinite",(function(t){return n.loadData(t)})),a.Kb(17,"ion-infinite-scroll-content",10),a.Nb(),a.Nb()),2&t&&(a.xb(6),a.cc("fullscreen",!0),a.xb(9),a.cc("ngForOf",n.allProducts))},directives:[s.m,s.K,s.d,s.v,s.J,s.h,s.y,s.z,s.j,s.k,s.n,s.C,s.T,s.t,s.l,e.h,s.o,s.p,s.B,s.g,e.i],styles:[".trash[_ngcontent-%COMP%]{color:red;margin-right:2vw}.edit[_ngcontent-%COMP%], .trash[_ngcontent-%COMP%]{font-size:6vw}ion-row[_ngcontent-%COMP%]{background-color:#fafafa;margin-bottom:2vw}b[_ngcontent-%COMP%]{color:#6b3d1a;font-size:13px}.iconClass[_ngcontent-%COMP%]{padding:0;margin:5vw 0 0}p[_ngcontent-%COMP%]{padding:1px;margin:1px;font-size:4vw}.imageSize[_ngcontent-%COMP%]{height:21vw;width:21vw}ion-col[_ngcontent-%COMP%]{padding:1px;margin:1px}ion-icon[_ngcontent-%COMP%]{font-size:4vh;margin-left:1px}ion-grid[_ngcontent-%COMP%]{text-align:center}"]}),t})()}];let p=(()=>{class t{}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(n){return new(n||t)},imports:[[r.i.forChild(h)],r.i]}),t})(),f=(()=>{class t{}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(n){return new(n||t)},imports:[[e.b,i.e,s.L,p]]}),t})()}}]);