(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{dRqW:function(t,e,o){"use strict";o.r(e),o.d(e,"ProductDetailsPageModule",(function(){return h}));var r=o("ofXK"),i=o("3Pt+"),n=o("TEn/"),s=o("tyNb"),a=o("fXoL"),d=o("3LUQ"),c=o("qL+e");function l(t,e){if(1&t){const t=a.Pb();a.Ob(0,"div",17),a.Ob(1,"p",18),a.jc(2),a.Nb(),a.Ob(3,"div"),a.Ob(4,"span",18),a.jc(5,"Sold Quantity"),a.Nb(),a.Ob(6,"input",19),a.Wb("ngModelChange",(function(e){return a.fc(t),a.Zb().formData.sold_qty=e})),a.Nb(),a.Ob(7,"input",20),a.Wb("ngModelChange",(function(e){return a.fc(t),a.Zb().formData.sold_date=e})),a.Nb(),a.Ob(8,"input",21),a.Wb("click",(function(){return a.fc(t),a.Zb().updateSoldQty()})),a.Nb(),a.Nb(),a.Nb()}if(2&t){const t=a.Zb();a.xb(2),a.lc("Available Quantity : ",t.productDetails.qty_per_unit?t.productDetails.qty_per_unit:t.productDetails.qty,""),a.xb(4),a.cc("ngModel",t.formData.sold_qty),a.xb(1),a.cc("ngModel",t.formData.sold_date)}}const u=[{path:"",component:(()=>{class t{constructor(t,e,o,r){this.loading=t,this.router=e,this.formBuilder=o,this.product=r,this.addOrderForm=this.formBuilder.group({id:[""],product_description:[""],image:[""],product_name:[""],qty_per_unit:[""],unit_price:[""],order_qty:[1],sold_qty:[""],sold_date:[""]}),this.formData={order_qty:1,id:null,sold_qty:0,sold_date:null},this.sellProductDetails=[];const i=new Date;this.formData.sold_date=i.toISOString().slice(0,10),this.router.getCurrentNavigation().extras.state&&(this.productDetails=this.router.getCurrentNavigation().extras.state.productDetails,this.rouerUrl=this.router.getCurrentNavigation().extras.state.routerUrl,console.log(this.rouerUrl),this.formData.id=this.productDetails?this.productDetails.id:"",this.addOrderForm.controls.id.setValue(this.productDetails?this.productDetails.id:""),this.addOrderForm.controls.product_description.setValue(this.productDetails?this.productDetails.product_description:""),this.addOrderForm.controls.image.setValue(this.productDetails?this.productDetails.image:""),this.addOrderForm.controls.product_name.setValue(this.productDetails?this.productDetails.product_name:""),this.addOrderForm.controls.qty_per_unit.setValue(this.productDetails?this.productDetails.qty:""),this.addOrderForm.controls.unit_price.setValue(this.productDetails?this.productDetails.unit_price:"")),console.log(this.productDetails),this.checkCatId()}checkCatId(){this.productDetails||this.router.navigateByUrl("/product-list")}doRefresh(t){console.log("Begin async operation"),setTimeout(()=>{console.log("Async operation has ended"),t.target.complete()},2e3)}addQty(){this.formData.order_qty+=1}removeQty(){this.formData.order_qty-=1}addOrder(){this.addOrderForm.controls.order_qty.setValue(this.formData?this.formData.order_qty:""),this.addOrderForm.controls.sold_qty.setValue(this.formData?this.formData.sold_qty:""),this.addOrderForm.controls.sold_date.setValue(this.formData?this.formData.sold_date:""),console.log(this.addOrderForm.value),this.router.navigate(["/order-list"],{state:{orderDetails:this.addOrderForm.value,rouerUrl:this.rouerUrl}})}updateSoldQty(){this.formData.sold_qty>0?(this.loading.present(),this.product.updateSoldQty(this.formData).subscribe(t=>{this.loading.dismiss(),console.log(t),t.success&&(this.loading.presentToastSuccess(t.success),this.productDetails.qty=t.data),t.error&&this.loading.presentToastError(t.error)},t=>{0==t.status?(this.loading.presentToastWarning("check your internet connection."),this.loading.dismiss()):500==t.status&&(this.loading.presentToastError("Server error."),this.loading.dismiss())})):this.loading.presentToastWarning("Please Enter Sold Quantity")}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(a.Jb(d.a),a.Jb(s.g),a.Jb(i.b),a.Jb(c.a))},t.\u0275cmp=a.Db({type:t,selectors:[["app-product-details"]],decls:35,vars:8,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","circles"],[2,"margin","5px 10px 5px 10px"],[1,"imageSize",2,"height","38vh","width","53vh","border-radius","10px","margin-bottom","2vh",3,"src"],[1,"pl-0"],[2,"padding-right","1px","text-align","center",3,"click"],["name","remove-outline",2,"background-color","#dee2e6cc","font-size","5vh"],[2,"padding","5px 0px 0px 0px"],["type","number","name","order_qty",2,"width","45px",3,"ngModel","ngModelChange"],[2,"padding-right","1px",3,"click"],["name","add-outline",2,"background-color","#dee2e6cc","font-size","5vh"],[2,"padding-top","0px","padding-right","1px"],[2,"color","#F6B003",3,"click"],["class","details",4,"ngIf"],[1,"details"],[2,"font-size","18px","margin-left","3vh","color","#F6B003"],["type","number","name","description",1,"inputClass",3,"ngModel","ngModelChange"],["type","date","readonly","readonly","name","description",1,"inputClass",2,"margin-left","0px","width","18vh","color","#F6B003",3,"ngModel","ngModelChange"],["type","button","name","Update","value","Update",1,"button-style",3,"click"]],template:function(t,e){1&t&&(a.Ob(0,"ion-header",0),a.Ob(1,"ion-toolbar"),a.Ob(2,"ion-buttons",1),a.Kb(3,"ion-menu-button"),a.Nb(),a.Ob(4,"ion-title"),a.jc(5,"Product Details"),a.Nb(),a.Nb(),a.Nb(),a.Ob(6,"ion-content",2),a.Ob(7,"ion-refresher",3),a.Wb("ionRefresh",(function(t){return e.doRefresh(t)})),a.Kb(8,"ion-refresher-content",4),a.Nb(),a.Ob(9,"div",5),a.Ob(10,"strong"),a.jc(11),a.Nb(),a.Kb(12,"br"),a.Kb(13,"br"),a.Kb(14,"img",6),a.Ob(15,"p"),a.jc(16),a.Nb(),a.Ob(17,"ion-grid",7),a.Ob(18,"ion-row"),a.Ob(19,"ion-col",7),a.Ob(20,"b"),a.jc(21,"Order"),a.Nb(),a.Nb(),a.Ob(22,"ion-col",8),a.Wb("click",(function(){return e.removeQty()})),a.Kb(23,"ion-icon",9),a.Nb(),a.Ob(24,"ion-col",10),a.Ob(25,"input",11),a.Wb("ngModelChange",(function(t){return e.formData.order_qty=t})),a.Nb(),a.Nb(),a.Ob(26,"ion-col",12),a.Wb("click",(function(){return e.addQty()})),a.Kb(27,"ion-icon",13),a.Nb(),a.Ob(28,"ion-col",14),a.Ob(29,"ion-button",15),a.Wb("click",(function(){return e.addOrder()})),a.jc(30,"Add to Cart"),a.Nb(),a.Kb(31,"br"),a.Nb(),a.Nb(),a.Nb(),a.Ob(32,"b"),a.jc(33),a.Nb(),a.Nb(),a.ic(34,l,9,3,"div",16),a.Nb()),2&t&&(a.cc("translucent",!0),a.xb(6),a.cc("fullscreen",!0),a.xb(5),a.lc("",e.productDetails.product_name," "),a.xb(3),a.dc("src",e.productDetails.image,a.gc),a.xb(2),a.kc(e.productDetails.product_description),a.xb(9),a.cc("ngModel",e.formData.order_qty),a.xb(8),a.lc("Cost : ",e.productDetails.unit_price,""),a.xb(1),a.cc("ngIf","/product-catagory"==e.rouerUrl))},directives:[n.m,n.K,n.d,n.v,n.J,n.h,n.y,n.z,n.l,n.B,n.g,n.n,i.k,i.a,i.h,i.j,n.c,r.i],styles:["strong[_ngcontent-%COMP%]{color:#6b3d1a}.iconClass[_ngcontent-%COMP%]{padding:0;margin:5vw 0 0}p[_ngcontent-%COMP%]{padding:1px;margin:1px;font-size:4vw}.imageSize[_ngcontent-%COMP%]{height:45vh;width:45vh}.details[_ngcontent-%COMP%]{border-radius:0 60px 0 0;padding-top:3vh;position:fixed;bottom:0;width:100%;height:89px;margin:0;color:#ffcc6a;text-transform:capitalize}.details[_ngcontent-%COMP%], .inputClass[_ngcontent-%COMP%]{background-color:#6b3d1a}.inputClass[_ngcontent-%COMP%]{border:1px solid #f6b003;margin-left:8px;width:7vh}.inputClass2[_ngcontent-%COMP%]{font-size:11px;margin-left:-57px}ion-button[_ngcontent-%COMP%]{font-size:10px}.item-native[_ngcontent-%COMP%]{padding-left:0}.orderButton[_ngcontent-%COMP%]{bottom:0;width:100%;height:46px;margin:0;color:#ffcc6a;text-transform:capitalize;font-weight:bolder}.button-style[_ngcontent-%COMP%]{position:absolute;background:#eda71a;color:#000;border:none;font-size:15px;padding:3px 6px}"]}),t})()}];let p=(()=>{class t{}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(e){return new(e||t)},imports:[[s.i.forChild(u)],s.i]}),t})();var b=o("tk/3");let h=(()=>{class t{}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(e){return new(e||t)},imports:[[i.l,s.i,b.b,r.b,i.e,n.L,p]]}),t})()}}]);