!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var o=0;o<n.length;o++){var e=n[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function o(t,o,e){return o&&n(t.prototype,o),e&&n(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{F4UR:function(n,e,i){"use strict";i.r(e),i.d(e,"LoginPageModule",(function(){return v}));var r,s,a,b,l=i("ofXK"),u=i("3Pt+"),c=i("TEn/"),g=i("tyNb"),p=i("fXoL"),d=i("3LUQ"),f=i("tk/3"),h=i("vkgz"),m=i("5zL6"),O=((r=function(){function n(o,e){t(this,n),this.http=o,this.env=e,this.ifLogin=JSON.parse(localStorage.getItem("user"))}return o(n,[{key:"login",value:function(t,n){return this.http.post(this.env.API_URL+"auth/login",{email:t,password:n})}},{key:"logout",value:function(){var t=new f.c({Authorization:this.ifLogin.token_type+" "+this.ifLogin.access_token});return this.http.get(this.env.API_URL+"auth/logout",{headers:t}).pipe(Object(h.a)((function(t){return t})))}}]),n}()).\u0275fac=function(t){return new(t||r)(p.Sb(f.a),p.Sb(m.a))},r.\u0275prov=p.Fb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),y=[{path:"",component:(s=function(){function n(o,e,i,r,s,a,b){t(this,n),this.formBuilder=o,this.loading=e,this.router=i,this.loginService=r,this.platform=s,this.routerOutlet=a,this.modalController=b,this.loginForm=this.formBuilder.group({email:["",[u.n.required]],password:["",u.n.required]}),this.ifLogin=JSON.parse(localStorage.getItem("user")),this.loginStatus="Login as Bar Owner",this.buttonColor1="buttonStyle3",this.buttonColor2="buttonStyle2"}return o(n,[{key:"doRefresh",value:function(t){console.log("Begin async operation"),setTimeout((function(){console.log("Async operation has ended"),t.target.complete()}),2e3)}},{key:"ionViewWillEnter",value:function(){null!=this.ifLogin&&this.router.navigateByUrl("/dashboard")}},{key:"login",value:function(){var t=this;this.loading.present(),this.loginService.login(this.loginForm.value.email,this.loginForm.value.password).subscribe((function(n){t.userDetails=n,t.loading.dismiss(),t.userDetails.user&&(localStorage.setItem("user",JSON.stringify({user:t.userDetails.user,token_type:t.userDetails.token_type,access_token:t.userDetails.access_token})),t.loading.dismiss(),window.location.reload(),t.router.navigateByUrl("/dashboard")),t.userDetails.error&&(t.loading.dismiss(),t.loading.presentToastWarning(t.userDetails.error))}),(function(n){0==n.status?(t.loading.presentToastWarning("check your internet connection."),t.loading.dismiss()):500==n.status&&(t.loading.dismiss(),t.loading.presentToastError("Server error."))}))}},{key:"loginEmployee",value:function(){this.loginStatus="Login as Employee",this.buttonColor2="buttonStyle3",this.buttonColor1="buttonStyle2"}},{key:"loginOwner",value:function(){this.loginStatus="Login as Bar Owner",this.buttonColor1="buttonStyle3",this.buttonColor2="buttonStyle2"}},{key:"ngOnInit",value:function(){}}]),n}(),s.\u0275fac=function(t){return new(t||s)(p.Jb(u.b),p.Jb(d.a),p.Jb(g.g),p.Jb(O),p.Jb(c.Q),p.Jb(c.A),p.Jb(c.O))},s.\u0275cmp=p.Db({type:s,selectors:[["app-login"]],decls:40,vars:9,consts:[["padding","true"],[2,"background","url(assets/icons/background.jpeg) no-repeat center center/cover","height","100vh"],[1,"centerClass"],["src","/assets/icons/beerlogo.png"],[3,"click"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"input-group"],[1,"input-style"],[1,"input-group-prepend"],[1,"input-group-text"],["name","person-outline"],["type","text","formControlName","email","placeholder","User Id","required","required",1,"form-control"],["name","key-outline"],["type","password","formControlName","password","placeholder","Password","required","required",1,"form-control"],["type","submit",1,"btn","btn-info","buttonStyle",3,"disabled"],[1,"text-center","small","pb-3"],[1,"text-center","small"]],template:function(t,n){1&t&&(p.Ob(0,"ion-content",0),p.Ob(1,"ion-card-content",1),p.Ob(2,"div",2),p.Kb(3,"img",3),p.Nb(),p.Ob(4,"ion-grid"),p.Ob(5,"ion-row"),p.Ob(6,"ion-col"),p.Ob(7,"button",4),p.Wb("click",(function(){return n.loginOwner()})),p.jc(8,"Owner"),p.Nb(),p.Nb(),p.Ob(9,"ion-col"),p.Ob(10,"button",4),p.Wb("click",(function(){return n.loginEmployee()})),p.jc(11,"Employee"),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Ob(12,"div",2),p.Ob(13,"strong"),p.Ob(14,"h2"),p.jc(15),p.Nb(),p.Nb(),p.Nb(),p.Ob(16,"form",5),p.Wb("ngSubmit",(function(){return n.login()})),p.Ob(17,"div",6),p.Ob(18,"div",7),p.Ob(19,"div",8),p.Ob(20,"div",9),p.Ob(21,"span",10),p.Kb(22,"ion-icon",11),p.Nb(),p.Nb(),p.Kb(23,"input",12),p.Nb(),p.Nb(),p.Nb(),p.Ob(24,"div",6),p.Ob(25,"div",7),p.Ob(26,"div",8),p.Ob(27,"div",9),p.Ob(28,"span",10),p.Kb(29,"ion-icon",13),p.Nb(),p.Nb(),p.Kb(30,"input",14),p.Nb(),p.Nb(),p.Nb(),p.Ob(31,"div",6),p.Ob(32,"button",15),p.jc(33,"Log in"),p.Nb(),p.Nb(),p.Nb(),p.Ob(34,"p",16),p.jc(35,"Forgot password . Contact Admin"),p.Nb(),p.Ob(36,"p",17),p.jc(37,"Or"),p.Nb(),p.Ob(38,"p",17),p.jc(39,"Login as employee"),p.Nb(),p.Nb(),p.Nb()),2&t&&(p.xb(7),p.Ab("btn btn-info ",n.buttonColor1,""),p.xb(3),p.Ab("btn btn-info ",n.buttonColor2,""),p.xb(5),p.lc(" ",n.loginStatus," "),p.xb(1),p.cc("formGroup",n.loginForm),p.xb(16),p.cc("disabled",!n.loginForm.valid))},directives:[c.h,c.f,c.l,c.B,c.g,u.o,u.i,u.d,c.n,u.a,u.h,u.c,u.m],styles:[".centerClass[_ngcontent-%COMP%]{text-align:center}img[_ngcontent-%COMP%]{width:50%}h2[_ngcontent-%COMP%]{font-size:19px;padding:7vw}.form-group[_ngcontent-%COMP%]{text-align:center}.buttonStyle2[_ngcontent-%COMP%]{box-shadow:0 3px 6px rgba(0,0,0,.46),0 3px 6px rgba(0,0,0,.23)}.buttonStyle2[_ngcontent-%COMP%], .buttonStyle3[_ngcontent-%COMP%]{background-color:#612e07;padding-left:15%;padding-right:15%;border-radius:25px;border:0;width:100%;color:#f2a401}.buttonStyle3[_ngcontent-%COMP%]{box-shadow:0 3px 6px rgba(0,0,0,.1),0 3px 6px rgba(0,0,0,.23),inset 0 16px 8px -10px rgba(242,164,1,.7215686274509804),inset 1px -16px 8px -10px rgba(242,164,1,.7215686274509804)}.buttonStyle[_ngcontent-%COMP%]{background-color:#612e07;padding-left:15%;padding-right:15%;border-radius:25px;box-shadow:0 3px 6px rgba(0,0,0,.46),0 3px 6px rgba(0,0,0,.23);border:0}p[_ngcontent-%COMP%]{font-size:13px}span[_ngcontent-%COMP%]{background-color:#fff}input[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{border-color:#fff}.input-style[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;border:1px solid #612e07;border-radius:5px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 0 rgba(248,249,250,0);border-color:rgba(128,189,255,0)}"]}),s)}],x=((b=function n(){t(this,n)}).\u0275mod=p.Hb({type:b}),b.\u0275inj=p.Gb({factory:function(t){return new(t||b)},imports:[[g.i.forChild(y)],g.i]}),b),v=((a=function n(){t(this,n)}).\u0275mod=p.Hb({type:a}),a.\u0275inj=p.Gb({factory:function(t){return new(t||a)},imports:[[u.l,g.i,f.b,l.b,l.b,u.e,c.L,x]]}),a)}}])}();