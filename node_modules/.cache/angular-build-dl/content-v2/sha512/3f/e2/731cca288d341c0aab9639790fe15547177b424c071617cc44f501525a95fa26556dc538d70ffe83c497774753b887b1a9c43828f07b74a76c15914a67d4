!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{bDmA:function(e,o,i){"use strict";i.r(o),i.d(o,"CurrentInventoryPageModule",(function(){return k}));var r=i("ofXK"),c=i("3Pt+"),a=i("TEn/"),s=i("tyNb"),l=i("mrSG"),u=i("fXoL"),d=i("3LUQ"),g=i("qL+e");function b(t,n){if(1&t){var e=u.Pb();u.Ob(0,"ion-icon",18),u.Wb("click",(function(){u.fc(e);var t=u.Zb().$implicit;return u.Zb().editProduct(t)})),u.Nb()}}function f(t,n){if(1&t){var e=u.Pb();u.Ob(0,"ion-icon",19),u.Wb("click",(function(){u.fc(e);var t=u.Zb().$implicit;return u.Zb().deleteProduct(t.id)})),u.Nb()}}function p(t,n){if(1&t){var e=u.Pb();u.Ob(0,"ion-row",11),u.Ob(1,"ion-col"),u.Kb(2,"img",12),u.Nb(),u.Ob(3,"ion-col",13),u.Ob(4,"b"),u.jc(5),u.Nb(),u.Ob(6,"p"),u.jc(7),u.Nb(),u.Ob(8,"p"),u.jc(9),u.Nb(),u.Nb(),u.Ob(10,"ion-col",14),u.Ob(11,"ion-icon",15),u.Wb("click",(function(){u.fc(e);var t=n.$implicit;return u.Zb().productDetails(t)})),u.Nb(),u.ic(12,b,1,0,"ion-icon",16),u.ic(13,f,1,0,"ion-icon",17),u.Nb(),u.Nb()}if(2&t){var o=n.$implicit,i=u.Zb();u.xb(2),u.dc("src",o.image,u.gc),u.xb(3),u.kc(o.product_name),u.xb(2),u.lc("Sale : $ ",o.sale_price,""),u.xb(2),u.lc("Qty : ",o.qty,""),u.xb(3),u.cc("ngIf",1==i.ifLogin.user.parent_id),u.xb(1),u.cc("ngIf",1==i.ifLogin.user.parent_id)}}var h,v,m,y=[{path:"",component:(h=function(){function e(n,o,i,r){t(this,e),this.loading=n,this.router=o,this.product=i,this.alertController=r,this.ifLogin=JSON.parse(localStorage.getItem("user")),this.router.getCurrentNavigation().extras.state&&(this.categoryId=this.router.getCurrentNavigation().extras.state.categoryId)}var o,i,r;return o=e,(i=[{key:"doRefresh",value:function(t){console.log("Begin async operation"),this.getfindInventoryDetails(),setTimeout((function(){console.log("Async operation has ended"),t.target.complete()}),2e3)}},{key:"loadData",value:function(t){var n=this;setTimeout((function(){console.log("Done"),console.log(t),n.products.length==n.products.length&&(t.target.disabled=!0),t.target.complete()}),2e3)}},{key:"ionViewWillEnter",value:function(){this.getfindInventoryDetails()}},{key:"findInventoryName",value:function(t){if(console.log(this.allProducts),t.target.value.length>0){var n=[];console.log(this.products);for(var e=0;e<this.products.length;e++)this.products[e].product_name.toLowerCase().slice(0,t.target.value.length)==t.target.value.toLowerCase()&&n.push(this.products[e]);this.allProducts=n,console.log(this.allProducts)}else this.allProducts=this.products}},{key:"getfindInventoryDetails",value:function(){var t=this;this.loading.present(),console.log(this.categoryId);var n=new FormData;n.append("category_id",null==this.categoryId?"":this.categoryId),this.product.getInventoryDetails(n).subscribe((function(n){console.log(n),t.allProducts=n.data,t.products=n.data,n.length>0&&(t.value=t.value+n.data.length,t.allProducts.push(n.data)),t.loading.dismiss()}),(function(n){0==n.status?(t.loading.presentToastWarning("check your internet connection."),t.loading.dismiss()):500==n.status&&(t.loading.presentToastError("Server error."),t.loading.dismiss())}))}},{key:"productDetails",value:function(t){console.log(t),console.log("ooooo"),this.router.navigate(["/product-details"],{state:{productDetails:t,routerUrl:"/current-inventory"}})}},{key:"addProduct",value:function(){this.router.navigateByUrl("/add-product")}},{key:"editProduct",value:function(t){console.log(t),this.router.navigate(["/add-product"],{state:{product:t}})}},{key:"deleteProduct",value:function(t){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,o=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Are You Sure",message:"<small>You Want To Delete This ?</small>",buttons:[{text:"Cancel",role:"cancel",cssClass:"success"},{text:"Ok",handler:function(){o.loading.present();var n=new FormData;n.append("id",t),o.product.deleteProduct(n).subscribe((function(t){console.log(t),o.loading.dismiss(),o.loading.presentToastSuccess(t.success),o.getfindInventoryDetails()}),(function(t){0==t.status?(o.loading.presentToastWarning("check your internet connection."),o.loading.dismiss()):500==t.status&&(o.loading.dismiss(),o.loading.presentToastError("Server error."))}))}}]});case 2:return e=n.sent,n.next=5,e.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"ngOnInit",value:function(){}}])&&n(o.prototype,i),r&&n(o,r),e}(),h.\u0275fac=function(t){return new(t||h)(u.Jb(d.a),u.Jb(s.g),u.Jb(g.a),u.Jb(a.a))},h.\u0275cmp=u.Db({type:h,selectors:[["app-current-inventory"]],decls:18,vars:2,consts:[["slot","start"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","refreshingSpinner","circles"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],["showCancelButton","focus",3,"ionInput"],["style","background-color: #FAFAFA;",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading..."],[2,"background-color","#FAFAFA"],[1,"imageSize",3,"src"],[1,"textClass"],[1,"iconClass"],["name","bag-add-outline",2,"color","#6B3D1A",3,"click"],["name","create-outline",3,"click",4,"ngIf"],["name","close-outline","style","color: red;",3,"click",4,"ngIf"],["name","create-outline",3,"click"],["name","close-outline",2,"color","red",3,"click"]],template:function(t,n){1&t&&(u.Ob(0,"ion-header"),u.Ob(1,"ion-toolbar"),u.Ob(2,"ion-buttons",0),u.Kb(3,"ion-menu-button"),u.Nb(),u.Ob(4,"ion-title"),u.jc(5,"Current Inventory"),u.Nb(),u.Nb(),u.Nb(),u.Ob(6,"ion-content",1),u.Ob(7,"ion-refresher",2),u.Wb("ionRefresh",(function(t){return n.doRefresh(t)})),u.Kb(8,"ion-refresher-content",3),u.Nb(),u.Ob(9,"ion-fab",4),u.Ob(10,"ion-fab-button",5),u.Wb("click",(function(){return n.addProduct()})),u.Kb(11,"ion-icon",6),u.Nb(),u.Nb(),u.Ob(12,"ion-searchbar",7),u.Wb("ionInput",(function(t){return n.findInventoryName(t)})),u.Nb(),u.Ob(13,"ion-list"),u.Ob(14,"ion-grid"),u.ic(15,p,14,6,"ion-row",8),u.Nb(),u.Nb(),u.Ob(16,"ion-infinite-scroll",9),u.Wb("ionInfinite",(function(t){return n.loadData(t)})),u.Kb(17,"ion-infinite-scroll-content",10),u.Nb(),u.Nb()),2&t&&(u.xb(6),u.cc("fullscreen",!0),u.xb(9),u.cc("ngForOf",n.allProducts))},directives:[a.m,a.K,a.d,a.v,a.J,a.h,a.y,a.z,a.j,a.k,a.n,a.C,a.T,a.t,a.l,r.h,a.o,a.p,a.B,a.g,r.i],styles:[".trash[_ngcontent-%COMP%]{color:red;margin-right:2vw}.edit[_ngcontent-%COMP%], .trash[_ngcontent-%COMP%]{font-size:6vw}ion-row[_ngcontent-%COMP%]{background-color:#fafafa;margin-bottom:2vw}b[_ngcontent-%COMP%]{color:#6b3d1a;font-size:13px}.iconClass[_ngcontent-%COMP%]{padding:0;margin:5vw 0 0}p[_ngcontent-%COMP%]{padding:1px;margin:1px;font-size:4vw}.imageSize[_ngcontent-%COMP%]{height:21vw;width:21vw}ion-col[_ngcontent-%COMP%]{padding:1px;margin:1px}ion-icon[_ngcontent-%COMP%]{font-size:4vh;margin-left:1px}ion-grid[_ngcontent-%COMP%]{text-align:center}"]}),h)}],O=((m=function n(){t(this,n)}).\u0275mod=u.Hb({type:m}),m.\u0275inj=u.Gb({factory:function(t){return new(t||m)},imports:[[s.i.forChild(y)],s.i]}),m),k=((v=function n(){t(this,n)}).\u0275mod=u.Hb({type:v}),v.\u0275inj=u.Gb({factory:function(t){return new(t||v)},imports:[[r.b,c.e,a.L,O]]}),v)}}])}();