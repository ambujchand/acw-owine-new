(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"716p":function(e,t,r){"use strict";r.r(t),r.d(t,"AddOrderPageModule",(function(){return h}));var o=r("ofXK"),i=r("3Pt+"),n=r("TEn/"),a=r("tyNb"),s=r("fXoL"),c=r("3LUQ"),b=r("KqBo"),d=r("9Ryk");function l(e,t){if(1&e&&(s.Kb(0,"span"),s.Ib(1,"img",17),s.Jb()),2&e){const e=s.Ub();s.xb(1),s.Zb("src",e.photo,s.gc)}}const p=[{path:"",component:(()=>{class e{constructor(e,t,r,o,n){this.loading=e,this.camera=t,this.formBuilder=r,this.router=o,this.order=n,this.getOrderForm=this.formBuilder.group({shop_id:["",[i.k.required]],order_image:[""],order_type:["",[i.k.required]],product_name:["",[i.k.required]],customer_phone:["",[i.k.required]],order_price:["",[i.k.required]],advance_payment:["",[i.k.required]],delivery_date:["",[i.k.required]]});let a=JSON.parse(localStorage.getItem("shop"));this.getOrderForm.controls.shop_id.setValue(a?a.id[0].id:null)}doRefresh(e){console.log("Begin async operation"),setTimeout(()=>{console.log("Async operation has ended"),e.target.complete()},2e3)}captureImage(){this.camera.getPicture({quality:30,allowEdit:!0,saveToPhotoAlbum:!0,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then(e=>{this.photo="data:image/jpeg;base64,"+e,this.getOrderForm.controls.order_image.setValue(this.photo?e:null)},e=>{console.log(e),this.loading.presentToastWarning(e)})}takePhoto(){this.camera.getPicture({quality:30,sourceType:this.camera.PictureSourceType.PHOTOLIBRARY,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,correctOrientation:!0}).then(e=>{this.photo="data:image/jpeg;base64,"+e,this.getOrderForm.controls.order_image.setValue(this.photo?e:null)},e=>{})}addOrders(){this.loading.present(),this.getOrderForm.controls.order_type.setValue(this.getOrderForm.value.order_type?this.getOrderForm.value.order_type.toLocaleUpperCase():null),this.order.addOrder(this.getOrderForm.value).subscribe(e=>{console.log(e),this.loading.dismiss(),this.loading.presentToastSuccess(e.success),this.router.navigateByUrl("/show-orders")},e=>{0==e.status?(this.loading.presentToastWarning("check your internet connection."),this.loading.dismiss()):500==e.status&&(this.loading.dismiss(),this.loading.presentToastError("Server error."))})}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(s.Hb(c.a),s.Hb(b.a),s.Hb(i.a),s.Hb(a.g),s.Hb(d.a))},e.\u0275cmp=s.Bb({type:e,selectors:[["app-add-order"]],decls:49,vars:3,consts:[["slot","start"],["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","pullingText","Pull to refresh","refreshingSpinner","circles"],[3,"formGroup","ngSubmit"],[2,"margin-top","10px"],["name","camera-outline",1,"choseCamera",3,"click"],[1,"selectCamera"],["name","image-outline",3,"click"],[4,"ngIf"],["position","floating"],["type","name","formControlName","order_type"],["type","name","formControlName","product_name"],["type","number","formControlName","customer_phone"],["type","number","formControlName","order_price"],["type","name","formControlName","advance_payment"],["formControlName","delivery_date","displayFormat","DD/MM/YYYY"],["type","submit","shape","round","color","success","expand","block",3,"disabled"],["height","60","width","60",1,"imageClasss",3,"src"]],template:function(e,t){1&e&&(s.Kb(0,"ion-header"),s.Kb(1,"ion-toolbar"),s.Kb(2,"ion-buttons",0),s.Ib(3,"ion-menu-button"),s.Jb(),s.Kb(4,"ion-title"),s.jc(5,"Get Orders"),s.Jb(),s.Jb(),s.Jb(),s.Kb(6,"ion-content"),s.Kb(7,"ion-refresher",1),s.Sb("ionRefresh",(function(e){return t.doRefresh(e)})),s.Ib(8,"ion-refresher-content",2),s.Jb(),s.Kb(9,"form",3),s.Sb("ngSubmit",(function(){return t.addOrders()})),s.Kb(10,"ion-card",4),s.Kb(11,"ion-item"),s.Kb(12,"div"),s.Kb(13,"ion-icon",5),s.Sb("click",(function(){return t.captureImage()})),s.Jb(),s.Jb(),s.Kb(14,"div",6),s.Kb(15,"ion-icon",7),s.Sb("click",(function(){return t.takePhoto()})),s.Jb(),s.Jb(),s.Kb(16,"div"),s.ic(17,l,2,1,"span",8),s.Jb(),s.Jb(),s.Jb(),s.Kb(18,"ion-card"),s.Kb(19,"ion-item"),s.Kb(20,"ion-label",9),s.jc(21,"Order Type"),s.Jb(),s.Ib(22,"ion-input",10),s.Jb(),s.Jb(),s.Kb(23,"ion-card"),s.Kb(24,"ion-item"),s.Kb(25,"ion-label",9),s.jc(26,"Product Name"),s.Jb(),s.Ib(27,"ion-input",11),s.Jb(),s.Jb(),s.Kb(28,"ion-card"),s.Kb(29,"ion-item"),s.Kb(30,"ion-label",9),s.jc(31,"Customer Phone"),s.Jb(),s.Ib(32,"ion-input",12),s.Jb(),s.Jb(),s.Kb(33,"ion-card"),s.Kb(34,"ion-item"),s.Kb(35,"ion-label",9),s.jc(36,"Order Price"),s.Jb(),s.Ib(37,"ion-input",13),s.Jb(),s.Jb(),s.Kb(38,"ion-card"),s.Kb(39,"ion-item"),s.Kb(40,"ion-label",9),s.jc(41,"Advance Payment"),s.Jb(),s.Ib(42,"ion-input",14),s.Jb(),s.Jb(),s.Kb(43,"ion-item"),s.Kb(44,"ion-label"),s.jc(45,"Delivery Date"),s.Jb(),s.Ib(46,"ion-datetime",15),s.Jb(),s.Kb(47,"ion-button",16),s.jc(48,"Submit"),s.Jb(),s.Jb(),s.Jb()),2&e&&(s.xb(9),s.Zb("formGroup",t.getOrderForm),s.xb(8),s.Zb("ngIf",t.photo),s.xb(30),s.Zb("disabled",!t.getOrderForm.valid))},directives:[n.p,n.Q,n.d,n.C,n.P,n.k,n.F,n.G,i.l,i.h,i.c,n.e,n.u,n.q,o.j,n.y,n.t,n.ab,i.g,i.b,n.W,n.l,n.Z,n.c],styles:[".choseCamera[_ngcontent-%COMP%]{font-size:40px;margin-right:15px}.selectCamera[_ngcontent-%COMP%]{font-size:35px;margin-right:15px}.uploads[_ngcontent-%COMP%]{font-size:30px;margin-left:15px}.imageClasss[_ngcontent-%COMP%]{margin-left:10px;border-radius:25px;border:1px solid #00f}"]}),e})()}];let m=(()=>{class e{}return e.\u0275mod=s.Fb({type:e}),e.\u0275inj=s.Eb({factory:function(t){return new(t||e)},imports:[[a.i.forChild(p)],a.i]}),e})();var u=r("tk/3");let h=(()=>{class e{}return e.\u0275mod=s.Fb({type:e}),e.\u0275inj=s.Eb({factory:function(t){return new(t||e)},imports:[[i.j,a.i,u.b,o.b,i.d,n.R,m]]}),e})()}}]);