(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{ltbM:function(t,e,r){"use strict";r.r(e),r.d(e,"PlaceOrderPageModule",(function(){return u}));var o=r("ofXK"),i=r("3Pt+"),n=r("TEn/"),c=r("tyNb"),s=r("fXoL"),a=r("3LUQ"),l=r("qL+e");function b(t,e){if(1&t&&(s.Ob(0,"ion-row"),s.Ob(1,"ion-col",5),s.Ob(2,"p"),s.jc(3),s.Nb(),s.Nb(),s.Ob(4,"ion-col",5),s.Ob(5,"p"),s.jc(6),s.Nb(),s.Nb(),s.Ob(7,"ion-col",5),s.Ob(8,"p"),s.jc(9),s.Nb(),s.Nb(),s.Ob(10,"ion-col",5),s.Ob(11,"p"),s.jc(12),s.Nb(),s.Nb(),s.Nb()),2&t){const t=e.$implicit;s.xb(3),s.kc(t.product_name),s.xb(3),s.kc(t.order_qty),s.xb(3),s.lc("$",t.unit_price,""),s.xb(3),s.lc("$",t.unit_price*t.order_qty,".00")}}const d=[{path:"",component:(()=>{class t{constructor(t,e,r,o){this.loading=t,this.formBuilder=e,this.router=r,this.product=o,this.router.getCurrentNavigation().extras.state&&(this.placeOrderList=this.router.getCurrentNavigation().extras.state.placeOrderList),this.chechOrdelList()}chechOrdelList(){if(console.log(this.placeOrderList),null==this.placeOrderList||null==this.placeOrderList)this.router.navigateByUrl("order-list");else{let t=0,e=[];for(let r=0;r<this.placeOrderList.length;r++)t+=this.placeOrderList[r].order_qty*parseInt(this.placeOrderList[r].unit_price),e[r]={product_id:this.placeOrderList[r].id,total_amount:this.placeOrderList[r].unit_price*this.placeOrderList[r].order_qty,qty:this.placeOrderList[r].order_qty};this.totalAmount=t.toFixed(2),this.placeOrderDetails=e,console.log(t.toFixed(2)),console.log(e)}}placeOrder(){this.loading.present();const t=new FormData;t.append("order_number","ace_wine"+9999*Math.random()),t.append("required_date",""),t.append("sell_tex",""),t.append("transact_status","1"),t.append("total_amount",this.totalAmount),t.append("order_details",JSON.stringify(this.placeOrderDetails)),this.product.placeOrder(t).subscribe(t=>{console.log(t),this.loading.dismiss(),t.success&&(this.loading.presentToastSuccess(t.success),localStorage.removeItem("orderDetails"),this.router.navigate(["/order-tracking"],{state:{order_id:t.order_id}})),t.error&&this.loading.presentToastError(t.error)},t=>{0==t.status?(this.loading.presentToastWarning("check your internet connection."),this.loading.dismiss()):500==t.status&&(this.loading.presentToastError("Server error."),this.loading.dismiss())})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(a.a),s.Jb(i.b),s.Jb(c.g),s.Jb(l.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-place-order"]],decls:40,vars:4,consts:[["slot","start"],[3,"fullscreen"],[2,"margin-left","3vh"],[4,"ngFor","ngForOf"],[2,"margin-top","4vh"],[1,"orderStype"],["expand","full",1,"orderButton",3,"click"]],template:function(t,e){1&t&&(s.Ob(0,"ion-header"),s.Ob(1,"ion-toolbar"),s.Ob(2,"ion-buttons",0),s.Kb(3,"ion-menu-button"),s.Nb(),s.Ob(4,"ion-title"),s.jc(5,"Your Order"),s.Nb(),s.Nb(),s.Nb(),s.Ob(6,"ion-content",1),s.Ob(7,"ion-list",2),s.Ob(8,"ion-grid"),s.Ob(9,"ion-row"),s.Ob(10,"ion-col"),s.Ob(11,"b"),s.jc(12,"Product"),s.Nb(),s.Nb(),s.Ob(13,"ion-col"),s.Ob(14,"b"),s.jc(15,"Quantity"),s.Nb(),s.Nb(),s.Ob(16,"ion-col"),s.Ob(17,"b"),s.jc(18,"Unit Price"),s.Nb(),s.Nb(),s.Ob(19,"ion-col"),s.Ob(20,"b"),s.jc(21,"Price"),s.Nb(),s.Nb(),s.Nb(),s.ic(22,b,13,4,"ion-row",3),s.Ob(23,"ion-row",4),s.Ob(24,"ion-col",5),s.Ob(25,"p"),s.jc(26,"Subtotal : "),s.Nb(),s.Kb(27,"br"),s.Ob(28,"p"),s.jc(29,"Total : "),s.Nb(),s.Nb(),s.Kb(30,"ion-col",5),s.Kb(31,"ion-col",5),s.Ob(32,"ion-col",5),s.Ob(33,"p"),s.jc(34),s.Nb(),s.Kb(35,"br"),s.Ob(36,"p"),s.jc(37),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Ob(38,"ion-button",6),s.Wb("click",(function(){return e.placeOrder()})),s.jc(39,"Place Order"),s.Nb(),s.Nb()),2&t&&(s.xb(6),s.cc("fullscreen",!0),s.xb(16),s.cc("ngForOf",e.placeOrderList),s.xb(12),s.lc("$",e.totalAmount,""),s.xb(3),s.lc("$",e.totalAmount,""))},directives:[n.m,n.K,n.d,n.v,n.J,n.h,n.t,n.l,n.B,n.g,o.h,n.c],styles:["ion-col[_ngcontent-%COMP%]{padding:1px;margin:1px;font-size:15px}.orderStype[_ngcontent-%COMP%]{color:#6b3d1a;font-size:15px}p[_ngcontent-%COMP%]{padding:0;margin:0}.orderButton[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;height:46px;font-size:15px;margin:0;color:#ffcc6a;text-transform:capitalize}"]}),t})()}];let p=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(e){return new(e||t)},imports:[[c.i.forChild(d)],c.i]}),t})(),u=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(e){return new(e||t)},imports:[[o.b,i.e,n.L,p]]}),t})()}}]);