(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{F4UR:function(t,o,n){"use strict";n.r(o),n.d(o,"LoginPageModule",(function(){return h}));var e=n("ofXK"),r=n("3Pt+"),i=n("TEn/"),s=n("tyNb"),b=n("fXoL"),a=n("3LUQ"),l=n("tk/3"),c=n("vkgz"),u=n("5zL6");let g=(()=>{class t{constructor(t,o){this.http=t,this.env=o,this.ifLogin=JSON.parse(localStorage.getItem("user"))}login(t,o){return this.http.post(this.env.API_URL+"auth/login",{email:t,password:o})}logout(){const t=new l.c({Authorization:this.ifLogin.token_type+" "+this.ifLogin.access_token});return this.http.get(this.env.API_URL+"auth/logout",{headers:t}).pipe(Object(c.a)(t=>t))}}return t.\u0275fac=function(o){return new(o||t)(b.Sb(l.a),b.Sb(u.a))},t.\u0275prov=b.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const p=[{path:"",component:(()=>{class t{constructor(t,o,n,e,i,s,b){this.formBuilder=t,this.loading=o,this.router=n,this.loginService=e,this.platform=i,this.routerOutlet=s,this.modalController=b,this.loginForm=this.formBuilder.group({email:["",[r.n.required]],password:["",r.n.required]}),this.ifLogin=JSON.parse(localStorage.getItem("user")),this.loginStatus="Login as Bar Owner",this.buttonColor1="buttonStyle3",this.buttonColor2="buttonStyle2"}doRefresh(t){console.log("Begin async operation"),setTimeout(()=>{console.log("Async operation has ended"),t.target.complete()},2e3)}ionViewWillEnter(){null!=this.ifLogin&&this.router.navigateByUrl("/dashboard")}login(){this.loading.present(),this.loginService.login(this.loginForm.value.email,this.loginForm.value.password).subscribe(t=>{this.userDetails=t,this.loading.dismiss(),this.userDetails.user&&(localStorage.setItem("user",JSON.stringify({user:this.userDetails.user,token_type:this.userDetails.token_type,access_token:this.userDetails.access_token})),this.loading.dismiss(),window.location.reload(),this.router.navigateByUrl("/dashboard")),this.userDetails.error&&(this.loading.dismiss(),this.loading.presentToastWarning(this.userDetails.error))},t=>{0==t.status?(this.loading.presentToastWarning("check your internet connection."),this.loading.dismiss()):500==t.status&&(this.loading.dismiss(),this.loading.presentToastError("Server error."))})}loginEmployee(){this.loginStatus="Login as Employee",this.buttonColor2="buttonStyle3",this.buttonColor1="buttonStyle2"}loginOwner(){this.loginStatus="Login as Bar Owner",this.buttonColor1="buttonStyle3",this.buttonColor2="buttonStyle2"}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)(b.Jb(r.b),b.Jb(a.a),b.Jb(s.g),b.Jb(g),b.Jb(i.Q),b.Jb(i.A),b.Jb(i.O))},t.\u0275cmp=b.Db({type:t,selectors:[["app-login"]],decls:40,vars:9,consts:[["padding","true"],[2,"background","url(assets/icons/background.jpeg) no-repeat center center/cover","height","100vh"],[1,"centerClass"],["src","/assets/icons/beerlogo.png"],[3,"click"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"input-group"],[1,"input-style"],[1,"input-group-prepend"],[1,"input-group-text"],["name","person-outline"],["type","text","formControlName","email","placeholder","User Id","required","required",1,"form-control"],["name","key-outline"],["type","password","formControlName","password","placeholder","Password","required","required",1,"form-control"],["type","submit",1,"btn","btn-info","buttonStyle",3,"disabled"],[1,"text-center","small","pb-3"],[1,"text-center","small"]],template:function(t,o){1&t&&(b.Ob(0,"ion-content",0),b.Ob(1,"ion-card-content",1),b.Ob(2,"div",2),b.Kb(3,"img",3),b.Nb(),b.Ob(4,"ion-grid"),b.Ob(5,"ion-row"),b.Ob(6,"ion-col"),b.Ob(7,"button",4),b.Wb("click",(function(){return o.loginOwner()})),b.jc(8,"Owner"),b.Nb(),b.Nb(),b.Ob(9,"ion-col"),b.Ob(10,"button",4),b.Wb("click",(function(){return o.loginEmployee()})),b.jc(11,"Employee"),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(12,"div",2),b.Ob(13,"strong"),b.Ob(14,"h2"),b.jc(15),b.Nb(),b.Nb(),b.Nb(),b.Ob(16,"form",5),b.Wb("ngSubmit",(function(){return o.login()})),b.Ob(17,"div",6),b.Ob(18,"div",7),b.Ob(19,"div",8),b.Ob(20,"div",9),b.Ob(21,"span",10),b.Kb(22,"ion-icon",11),b.Nb(),b.Nb(),b.Kb(23,"input",12),b.Nb(),b.Nb(),b.Nb(),b.Ob(24,"div",6),b.Ob(25,"div",7),b.Ob(26,"div",8),b.Ob(27,"div",9),b.Ob(28,"span",10),b.Kb(29,"ion-icon",13),b.Nb(),b.Nb(),b.Kb(30,"input",14),b.Nb(),b.Nb(),b.Nb(),b.Ob(31,"div",6),b.Ob(32,"button",15),b.jc(33,"Log in"),b.Nb(),b.Nb(),b.Nb(),b.Ob(34,"p",16),b.jc(35,"Forgot password . Contact Admin"),b.Nb(),b.Ob(36,"p",17),b.jc(37,"Or"),b.Nb(),b.Ob(38,"p",17),b.jc(39,"Login as employee"),b.Nb(),b.Nb(),b.Nb()),2&t&&(b.xb(7),b.Ab("btn btn-info ",o.buttonColor1,""),b.xb(3),b.Ab("btn btn-info ",o.buttonColor2,""),b.xb(5),b.lc(" ",o.loginStatus," "),b.xb(1),b.cc("formGroup",o.loginForm),b.xb(16),b.cc("disabled",!o.loginForm.valid))},directives:[i.h,i.f,i.l,i.B,i.g,r.o,r.i,r.d,i.n,r.a,r.h,r.c,r.m],styles:[".centerClass[_ngcontent-%COMP%]{text-align:center}img[_ngcontent-%COMP%]{width:50%}h2[_ngcontent-%COMP%]{font-size:19px;padding:7vw}.form-group[_ngcontent-%COMP%]{text-align:center}.buttonStyle2[_ngcontent-%COMP%]{box-shadow:0 3px 6px rgba(0,0,0,.46),0 3px 6px rgba(0,0,0,.23)}.buttonStyle2[_ngcontent-%COMP%], .buttonStyle3[_ngcontent-%COMP%]{background-color:#612e07;padding-left:15%;padding-right:15%;border-radius:25px;border:0;width:100%;color:#f2a401}.buttonStyle3[_ngcontent-%COMP%]{box-shadow:0 3px 6px rgba(0,0,0,.1),0 3px 6px rgba(0,0,0,.23),inset 0 16px 8px -10px rgba(242,164,1,.7215686274509804),inset 1px -16px 8px -10px rgba(242,164,1,.7215686274509804)}.buttonStyle[_ngcontent-%COMP%]{background-color:#612e07;padding-left:15%;padding-right:15%;border-radius:25px;box-shadow:0 3px 6px rgba(0,0,0,.46),0 3px 6px rgba(0,0,0,.23);border:0}p[_ngcontent-%COMP%]{font-size:13px}span[_ngcontent-%COMP%]{background-color:#fff}input[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{border-color:#fff}.input-style[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;border:1px solid #612e07;border-radius:5px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 0 rgba(248,249,250,0);border-color:rgba(128,189,255,0)}"]}),t})()}];let d=(()=>{class t{}return t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({factory:function(o){return new(o||t)},imports:[[s.i.forChild(p)],s.i]}),t})(),h=(()=>{class t{}return t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({factory:function(o){return new(o||t)},imports:[[r.l,s.i,l.b,e.b,e.b,r.e,i.L,d]]}),t})()}}]);