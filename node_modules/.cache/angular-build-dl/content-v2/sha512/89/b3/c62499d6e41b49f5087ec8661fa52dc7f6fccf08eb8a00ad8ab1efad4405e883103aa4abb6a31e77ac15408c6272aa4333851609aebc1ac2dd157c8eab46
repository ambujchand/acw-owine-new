{"version":3,"sources":["webpack:///src/app/pages/product/place-order/place-order.page.html","webpack:///src/app/pages/product/place-order/place-order-routing.module.ts","webpack:///src/app/pages/product/place-order/place-order.module.ts","webpack:///src/app/pages/product/place-order/place-order.page.scss","webpack:///src/app/pages/product/place-order/place-order.page.ts"],"names":["routes","path","component","PlaceOrderPageRoutingModule","imports","forChild","exports","PlaceOrderPageModule","declarations","PlaceOrderPage","loading","formBuilder","router","product","getCurrentNavigation","extras","state","placeOrderList","chechOrdelList","console","log","undefined","navigateByUrl","totalAmount","details","i","length","order_qty","parseInt","unit_price","id","toFixed","placeOrderDetails","present","postData","FormData","append","Math","random","JSON","stringify","placeOrder","subscribe","data","dismiss","success","presentToastSuccess","localStorage","removeItem","navigationExtras","order_id","navigate","error","presentToastError","onerror","status","presentToastWarning","selector","template"],"mappings":"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","file":"pages-product-place-order-place-order-module-es5.js","sourcesContent":["export default \"\\n  <ion-header [translucent]=\\\"true\\\">\\n    <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-menu-button></ion-menu-button>\\n      </ion-buttons>\\n      <ion-title>Your Orders</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  \\n  <ion-content [fullscreen]=\\\"true\\\">\\n\\n\\n      <ion-list style=\\\"margin-left: 3vh;\\\">\\n          <ion-grid>\\n            <ion-row>\\n              <ion-col>\\n                <b>Product</b>\\n              </ion-col>\\n              <ion-col>\\n                <b>Quantity</b>\\n              </ion-col>\\n              <ion-col>\\n                <b>Unit Price</b>\\n              </ion-col>\\n              <ion-col>\\n                <b>Price</b>\\n              </ion-col>\\n            </ion-row>\\n\\n            <ion-row *ngFor=\\\"let order of placeOrderList\\\">\\n              <ion-col class=\\\"orderStype\\\">\\n                <p>{{order.product_name}}</p>\\n              </ion-col>\\n              <ion-col class=\\\"orderStype\\\">\\n                <p>{{order.order_qty}}</p>\\n              </ion-col>\\n              <ion-col class=\\\"orderStype\\\">\\n                <p>${{order.unit_price}}</p>\\n              </ion-col>\\n              <ion-col class=\\\"orderStype\\\">\\n                <p>${{order.unit_price * order.order_qty}}.00</p>\\n              </ion-col>\\n                </ion-row>\\n            <ion-row style=\\\"margin-top: 4vh;\\\">\\n              <ion-col class=\\\"orderStype\\\">\\n                <p>Subtotal : </p><br>\\n                <p>Total : </p>\\n              </ion-col>\\n              <ion-col class=\\\"orderStype\\\">\\n              </ion-col>\\n              <ion-col class=\\\"orderStype\\\">\\n              </ion-col>\\n              <ion-col class=\\\"orderStype\\\">\\n                <p>${{totalAmount}}</p><br>\\n                <p>${{totalAmount}}</p>\\n\\n              </ion-col>\\n            </ion-row>\\n            </ion-grid>\\n\\n      </ion-list>\\n  <ion-button (click)=\\\"placeOrder()\\\" class=\\\"orderButton\\\" expand=\\\"full\\\">Place Order</ion-button>\\n\\n      \\n  </ion-content>\\n  \";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PlaceOrderPage } from './place-order.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PlaceOrderPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PlaceOrderPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PlaceOrderPageRoutingModule } from './place-order-routing.module';\n\nimport { PlaceOrderPage } from './place-order.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PlaceOrderPageRoutingModule\n  ],\n  declarations: [PlaceOrderPage]\n})\nexport class PlaceOrderPageModule {}\n","export default \"ion-col {\\n  padding: 1px;\\n  margin: 1px;\\n  font-size: 15px;\\n}\\n\\n.orderStype {\\n  color: #6B3D1A;\\n  font-size: 15px;\\n}\\n\\np {\\n  padding: 0px;\\n  margin: 0px;\\n}\\n\\n.orderButton {\\n  position: fixed;\\n  bottom: 0px;\\n  width: 100%;\\n  height: 46px;\\n  font-size: 15px;\\n  margin: 0;\\n  color: #FFCC6A;\\n  text-transform: capitalize;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcHJvZHVjdC9wbGFjZS1vcmRlci9wbGFjZS1vcmRlci5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7QUFDSjs7QUFLQTtFQUNJLGNBQUE7RUFDQSxlQUFBO0FBRko7O0FBSUE7RUFDSSxZQUFBO0VBQ0EsV0FBQTtBQURKOztBQUlBO0VBQ0ksZUFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxTQUFBO0VBQ0EsY0FBQTtFQUNBLDBCQUFBO0FBREoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9wcm9kdWN0L3BsYWNlLW9yZGVyL3BsYWNlLW9yZGVyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb2x7XHJcbiAgICBwYWRkaW5nOiAxcHg7XHJcbiAgICBtYXJnaW46IDFweDtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxufVxyXG4vLyBpb24tZ3JpZHtcclxuLy8gICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuLy8gfVxyXG5cclxuLm9yZGVyU3R5cGV7XHJcbiAgICBjb2xvcjogIzZCM0QxQTtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxufVxyXG5we1xyXG4gICAgcGFkZGluZzogMHB4O1xyXG4gICAgbWFyZ2luOiAwcHg7XHJcbn1cclxuXHJcbi5vcmRlckJ1dHRvbiB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICBib3R0b206IDBweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiA0NnB4O1xyXG4gICAgZm9udC1zaXplOiAxNXB4O1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgY29sb3I6ICNGRkNDNkE7XHJcbiAgICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcclxufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { NavigationExtras, Router } from '@angular/router';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { ProductService } from '../../product.service';\n\n@Component({\n  selector: 'app-place-order',\n  templateUrl: './place-order.page.html',\n  styleUrls: ['./place-order.page.scss'],\n})\nexport class PlaceOrderPage implements OnInit {\n  \n  placeOrderList: any;\n  totalAmount: string;\n  placeOrderDetails: any[];\n\n  constructor(private loading : AlertService,private formBuilder: FormBuilder,private router: Router, private product : ProductService) { \n    if(this.router.getCurrentNavigation().extras.state){\n      this.placeOrderList =  this.router.getCurrentNavigation().extras.state.placeOrderList\n     }\n     this.chechOrdelList();\n  }\n\n  chechOrdelList(){\n    console.log(this.placeOrderList);\n    if (this.placeOrderList == undefined || this.placeOrderList == null) {\n        this.router.navigateByUrl('order-list');\n    } else{\n      let totalAmount = 0;\n      let details=[];\n      for (let i = 0; i < this.placeOrderList.length; i++) {\n        totalAmount  += this.placeOrderList[i].order_qty * parseInt(this.placeOrderList[i].unit_price);\n        details[i]={\n              \"product_id\": this.placeOrderList[i].id,\n              \"total_amount\": this.placeOrderList[i].unit_price * this.placeOrderList[i].order_qty,\n              \"qty\": this.placeOrderList[i].order_qty,\n        };\n      }\n      this.totalAmount = totalAmount.toFixed(2);\n      this.placeOrderDetails = details\n      console.log(totalAmount.toFixed(2));\n      console.log(details)\n    }\n  }\n\n  placeOrder(){\n      this.loading.present();\n      const postData = new FormData();\n      postData.append('order_number','ace_wine' + Math.random() * 9999);\n      postData.append('required_date','');\n      postData.append('sell_tex','');\n      postData.append('transact_status','1'); \n      postData.append('total_amount',this.totalAmount);\n      postData.append('order_details',JSON.stringify(this.placeOrderDetails));\n      this.product.placeOrder(postData).subscribe(\n      data => {\n        console.log(data);\n        this.loading.dismiss();\n        if(data.success){\n          this.loading.presentToastSuccess(data.success);\n          localStorage.removeItem('orderDetails');\n          let navigationExtras : NavigationExtras = {\n            state :{\n              order_id : data.order_id\n            }\n          }\n          this.router.navigate(['/order-tracking'] , navigationExtras);\n        }\n        if(data.error){\n          this.loading.presentToastError(data.error);\n        }\n      }, onerror => {\n      if (onerror.status==0) {\n        this.loading.presentToastWarning('check your internet connection.');\n        this.loading.dismiss();\n      } else if(onerror.status==500) {\n      this.loading.presentToastError('Server error.');\n      this.loading.dismiss();\n      }\n      });\n\n  }\n\n  // ionViewWillEnter(){\n   \n  // }\n  ngOnInit() {\n  }\n\n}\n"]}