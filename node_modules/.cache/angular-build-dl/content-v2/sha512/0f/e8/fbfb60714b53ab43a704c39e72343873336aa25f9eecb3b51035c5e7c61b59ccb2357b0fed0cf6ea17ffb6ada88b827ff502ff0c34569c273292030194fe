!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{mYy9:function(e,o,i){"use strict";i.r(o),i.d(o,"ShowProductPageModule",(function(){return x}));var r=i("ofXK"),a=i("3Pt+"),s=i("TEn/"),c=i("tyNb"),l=i("mrSG"),b=i("PSDb"),u=i("fXoL"),d=i("5zL6"),p=i("3LUQ"),g=i("OyHp");function f(t,n){if(1&t){var e=u.Lb();u.Kb(0,"div",22),u.Kb(1,"ion-grid"),u.Kb(2,"ion-row"),u.Kb(3,"ion-col",23),u.Ib(4,"img",24),u.Jb(),u.Kb(5,"ion-col"),u.Kb(6,"strong",25),u.jc(7),u.Jb(),u.Kb(8,"ion-grid"),u.Kb(9,"ion-row"),u.Kb(10,"ion-col"),u.Kb(11,"b",26),u.jc(12),u.Jb(),u.Ib(13,"br"),u.Kb(14,"span",27),u.jc(15),u.Jb(),u.Ib(16,"br"),u.jc(17," Qty :- "),u.Kb(18,"strong"),u.jc(19),u.Jb(),u.Jb(),u.Kb(20,"ion-col"),u.Kb(21,"b",28),u.jc(22),u.Jb(),u.Ib(23,"br"),u.Kb(24,"div",29),u.Kb(25,"button",30),u.jc(26,"More"),u.Jb(),u.Kb(27,"button",31),u.Sb("click",(function(){u.fc(e);var t=n.$implicit;return u.Ub(2).sellProduct(t)})),u.jc(28,"Sell"),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb()}if(2&t){var o=n.$implicit,i=u.Ub(2);u.xb(4),u.cc("src","",i.img_url,"",o.image.image_url,"",u.gc),u.xb(3),u.kc(o.product_name),u.xb(5),u.lc("",o.selling_price,"/"),u.xb(3),u.kc(o.product_type),u.xb(4),u.kc(o.qty),u.xb(3),u.kc(o.brand_name)}}function h(t,n){if(1&t){var e=u.Lb();u.Kb(0,"div",13),u.Kb(1,"div",14),u.Kb(2,"a",15),u.Kb(3,"h4",16),u.Kb(4,"ion-grid"),u.Kb(5,"ion-row"),u.Kb(6,"ion-col"),u.jc(7),u.Jb(),u.Kb(8,"ion-col",17),u.Kb(9,"span",18),u.Ib(10,"ion-icon",19),u.jc(11),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Kb(12,"div",20),u.Kb(13,"div",6),u.Ib(14,"span",7),u.Kb(15,"ion-input",8),u.Sb("ionInput",(function(t){u.fc(e);var o=n.$implicit,i=n.index;return u.Ub().findProductName(t,o.category_name,i)})),u.Jb(),u.Jb(),u.ic(16,f,29,7,"div",21),u.Jb(),u.Jb()}if(2&t){var o=n.$implicit;u.xb(2),u.bc("href","#",o.category_name,"",u.gc),u.xb(5),u.lc(" ",o.category_name," "),u.xb(4),u.kc(o.total_amount),u.xb(1),u.ac("id",o.category_name),u.xb(4),u.Zb("ngForOf",o.products)}}var m,v,y,J=[{path:"",component:(m=function(){function e(n,o,i,r,a,s,c){t(this,e),this.routerOutlet=n,this.modalController=o,this.env=i,this.loading=r,this.formBuilder=a,this.router=s,this.product=c,this.sellProductDetails=[],this.img_url=i.IMG_URL}var o,i,r;return o=e,(i=[{key:"doRefresh",value:function(t){console.log("Begin async operation"),setTimeout((function(){console.log("Async operation has ended"),t.target.complete()}),2e3)}},{key:"loadData",value:function(t){setTimeout((function(){t.target.complete()}),2e3)}},{key:"ionViewWillEnter",value:function(){sessionStorage.removeItem("productData"),this.getProduct()}},{key:"getProduct",value:function(){var t=this;this.loading.present(),this.product.getProducts().subscribe((function(n){console.log(n),t.products=n,t.allProducts=n,sessionStorage.setItem("productData",JSON.stringify({datas:n})),t.loading.dismiss(),n.success&&(t.loading.dismiss(),t.loading.presentToastSuccess(n.success)),n.error&&(t.loading.dismiss(),t.loading.presentToastError(n.error))}),(function(n){0==n.status?(t.loading.presentToastWarning("check your internet connection."),t.loading.dismiss()):500==n.status&&(t.loading.dismiss(),t.loading.presentToastError("Server error."))}))}},{key:"findCategoryName",value:function(t){if(t.target.value.length>0){for(var n=[],e=0;e<this.allProducts.length;e++)this.allProducts[e].category_name.slice(0,t.target.value.length)==t.target.value&&n.push(this.allProducts[e]);this.products=n}else this.products=this.allProducts}},{key:"findProductName",value:function(t,n,e){for(var o=JSON.parse(sessionStorage.getItem("productData")),i=0;i<o.datas.length;i++)if(o.datas[i].category_name==n)if(t.target.value.length>0){for(var r=[],a=0;a<o.datas[i].products.length;a++){var s=o.datas[i].products[a].selling_price,c=o.datas[i].products[a].brand_name;o.datas[i].products[a].product_name.slice(0,t.target.value.length)==t.target.value&&r.push(o.datas[i].products[a]),s.slice(0,t.target.value.length)==t.target.value&&r.push(o.datas[i].products[a]),c.slice(0,t.target.value.length)==t.target.value&&r.push(o.datas[i].products[a])}this.products[e].products=r}else this.products[e].products=o.datas[i].products}},{key:"sellProduct",value:function(t){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,o=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log(t),!(t.qty>0)){n.next=9;break}return this.sellProductDetails.push(t),n.next=4,this.modalController.create({component:b.a,cssClass:"my-custom-class",componentProps:{productDetails:this.sellProductDetails},swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl});case 4:return(e=n.sent).onDidDismiss().then((function(t){console.log(t),t.data.success&&o.getProduct()})),n.next=8,e.present();case 8:return n.abrupt("return",n.sent);case 9:this.loading.presentToastWarning("Not have a Product.");case 10:case"end":return n.stop()}}),n,this)})))}},{key:"ngOnInit",value:function(){}}])&&n(o.prototype,i),r&&n(o,r),e}(),m.\u0275fac=function(t){return new(t||m)(u.Hb(s.G),u.Hb(s.T),u.Hb(d.a),u.Hb(p.a),u.Hb(a.a),u.Hb(c.g),u.Hb(g.a))},m.\u0275cmp=u.Bb({type:m,selectors:[["app-show-product"]],decls:19,vars:1,consts:[["slot","start"],["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","pullingText","Pull to refresh","refreshingSpinner","circles"],["vertical","bottom","horizontal","end","slot","fixed"],["routerLink","/add-product"],["name","add"],[1,"form-group","has-feedback","has-search",2,"margin","5px 4px"],[1,"glyphicon","glyphicon-search","form-control-feedback"],["type","text","placeholder","Search",1,"form-control",3,"ionInput"],["id","accordion",1,"panel-group",2,"margin","5px 4px"],["class","panel panel-primary",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading..."],[1,"panel","panel-primary"],[1,"panel-heading"],["data-toggle","collapse","data-parent","#accordion",3,"href"],[1,"panel-title",2,"color","white"],[2,"text-align","right"],[2,"font-size","15px","font-weight","bold","color","brown","text-shadow","1px 1px 0px black"],["name","wallet-outline"],[1,"panel-collapse","collapse",3,"id"],["class","panel-body","style","padding: 2px;",4,"ngFor","ngForOf"],[1,"panel-body",2,"padding","2px"],["size","4"],["height","60","width","60",3,"src"],[2,"color","brown","font-size","large","font-style","oblique","font-family","auto"],[2,"color","darkgreen","font-style","oblique","font-family","auto"],[2,"font-size","small"],[1,"text-capitalize","info"],[1,"btn-group",2,"text-align","center"],["type","button",1,"btn","btn-primary","btn-sm"],["type","button",1,"btn","btn-info","btn-sm",3,"click"]],template:function(t,n){1&t&&(u.Kb(0,"ion-header"),u.Kb(1,"ion-toolbar"),u.Kb(2,"ion-buttons",0),u.Ib(3,"ion-menu-button"),u.Jb(),u.Kb(4,"ion-title"),u.jc(5,"All Products"),u.Jb(),u.Jb(),u.Jb(),u.Kb(6,"ion-content"),u.Kb(7,"ion-refresher",1),u.Sb("ionRefresh",(function(t){return n.doRefresh(t)})),u.Ib(8,"ion-refresher-content",2),u.Jb(),u.Kb(9,"ion-fab",3),u.Kb(10,"ion-fab-button",4),u.Ib(11,"ion-icon",5),u.Jb(),u.Jb(),u.Kb(12,"div",6),u.Ib(13,"span",7),u.Kb(14,"ion-input",8),u.Sb("ionInput",(function(t){return n.findCategoryName(t)})),u.Jb(),u.Jb(),u.Kb(15,"div",9),u.ic(16,h,17,5,"div",10),u.Jb(),u.Kb(17,"ion-infinite-scroll",11),u.Sb("ionInfinite",(function(t){return n.loadData(t)})),u.Ib(18,"ion-infinite-scroll-content",12),u.Jb(),u.Jb()),2&t&&(u.xb(16),u.Zb("ngForOf",n.products))},directives:[s.o,s.P,s.d,s.B,s.O,s.j,s.E,s.F,s.l,s.m,s.X,c.h,s.p,s.s,s.Z,r.i,s.q,s.r,s.n,s.H,s.i],styles:["ion-col[_ngcontent-%COMP%]{padding:2px}ion-grid[_ngcontent-%COMP%], ion-list[_ngcontent-%COMP%]{padding:1.5px}.item-native[_ngcontent-%COMP%]{padding:3px}.item-inner[_ngcontent-%COMP%]{padding:1px}"]}),m)}],K=((y=function n(){t(this,n)}).\u0275mod=u.Fb({type:y}),y.\u0275inj=u.Eb({factory:function(t){return new(t||y)},imports:[[c.i.forChild(J)],c.i]}),y),x=((v=function n(){t(this,n)}).\u0275mod=u.Fb({type:v}),v.\u0275inj=u.Eb({factory:function(t){return new(t||v)},imports:[[r.b,a.d,s.Q,K]]}),v)}}])}();