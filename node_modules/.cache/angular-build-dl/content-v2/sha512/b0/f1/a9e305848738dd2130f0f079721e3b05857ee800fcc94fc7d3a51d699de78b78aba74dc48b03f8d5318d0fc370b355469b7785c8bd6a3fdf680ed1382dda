!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{gv6F:function(t,n,i){"use strict";i.r(n),i.d(n,"SimSwapPageModule",(function(){return F}));var a,r=i("ofXK"),s=i("3Pt+"),c=i("TEn/"),b=i("tyNb"),l=i("mPz0"),u=i("fXoL"),m=i("tk/3"),p=i("vkgz"),d=i("5zL6"),h=((a=function(){function t(o,n){e(this,t),this.http=o,this.env=n,this.ifLogin=JSON.parse(localStorage.getItem("user"))}return o(t,[{key:"uploadDocuments",value:function(e){var t=new m.c({Authorization:this.ifLogin.token_type+" "+this.ifLogin.access_token});return this.http.post(this.env.API_URL+"auth/upload-documents",e,{headers:t}).pipe(Object(p.a)((function(e){return e})))}},{key:"addSimDetails",value:function(e){var t=new m.c({Authorization:this.ifLogin.token_type+" "+this.ifLogin.access_token});return this.http.post(this.env.API_URL+"auth/add-sim_details",e,{headers:t}).pipe(Object(p.a)((function(e){return e})))}}]),t}()).\u0275fac=function(e){return new(e||a)(u.Ob(m.a),u.Ob(d.a))},a.\u0275prov=u.Db({token:a,factory:a.\u0275fac,providedIn:"root"}),a),f=i("BLr9"),g=i("QzWm"),y=i("3LUQ"),_=i("TzAO"),S=i("Wwn5"),v=i("I7pt"),T=i("KqBo");function J(e,t){if(1&e&&(u.Kb(0,"span"),u.Ib(1,"img",10),u.Jb()),2&e){var o=u.Ub();u.xb(1),u.Zb("src",o.photoFontSite,u.gc)}}function K(e,t){if(1&e&&(u.Kb(0,"span"),u.Ib(1,"img",10),u.Jb()),2&e){var o=u.Ub();u.xb(1),u.Zb("src",o.photoBackSite,u.gc)}}function x(e,t){if(1&e&&(u.Kb(0,"span"),u.Ib(1,"img",10),u.Jb()),2&e){var o=u.Ub();u.xb(1),u.Zb("src",o.OldSimOrGd,u.gc)}}function w(e,t){if(1&e){var o=u.Lb();u.Kb(0,"ion-item"),u.Kb(1,"div"),u.Kb(2,"ion-button",11),u.Sb("click",(function(){return u.fc(o),u.Ub().uploadDocuments()})),u.jc(3,"Upload Documents"),u.Jb(),u.Jb(),u.Jb()}}function C(e,t){if(1&e){var o=u.Lb();u.Kb(0,"div"),u.Kb(1,"ion-item"),u.Kb(2,"ion-button",12),u.Sb("click",(function(){return u.fc(o),u.Ub().scannQeCode()})),u.jc(3,"Scann QR Code"),u.Jb(),u.Jb(),u.Kb(4,"ion-item"),u.Kb(5,"ion-label",13),u.jc(6,"Customer Name"),u.Jb(),u.Ib(7,"ion-input",14),u.Jb(),u.Kb(8,"ion-item"),u.Kb(9,"ion-label",13),u.jc(10,"Customer Swap Phone Number"),u.Jb(),u.Ib(11,"ion-input",15),u.Jb(),u.Kb(12,"ion-item"),u.Kb(13,"ion-label",13),u.jc(14,"Customer Aadhar Number"),u.Jb(),u.Ib(15,"ion-input",16),u.Jb(),u.Kb(16,"ion-item"),u.Kb(17,"ion-label",13),u.jc(18,"Customer New Sim Number"),u.Jb(),u.Ib(19,"ion-input",17),u.Jb(),u.Kb(20,"ion-item"),u.Kb(21,"ion-label"),u.jc(22,"Customer Sex"),u.Jb(),u.Kb(23,"ion-select",18),u.Kb(24,"ion-select-option",19),u.jc(25," Male "),u.Jb(),u.Kb(26,"ion-select-option",20),u.jc(27," Fimale "),u.Jb(),u.Kb(28,"ion-select-option",21),u.jc(29," Others "),u.Jb(),u.Jb(),u.Jb(),u.Kb(30,"ion-item"),u.Kb(31,"ion-label",13),u.jc(32,"Father Name (optional)"),u.Jb(),u.Ib(33,"ion-input",22),u.Jb(),u.Kb(34,"ion-item"),u.Kb(35,"ion-label",13),u.jc(36,"Customer Village (optional)"),u.Jb(),u.Ib(37,"ion-input",23),u.Jb(),u.Kb(38,"ion-item"),u.Kb(39,"ion-label",13),u.jc(40,"Customer Post Office (optional)"),u.Jb(),u.Ib(41,"ion-input",24),u.Jb(),u.Kb(42,"ion-item"),u.Kb(43,"ion-label",13),u.jc(44,"Customer Police Station (optional)"),u.Jb(),u.Ib(45,"ion-input",25),u.Jb(),u.Kb(46,"ion-item"),u.Kb(47,"ion-label",13),u.jc(48,"Customer Dist (optional)"),u.Jb(),u.Ib(49,"ion-input",26),u.Jb(),u.Kb(50,"ion-item"),u.Kb(51,"ion-label",13),u.jc(52,"Customer state (optional)"),u.Jb(),u.Ib(53,"ion-input",27),u.Jb(),u.Kb(54,"ion-item"),u.Kb(55,"ion-label",13),u.jc(56,"Customer Pin (optional)"),u.Jb(),u.Ib(57,"ion-input",28),u.Jb(),u.Kb(58,"ion-item"),u.Kb(59,"ion-label"),u.jc(60,"Customer DOB (optional)"),u.Jb(),u.Ib(61,"ion-datetime",29),u.Jb(),u.Jb()}}var k,I,P,j=[{path:"",component:(k=function(){function t(o,n,i,a,r,c,b,l,u,m,p,d,h,f){var g=this;e(this,t),this.SimService=o,this.platform=n,this.qrScanner=i,this.env=a,this.payment=r,this.loading=c,this.contacts=b,this.callNumber=l,this.sms=u,this.toastCtrl=m,this.modalController=p,this.camera=d,this.formBuilder=h,this.router=f,this.simSwapForm=this.formBuilder.group({c_name:["",[s.j.required]],c_swap_phone:["",s.j.required],c_new_sim_no:["",s.j.required],c_uid_number:["",s.j.required],c_sex:["",s.j.required],c_f_name:[""],c_village:[""],c_post:[""],c_ps:[""],c_dist:[""],c_state:[""],c_pin:[""],c_dob:[""],c_immage_id:[""]}),this.paymetURL=this.env.paymetURL,this.platform.backButton.subscribeWithPriority(0,(function(){document.getElementsByTagName("body")[0].style.opacity="1",g.scannData.unsubscribe()}))}return o(t,[{key:"doRefresh",value:function(e){console.log("Begin async operation"),setTimeout((function(){console.log("Async operation has ended"),e.target.complete()}),2e3)}},{key:"captureFontImmage",value:function(){var e=this;this.camera.getPicture({quality:30,allowEdit:!0,saveToPhotoAlbum:!0,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then((function(t){e.photoFontSite="data:image/jpeg;base64,"+t,e.uploadFontPhoto=t}),(function(t){console.log(t),e.loading.presentToastWarning(t)}))}},{key:"captureBackImmage",value:function(){var e=this;this.camera.getPicture({quality:30,allowEdit:!0,saveToPhotoAlbum:!0,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then((function(t){e.photoBackSite="data:image/jpeg;base64,"+t,e.uploadBackPhoto=t}),(function(t){console.log(t),e.loading.presentToastWarning(t)}))}},{key:"captureOldsimOrGd",value:function(){var e=this;this.camera.getPicture({quality:30,allowEdit:!0,saveToPhotoAlbum:!0,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then((function(t){e.OldSimOrGd="data:image/jpeg;base64,"+t,e.uploadSimOrGdPhoto=t}),(function(t){console.log(t),e.loading.presentToastWarning(t)}))}},{key:"scannQeCode",value:function(){var e=this;this.qrScanner.prepare().then((function(t){t.authorized&&(e.qrScanner.show(),e.scannData=document.getElementsByTagName("body")[0].style.opacity="0",e.scannData=e.qrScanner.scan().subscribe((function(t){document.getElementsByTagName("body")[0].style.opacity="1",e.qrScanner.hide(),e.scannData.unsubscribe();var o=t,n=(new l).xml2js(o);e.qrText=n.PrintLetterBarcodeData,e.qrText&&(e.simSwapForm.controls.c_name.setValue(e.qrText?e.qrText._name:""),e.simSwapForm.controls.c_uid_number.setValue(e.qrText?e.qrText._uid:""),e.simSwapForm.controls.c_sex.setValue(e.qrText?e.qrText._gender:""),e.simSwapForm.controls.c_f_name.setValue(e.qrText?e.qrText._gname:""),e.simSwapForm.controls.c_village.setValue(e.qrText?e.qrText._vtc:""),e.simSwapForm.controls.c_post.setValue(e.qrText?e.qrText._po:""),e.simSwapForm.controls.c_ps.setValue(e.qrText?e.qrText._subdist:""),e.simSwapForm.controls.c_dist.setValue(e.qrText?e.qrText._dist:""),e.simSwapForm.controls.c_state.setValue(e.qrText?e.qrText._state:""),e.simSwapForm.controls.c_pin.setValue(e.qrText?e.qrText._pc:""),e.simSwapForm.controls.c_dob.setValue(e.qrText?e.qrText._dob:""),document.getElementsByTagName("body")[0].style.opacity="1",e.scannData.unsubscribe())}),(function(e){alert(JSON.stringify(e))})))})).catch((function(e){return console.log("Error is",e)}))}},{key:"ionViewWillEnter",value:function(){}},{key:"uploadDocuments",value:function(){var e=this;this.loading.present();var t=new FormData;t.append("uploadFontPhoto",this.uploadFontPhoto),t.append("uploadBackPhoto",this.uploadBackPhoto),t.append("uploadSimOrGdPhoto",this.uploadSimOrGdPhoto),this.SimService.uploadDocuments(t).subscribe((function(t){console.log(t),alert(t.image_id),alert(t.image_id[0].font_image),t.success&&(e.simSwapForm.controls.c_immage_id.setValue(t?t.image_id:""),e.uploadId=t.image_id,e.loading.dismiss(),e.loading.presentToastSuccess(t.success)),t.error&&(e.loading.dismiss(),e.loading.presentToastError(t.error))}),(function(t){0==t.status?(e.loading.presentToastWarning("check your internet connection."),e.loading.dismiss()):500==t.status&&(e.loading.dismiss(),e.loading.presentToastError("Server error."))}))}},{key:"addSimSwapData",value:function(){var e=this;this.loading.present(),this.SimService.addSimDetails(this.simSwapForm.value).subscribe((function(t){console.log(t),e.loading.dismiss(),t.success&&(e.loading.dismiss(),e.loading.presentToastSuccess(t.success),e.router.navigateByUrl("/show-products")),t.error&&(e.loading.dismiss(),e.loading.presentToastWarning(t.error))}),(function(t){0==t.status?(e.loading.presentToastWarning("check your internet connection."),e.loading.dismiss()):500==t.status&&(e.loading.dismiss(),e.loading.presentToastError("Server error."))}))}},{key:"ngOnInit",value:function(){}}]),t}(),k.\u0275fac=function(e){return new(e||k)(u.Hb(h),u.Hb(c.W),u.Hb(f.a),u.Hb(d.a),u.Hb(g.a),u.Hb(y.a),u.Hb(_.c),u.Hb(S.a),u.Hb(v.a),u.Hb(c.ab),u.Hb(c.T),u.Hb(T.a),u.Hb(s.a),u.Hb(b.g))},k.\u0275cmp=u.Bb({type:k,selectors:[["app-sim-swap"]],decls:36,vars:7,consts:[["slot","start"],["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","pullingText","Pull to refresh","s","","refreshingSpinner","circles"],[3,"formGroup","ngSubmit"],[2,"margin-top","10px"],[1,"choseCamera"],["name","camera-outline",1,"choseCamera",3,"click"],[4,"ngIf"],["name","camera-outline",3,"click"],["type","submit","shape","round","color","success","expand","block",3,"disabled"],["height","60","width","60",1,"imageClasss",3,"src"],[3,"click"],["size","small","color","secondary","shape","round",3,"click"],["position","floating"],["type","text","formControlName","c_name"],["type","number","formControlName","c_swap_phone"],["type","number","formControlName","c_uid_number"],["type","number","formControlName","c_new_sim_no"],["formControlName","c_sex","interface","popover","placeholder","Select Gender"],["value","Male"],["value","Fimale"],["value","Others"],["type","text","formControlName","c_f_name"],["type","text","formControlName","c_village"],["type","text","formControlName","c_post"],["type","text","formControlName","c_ps"],["type","text","formControlName","c_dist"],["type","text","formControlName","c_state"],["type","number","formControlName","c_pin"],["formControlName","c_dob","displayFormat","DD/MM/YYYY"]],template:function(e,t){1&e&&(u.Kb(0,"ion-header"),u.Kb(1,"ion-toolbar"),u.Kb(2,"ion-buttons",0),u.Ib(3,"ion-menu-button"),u.Jb(),u.Kb(4,"ion-title"),u.jc(5,"Sim Swap"),u.Jb(),u.Jb(),u.Jb(),u.Kb(6,"ion-content"),u.Kb(7,"ion-refresher",1),u.Sb("ionRefresh",(function(e){return t.doRefresh(e)})),u.Ib(8,"ion-refresher-content",2),u.Jb(),u.Kb(9,"form",3),u.Sb("ngSubmit",(function(){return t.addSimSwapData()})),u.Kb(10,"ion-card",4),u.Kb(11,"ion-item"),u.Kb(12,"div",5),u.Kb(13,"ion-icon",6),u.Sb("click",(function(){return t.captureFontImmage()})),u.Jb(),u.Jb(),u.Kb(14,"strong"),u.jc(15,"Capture Font Site"),u.Jb(),u.Kb(16,"div"),u.ic(17,J,2,1,"span",7),u.Jb(),u.Jb(),u.Kb(18,"ion-item"),u.Kb(19,"div",5),u.Kb(20,"ion-icon",8),u.Sb("click",(function(){return t.captureBackImmage()})),u.Jb(),u.Jb(),u.Kb(21,"strong"),u.jc(22,"Capture Back Site"),u.Jb(),u.Kb(23,"div"),u.ic(24,K,2,1,"span",7),u.Jb(),u.Jb(),u.Kb(25,"ion-item"),u.Kb(26,"div",5),u.Kb(27,"ion-icon",8),u.Sb("click",(function(){return t.captureOldsimOrGd()})),u.Jb(),u.Jb(),u.Kb(28,"strong"),u.jc(29,"Capture old SIM or GD copy"),u.Jb(),u.Kb(30,"div"),u.ic(31,x,2,1,"span",7),u.Jb(),u.Jb(),u.ic(32,w,4,0,"ion-item",7),u.ic(33,C,62,0,"div",7),u.Jb(),u.Kb(34,"ion-button",9),u.jc(35,"Submit"),u.Jb(),u.Jb(),u.Jb()),2&e&&(u.xb(9),u.Zb("formGroup",t.simSwapForm),u.xb(8),u.Zb("ngIf",t.photoFontSite),u.xb(7),u.Zb("ngIf",t.photoBackSite),u.xb(7),u.Zb("ngIf",t.OldSimOrGd),u.xb(1),u.Zb("ngIf",t.OldSimOrGd&&t.photoBackSite&&t.photoFontSite),u.xb(1),u.Zb("ngIf",t.uploadId),u.xb(1),u.Zb("disabled",!t.simSwapForm.valid))},directives:[c.o,c.P,c.d,c.B,c.O,c.j,c.E,c.F,s.k,s.h,s.c,c.e,c.t,c.p,r.j,c.c,c.x,c.s,c.Z,s.g,s.b,c.V,c.I,c.Y,c.J,c.k],styles:["ion-button[_ngcontent-%COMP%]{font-size:10px}.choseCamera[_ngcontent-%COMP%]{font-size:40px;margin-right:15px}.selectCamera[_ngcontent-%COMP%]{font-size:35px;margin-right:15px}.uploads[_ngcontent-%COMP%]{font-size:30px;margin-left:15px}.imageClasss[_ngcontent-%COMP%]{margin-left:10px;border-radius:25px;border:1px solid #00f}strong[_ngcontent-%COMP%]{font-size:10px}"]}),k)}],q=((P=function t(){e(this,t)}).\u0275mod=u.Fb({type:P}),P.\u0275inj=u.Eb({factory:function(e){return new(e||P)},imports:[[b.i.forChild(j)],b.i]}),P),F=((I=function t(){e(this,t)}).\u0275mod=u.Fb({type:I}),I.\u0275inj=u.Eb({factory:function(e){return new(e||I)},imports:[[s.i,b.i,m.b,r.b,s.d,c.Q,q]]}),I)}}])}();